var Guacamole=Guacamole||{};Guacamole.ArrayBufferReader=function(a){var b=this;a.onblob=function(a){a=window.atob(a);for(var c=new ArrayBuffer(a.length),d=new Uint8Array(c),f=0;f<a.length;f++)d[f]=a.charCodeAt(f);if(b.ondata)b.ondata(c)};a.onend=function(){if(b.onend)b.onend()};this.onend=this.ondata=null};Guacamole=Guacamole||{};
Guacamole.ArrayBufferWriter=function(a){function b(c){for(var b="",f=0;f<c.byteLength;f++)b+=String.fromCharCode(c[f]);a.sendBlob(window.btoa(b))}var e=this;a.onack=function(a){if(e.onack)e.onack(a)};this.blobLength=Guacamole.ArrayBufferWriter.DEFAULT_BLOB_LENGTH;this.sendData=function(a){a=new Uint8Array(a);if(a.length<=e.blobLength)b(a);else for(var c=0;c<a.length;c+=e.blobLength)b(a.subarray(c,c+e.blobLength))};this.sendEnd=function(){a.sendEnd()};this.onack=null};
Guacamole.ArrayBufferWriter.DEFAULT_BLOB_LENGTH=6048;Guacamole=Guacamole||{};Guacamole.AudioContextFactory={singleton:null,getAudioContext:function(){var a=window.AudioContext||window.webkitAudioContext;if(a)try{return Guacamole.AudioContextFactory.singleton||(Guacamole.AudioContextFactory.singleton=new a),Guacamole.AudioContextFactory.singleton}catch(b){}return null}};Guacamole=Guacamole||{};Guacamole.AudioPlayer=function(){this.sync=function(){}};Guacamole.AudioPlayer.isSupportedType=function(a){return Guacamole.RawAudioPlayer.isSupportedType(a)};
Guacamole.AudioPlayer.getSupportedTypes=function(){return Guacamole.RawAudioPlayer.getSupportedTypes()};Guacamole.AudioPlayer.getInstance=function(a,b){return Guacamole.RawAudioPlayer.isSupportedType(b)?new Guacamole.RawAudioPlayer(a,b):null};
Guacamole.RawAudioPlayer=function(a,b){var e=Guacamole.RawAudioFormat.parse(b),c=Guacamole.AudioContextFactory.getAudioContext(),d=c.currentTime;a=new Guacamole.ArrayBufferReader(a);var f=1===e.bytesPerSample?window.Int8Array:window.Int16Array,g=1===e.bytesPerSample?128:32768,h=[],k=function(a){if(1>=a.length)return a[0];var c=0;a.forEach(function(a){c+=a.length});var b=0,d=new f(c);a.forEach(function(a){d.set(a,b);b+=a.length});return d};a.ondata=function(a){h.push(new f(new f(a)));if(a=k(h)){for(var b=
Number.MAX_VALUE,l=a.length,q=Math.floor(.02*e.rate),q=Math.max(e.channels*q,e.channels*(Math.floor(a.length/e.channels)-q));q<a.length;q+=e.channels){for(var p=0,t=0;t<e.channels;t++)p+=Math.abs(a[q+t]);p<=b&&(l=q+e.channels,b=p)}h=l===a.length?[a]:[new f(a.buffer.slice(0,l*e.bytesPerSample)),new f(a.buffer.slice(l*e.bytesPerSample))];a=h.shift()}else a=null;if(a){b=c.currentTime;d<b&&(d=b);b=c.createBufferSource();b.connect(c.destination);b.start||(b.start=b.noteOn);l=a;q=l.length/e.channels;p=
c.currentTime;d<p&&(d=p);p=c.createBuffer(e.channels,q,e.rate);for(t=0;t<e.channels;t++)for(var u=p.getChannelData(t),v=t,r=0;r<q;r++)u[r]=l[v]/g,v+=e.channels;b.buffer=p;b.start(d);d+=a.length/e.channels/e.rate}};this.sync=function(){d=Math.min(d,c.currentTime+.3)}};Guacamole.RawAudioPlayer.prototype=new Guacamole.AudioPlayer;Guacamole.RawAudioPlayer.isSupportedType=function(a){return Guacamole.AudioContextFactory.getAudioContext()?null!==Guacamole.RawAudioFormat.parse(a):!1};
Guacamole.RawAudioPlayer.getSupportedTypes=function(){return Guacamole.AudioContextFactory.getAudioContext()?["audio/L8","audio/L16"]:[]};Guacamole=Guacamole||{};Guacamole.AudioRecorder=function(){this.onerror=this.onclose=null};Guacamole.AudioRecorder.isSupportedType=function(a){return Guacamole.RawAudioRecorder.isSupportedType(a)};Guacamole.AudioRecorder.getSupportedTypes=function(){return Guacamole.RawAudioRecorder.getSupportedTypes()};
Guacamole.AudioRecorder.getInstance=function(a,b){return Guacamole.RawAudioRecorder.isSupportedType(b)?new Guacamole.RawAudioRecorder(a,b):null};
Guacamole.RawAudioRecorder=function(a,b){var e=this,c=Guacamole.RawAudioFormat.parse(b),d=Guacamole.AudioContextFactory.getAudioContext();navigator.mediaDevices||(navigator.mediaDevices={});navigator.mediaDevices.getUserMedia||(navigator.mediaDevices.getUserMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia).bind(navigator));var f=new Guacamole.ArrayBufferWriter(a),g=1===c.bytesPerSample?window.Int8Array:window.Int16Array,h=1===c.bytesPerSample?
128:32768,k=0,l=0,m=null,n=null,q=null,p=function(a){if(0===a)return 1;a*=Math.PI;return Math.sin(a)/a},t=function(a){k+=a.length;var b=Math.round(k*c.rate/a.sampleRate)-l;l+=b;for(var d=new g(b*c.channels),f=0;f<c.channels;f++)for(var e=a.getChannelData(f),m=f,n=0;n<b;n++){for(var u=m,t=e,q=n/(b-1)*(t.length-1),v=Math.floor(q)+3,r=0,G=Math.floor(q)-3+1;G<=v;G++){var J=t[G]||0,D;D=q-G;D=-3<D&&3>D?p(D)*p(D/3):0;r+=J*D}d[u]=r*h;m+=c.channels}return d},u=function(a){q=d.createScriptProcessor(2048,c.channels,
c.channels);q.connect(d.destination);q.onaudioprocess=function(a){f.sendData(t(a.inputBuffer).buffer)};n=d.createMediaStreamSource(a);n.connect(q);"suspended"===d.state&&d.resume();m=a},v=function(){f.sendEnd();if(e.onerror)e.onerror()};f.onack=function(a){if(a.code!==Guacamole.Status.Code.SUCCESS||m){n&&n.disconnect();q&&q.disconnect();if(m)for(var c=m.getTracks(),b=0;b<c.length;b++)c[b].stop();m=n=q=null;f.sendEnd();f.onack=null;if(a.code===Guacamole.Status.Code.RESOURCE_CLOSED){if(e.onclose)e.onclose()}else if(e.onerror)e.onerror()}else(a=
navigator.mediaDevices.getUserMedia({audio:!0},u,v))&&a.then&&a.then(u,v)}};Guacamole.RawAudioRecorder.prototype=new Guacamole.AudioRecorder;Guacamole.RawAudioRecorder.isSupportedType=function(a){return Guacamole.AudioContextFactory.getAudioContext()?null!==Guacamole.RawAudioFormat.parse(a):!1};Guacamole.RawAudioRecorder.getSupportedTypes=function(){return Guacamole.AudioContextFactory.getAudioContext()?["audio/L8","audio/L16"]:[]};Guacamole=Guacamole||{};
Guacamole.BlobReader=function(a,b){var e=this,c=0,d;d=window.BlobBuilder?new BlobBuilder:window.WebKitBlobBuilder?new WebKitBlobBuilder:window.MozBlobBuilder?new MozBlobBuilder:new function(){var a=[];this.append=function(c){a.push(new Blob([c],{type:b}))};this.getBlob=function(){return new Blob(a,{type:b})}};a.onblob=function(b){b=window.atob(b);for(var f=new ArrayBuffer(b.length),h=new Uint8Array(f),k=0;k<b.length;k++)h[k]=b.charCodeAt(k);d.append(f);c+=f.byteLength;if(e.onprogress)e.onprogress(f.byteLength);
a.sendAck("OK",0)};a.onend=function(){if(e.onend)e.onend()};this.getLength=function(){return c};this.getBlob=function(){return d.getBlob()};this.onend=this.onprogress=null};Guacamole=Guacamole||{};
Guacamole.BlobWriter=function(a){var b=this,e=new Guacamole.ArrayBufferWriter(a);e.onack=function(a){if(b.onack)b.onack(a)};this.sendBlob=function(a){var c=0,f=new FileReader,g=function(){if(c>=a.size){if(b.oncomplete)b.oncomplete(a)}else{var d;a:{d=c;var g=c+e.blobLength,l=(a.slice||a.webkitSlice||a.mozSlice).bind(a),m=g-d;if(m!==g){var n=l(d,m);if(n.size===m){d=n;break a}}d=l(d,g)}c+=e.blobLength;f.readAsArrayBuffer(d)}};f.onload=function(){e.sendData(f.result);e.onack=function(d){if(b.onack)b.onack(d);
if(!d.isError()){if(b.onprogress)b.onprogress(a,c-e.blobLength);g()}}};f.onerror=function(){if(b.onerror)b.onerror(a,c,f.error)};g()};this.sendEnd=function(){e.sendEnd()};this.oncomplete=this.onprogress=this.onerror=this.onack=null};Guacamole=Guacamole||{};
Guacamole.Client=function(a){function b(a){if(a!=d&&(d=a,c.onstatechange))c.onstatechange(d)}function e(){return 3==d||2==d}var c=this,d=0,f=0,g=null,h={0:"butt",1:"round",2:"square"},k={0:"bevel",1:"miter",2:"round"},l=new Guacamole.Display,m={},n={},q=[],p=[],t=[],u=new Guacamole.IntegerPool,v=[];this.exportState=function(a){var c={currentState:d,currentTimestamp:f,layers:{}},b={},e;for(e in m)b[e]=m[e];l.flush(function(){for(var d in b){var f=parseInt(d),e=b[d],g=e.toCanvas(),h={width:e.width,
height:e.height};e.width&&e.height&&(h.url=g.toDataURL("image/png"));if(0<f){h.x=e.x;h.y=e.y;h.z=e.z;h.alpha=e.alpha;h.matrix=e.matrix;f=h;a:{if(e=e.parent)for(g in g=void 0,m)if(e===m[g]){e=parseInt(g);break a}e=null}f.parent=e}c.layers[d]=h}a(c)})};this.importState=function(a,c){var b,e;d=a.currentState;f=a.currentTimestamp;for(b in m)e=parseInt(b),0<e&&l.dispose(m[b]);m={};for(b in a.layers){e=parseInt(b);var g=a.layers[b],h=r(e);l.resize(h,g.width,g.height);g.url&&(l.setChannelMask(h,Guacamole.Layer.SRC),
l.draw(h,0,0,g.url));0<e&&0<=g.parent&&(e=r(g.parent),l.move(h,e,g.x,g.y,g.z),l.shade(h,g.alpha),g=g.matrix,l.distort(h,g[0],g[1],g[2],g[3],g[4],g[5]))}l.flush(c)};this.getDisplay=function(){return l};this.sendSize=function(c,b){e()&&a.sendMessage("size",c,b)};this.sendKeyEvent=function(c,b){e()&&a.sendMessage("key",b,c)};this.sendMouseState=function(c){if(e()){l.moveCursor(Math.floor(c.x),Math.floor(c.y));var b=0;c.left&&(b|=1);c.middle&&(b|=2);c.right&&(b|=4);c.up&&(b|=8);c.down&&(b|=16);a.sendMessage("mouse",
Math.floor(c.x),Math.floor(c.y),b)}};this.createOutputStream=function(){var a=u.next();return v[a]=new Guacamole.OutputStream(c,a)};this.createAudioStream=function(b){var d=c.createOutputStream();a.sendMessage("audio",d.index,b);return d};this.createFileStream=function(b,d){var f=c.createOutputStream();a.sendMessage("file",f.index,b,d);return f};this.createPipeStream=function(b,d){var f=c.createOutputStream();a.sendMessage("pipe",f.index,b,d);return f};this.createArgumentValueStream=function(b,d){var f=
c.createOutputStream();a.sendMessage("argv",f.index,b,d);return f};this.createObjectOutputStream=function(b,d,f){var e=c.createOutputStream();a.sendMessage("put",b,e.index,d,f);return e};this.requestObjectInputStream=function(c,b){e()&&a.sendMessage("get",c,b)};this.sendAck=function(c,b,d){e()&&a.sendMessage("ack",c,b,d)};this.sendBlob=function(c,b){e()&&a.sendMessage("blob",c,b)};this.endStream=function(c){e()&&(a.sendMessage("end",c),v[c]&&(u.free(c),delete v[c]))};this.onsync=this.onrequired=this.onpipe=
this.onfilesystem=this.onfile=this.onargv=this.onvideo=this.onaudio=this.onerror=this.onname=this.onstatechange=null;var r=function(a){var c=m[a];c||(c=0===a?l.getDefaultLayer():0<a?l.createLayer():l.createBuffer(),m[a]=c);return c},w={"miter-limit":function(a,c){l.setMiterLimit(a,parseFloat(c))}},x={ack:function(a){var c=parseInt(a[0]),b=a[1];a=parseInt(a[2]);var d=v[c];if(d){if(d.onack)d.onack(new Guacamole.Status(a,b));256<=a&&v[c]===d&&(u.free(c),delete v[c])}},arc:function(a){var c=r(parseInt(a[0])),
b=parseInt(a[1]),d=parseInt(a[2]),f=parseInt(a[3]),e=parseFloat(a[4]),g=parseFloat(a[5]);a=parseInt(a[6]);l.arc(c,b,d,f,e,g,0!=a)},argv:function(a){var b=parseInt(a[0]),d=a[1];a=a[2];c.onargv?(b=p[b]=new Guacamole.InputStream(c,b),c.onargv(b,d,a)):c.sendAck(b,"Receiving argument values unsupported",256)},audio:function(a){var b=parseInt(a[0]);a=a[1];var d=p[b]=new Guacamole.InputStream(c,b),f=null;c.onaudio&&(f=c.onaudio(d,a));f||(f=Guacamole.AudioPlayer.getInstance(d,a));f?(n[b]=f,c.sendAck(b,"OK",
0)):c.sendAck(b,"BAD TYPE",783)},blob:function(a){var c=parseInt(a[0]);a=a[1];if((c=p[c])&&c.onblob)c.onblob(a)},body:function(a){var b=parseInt(a[0]),b=t[b],d=parseInt(a[1]),f=a[2];a=a[3];b&&b.onbody?(d=p[d]=new Guacamole.InputStream(c,d),b.onbody(d,f,a)):c.sendAck(d,"Receipt of body unsupported",256)},cfill:function(a){var c=parseInt(a[0]),b=r(parseInt(a[1])),d=parseInt(a[2]),f=parseInt(a[3]),e=parseInt(a[4]);a=parseInt(a[5]);l.setChannelMask(b,c);l.fillColor(b,d,f,e,a)},clip:function(a){a=r(parseInt(a[0]));
l.clip(a)},close:function(a){a=r(parseInt(a[0]));l.close(a)},copy:function(a){var c=r(parseInt(a[0])),b=parseInt(a[1]),d=parseInt(a[2]),f=parseInt(a[3]),e=parseInt(a[4]),g=parseInt(a[5]),h=r(parseInt(a[6])),k=parseInt(a[7]);a=parseInt(a[8]);l.setChannelMask(h,g);l.copy(c,b,d,f,e,h,k,a)},cstroke:function(a){var c=parseInt(a[0]),b=r(parseInt(a[1])),d=h[parseInt(a[2])],f=k[parseInt(a[3])],e=parseInt(a[4]),g=parseInt(a[5]),m=parseInt(a[6]),n=parseInt(a[7]);a=parseInt(a[8]);l.setChannelMask(b,c);l.strokeColor(b,
d,f,e,g,m,n,a)},cursor:function(a){var c=parseInt(a[0]),b=parseInt(a[1]),d=r(parseInt(a[2])),f=parseInt(a[3]),e=parseInt(a[4]),g=parseInt(a[5]);a=parseInt(a[6]);l.setCursor(c,b,d,f,e,g,a)},curve:function(a){var c=r(parseInt(a[0])),b=parseInt(a[1]),d=parseInt(a[2]),f=parseInt(a[3]),e=parseInt(a[4]),g=parseInt(a[5]);a=parseInt(a[6]);l.curveTo(c,b,d,f,e,g,a)},disconnect:function(a){c.disconnect()},dispose:function(a){a=parseInt(a[0]);if(0<a){var c=r(a);l.dispose(c);delete m[a]}else 0>a&&delete m[a]},
distort:function(a){var c=parseInt(a[0]),b=parseFloat(a[1]),d=parseFloat(a[2]),f=parseFloat(a[3]),e=parseFloat(a[4]),g=parseFloat(a[5]);a=parseFloat(a[6]);0<=c&&(c=r(c),l.distort(c,b,d,f,e,g,a))},error:function(a){var b=a[0];a=parseInt(a[1]);if(c.onerror)c.onerror(new Guacamole.Status(a,b));c.disconnect()},end:function(a){a=parseInt(a[0]);var c=p[a];if(c){if(c.onend)c.onend();delete p[a]}},file:function(a){var b=parseInt(a[0]),d=a[1];a=a[2];c.onfile?(b=p[b]=new Guacamole.InputStream(c,b),c.onfile(b,
d,a)):c.sendAck(b,"File transfer unsupported",256)},filesystem:function(a){var b=parseInt(a[0]);a=a[1];c.onfilesystem&&(b=t[b]=new Guacamole.Object(c,b),c.onfilesystem(b,a))},identity:function(a){a=r(parseInt(a[0]));l.setTransform(a,1,0,0,1,0,0)},img:function(a){var b=parseInt(a[0]),d=parseInt(a[1]),f=r(parseInt(a[2])),e=a[3],g=parseInt(a[4]);a=parseInt(a[5]);b=p[b]=new Guacamole.InputStream(c,b);l.setChannelMask(f,d);l.drawStream(f,g,a,b,e)},jpeg:function(a){var b=parseInt(a[0]),c=r(parseInt(a[1])),
d=parseInt(a[2]),f=parseInt(a[3]);a=a[4];l.setChannelMask(c,b);l.draw(c,d,f,"data:image/jpeg;base64,"+a)},lfill:function(a){var c=parseInt(a[0]),b=r(parseInt(a[1]));a=r(parseInt(a[2]));l.setChannelMask(b,c);l.fillLayer(b,a)},line:function(a){var b=r(parseInt(a[0])),c=parseInt(a[1]);a=parseInt(a[2]);l.lineTo(b,c,a)},lstroke:function(a){var b=parseInt(a[0]),c=r(parseInt(a[1]));a=r(parseInt(a[2]));l.setChannelMask(c,b);l.strokeLayer(c,a)},mouse:function(a){var c=parseInt(a[0]);a=parseInt(a[1]);l.showCursor(!0);
l.moveCursor(c,a)},move:function(a){var c=parseInt(a[0]),b=parseInt(a[1]),d=parseInt(a[2]),f=parseInt(a[3]);a=parseInt(a[4]);0<c&&0<=b&&(c=r(c),b=r(b),l.move(c,b,d,f,a))},name:function(a){if(c.onname)c.onname(a[0])},nest:function(c){var b=parseInt(c[0]),d=q[b];null==d&&(d=q[b]=new Guacamole.Parser,d.oninstruction=a.oninstruction);d.receive(c[1])},pipe:function(a){var b=parseInt(a[0]),d=a[1];a=a[2];c.onpipe?(b=p[b]=new Guacamole.InputStream(c,b),c.onpipe(b,d,a)):c.sendAck(b,"Named pipes unsupported",
256)},png:function(a){var b=parseInt(a[0]),c=r(parseInt(a[1])),d=parseInt(a[2]),f=parseInt(a[3]);a=a[4];l.setChannelMask(c,b);l.draw(c,d,f,"data:image/png;base64,"+a)},pop:function(a){a=r(parseInt(a[0]));l.pop(a)},push:function(a){a=r(parseInt(a[0]));l.push(a)},rect:function(a){var b=r(parseInt(a[0])),c=parseInt(a[1]),d=parseInt(a[2]),f=parseInt(a[3]);a=parseInt(a[4]);l.rect(b,c,d,f,a)},required:function(a){if(c.onrequired)c.onrequired(a)},reset:function(a){a=r(parseInt(a[0]));l.reset(a)},set:function(a){var b=
r(parseInt(a[0])),c=a[2];(a=w[a[1]])&&a(b,c)},shade:function(a){var b=parseInt(a[0]);a=parseInt(a[1]);0<=b&&(b=r(b),l.shade(b,a))},size:function(a){var b=parseInt(a[0]),b=r(b),c=parseInt(a[1]);a=parseInt(a[2]);l.resize(b,c,a)},start:function(a){var b=r(parseInt(a[0])),c=parseInt(a[1]);a=parseInt(a[2]);l.moveTo(b,c,a)},sync:function(e){var g=parseInt(e[0]);l.flush(function(){for(var b in n){var c=n[b];c&&c.sync()}g!==f&&(a.sendMessage("sync",g),f=g)});2===d&&b(3);if(c.onsync)c.onsync(g)},transfer:function(a){var b=
r(parseInt(a[0])),c=parseInt(a[1]),d=parseInt(a[2]),f=parseInt(a[3]),e=parseInt(a[4]),g=parseInt(a[5]),h=r(parseInt(a[6])),k=parseInt(a[7]);a=parseInt(a[8]);3===g?l.put(b,c,d,f,e,h,k,a):5!==g&&l.transfer(b,c,d,f,e,h,k,a,Guacamole.Client.DefaultTransferFunction[g])},transform:function(a){var b=r(parseInt(a[0])),c=parseFloat(a[1]),d=parseFloat(a[2]),f=parseFloat(a[3]),e=parseFloat(a[4]),g=parseFloat(a[5]);a=parseFloat(a[6]);l.transform(b,c,d,f,e,g,a)},undefine:function(a){a=parseInt(a[0]);if((a=t[a])&&
a.onundefine)a.onundefine()},video:function(a){var b=parseInt(a[0]),d=r(parseInt(a[1]));a=a[2];var f=p[b]=new Guacamole.InputStream(c,b),e=null;c.onvideo&&(e=c.onvideo(f,d,a));e||(e=Guacamole.VideoPlayer.getInstance(f,d,a));e?c.sendAck(b,"OK",0):c.sendAck(b,"BAD TYPE",783)}};a.oninstruction=function(a,b){(a=x[a])&&a(b)};this.disconnect=function(){5!=d&&4!=d&&(b(4),g&&window.clearInterval(g),a.sendMessage("disconnect"),a.disconnect(),b(5))};this.connect=function(c){b(1);try{a.connect(c)}catch(A){throw b(0),
A;}g=window.setInterval(function(){a.sendMessage("nop")},5E3);b(2)}};
Guacamole.Client.DefaultTransferFunction={0:function(a,b){b.red=b.green=b.blue=0},15:function(a,b){b.red=b.green=b.blue=255},3:function(a,b){b.red=a.red;b.green=a.green;b.blue=a.blue;b.alpha=a.alpha},5:function(a,b){},12:function(a,b){b.red=255&~a.red;b.green=255&~a.green;b.blue=255&~a.blue;b.alpha=a.alpha},10:function(a,b){b.red=255&~b.red;b.green=255&~b.green;b.blue=255&~b.blue},1:function(a,b){b.red&=a.red;b.green&=a.green;b.blue&=a.blue},14:function(a,b){b.red=255&~(a.red&b.red);b.green=255&~(a.green&
b.green);b.blue=255&~(a.blue&b.blue)},7:function(a,b){b.red|=a.red;b.green|=a.green;b.blue|=a.blue},8:function(a,b){b.red=255&~(a.red|b.red);b.green=255&~(a.green|b.green);b.blue=255&~(a.blue|b.blue)},6:function(a,b){b.red^=a.red;b.green^=a.green;b.blue^=a.blue},9:function(a,b){b.red=255&~(a.red^b.red);b.green=255&~(a.green^b.green);b.blue=255&~(a.blue^b.blue)},4:function(a,b){b.red&=255&~a.red;b.green&=255&~a.green;b.blue&=255&~a.blue},13:function(a,b){b.red=255&(~a.red|b.red);b.green=255&(~a.green|
b.green);b.blue=255&(~a.blue|b.blue)},2:function(a,b){b.red=255&a.red&~b.red;b.green=255&a.green&~b.green;b.blue=255&a.blue&~b.blue},11:function(a,b){b.red=255&(a.red|~b.red);b.green=255&(a.green|~b.green);b.blue=255&(a.blue|~b.blue)}};Guacamole=Guacamole||{};Guacamole.DataURIReader=function(a,b){var e=this,c="data:"+b+";base64,";a.onblob=function(a){c+=a};a.onend=function(){if(e.onend)e.onend()};this.getURI=function(){return c};this.onend=null};Guacamole=Guacamole||{};
Guacamole.Display=function(){function a(){for(var a=0;a<p.length;){var b=p[a];if(!b.isReady())break;b.flush();a++}p.splice(0,a)}function b(a,b){this.isReady=function(){for(var a=0;a<b.length;a++)if(b[a].blocked)return!1;return!0};this.flush=function(){for(var c=0;c<b.length;c++)b[c].execute();a&&a()}}function e(b,c){var d=this;this.blocked=c;this.unblock=function(){d.blocked&&(d.blocked=!1,a())};this.execute=function(){b&&b()}}function c(a,b){a=new e(a,b);q.push(a);return a}var d=this,f=0,g=0,h=1,
k=document.createElement("div");k.style.position="relative";k.style.width=f+"px";k.style.height=g+"px";k.style.transformOrigin=k.style.webkitTransformOrigin=k.style.MozTransformOrigin=k.style.OTransformOrigin=k.style.msTransformOrigin="0 0";var l=new Guacamole.Display.VisibleLayer(f,g),m=new Guacamole.Display.VisibleLayer(0,0);m.setChannelMask(Guacamole.Layer.SRC);k.appendChild(l.getElement());k.appendChild(m.getElement());var n=document.createElement("div");n.style.position="relative";n.style.width=
f*h+"px";n.style.height=g*h+"px";n.appendChild(k);this.cursorY=this.cursorX=this.cursorHotspotY=this.cursorHotspotX=0;this.oncursor=this.onresize=null;var q=[],p=[];this.getElement=function(){return n};this.getWidth=function(){return f};this.getHeight=function(){return g};this.getDefaultLayer=function(){return l};this.getCursorLayer=function(){return m};this.createLayer=function(){var a=new Guacamole.Display.VisibleLayer(f,g);a.move(l,0,0,0);return a};this.createBuffer=function(){var a=new Guacamole.Layer(0,
0);a.autosize=1;return a};this.flush=function(c){p.push(new b(c,q));q=[];a()};this.setCursor=function(a,b,f,e,g,h,k){c(function(){d.cursorHotspotX=a;d.cursorHotspotY=b;m.resize(h,k);m.copy(f,e,g,h,k,0,0);d.moveCursor(d.cursorX,d.cursorY);if(d.oncursor)d.oncursor(m.toCanvas(),a,b)})};this.showCursor=function(a){var b=m.getElement(),c=b.parentNode;!1===a?c&&c.removeChild(b):c!==k&&k.appendChild(b)};this.moveCursor=function(a,b){m.translate(a-d.cursorHotspotX,b-d.cursorHotspotY);d.cursorX=a;d.cursorY=
b};this.resize=function(a,b,e){c(function(){a.resize(b,e);if(a===l&&(f=b,g=e,k.style.width=f+"px",k.style.height=g+"px",n.style.width=f*h+"px",n.style.height=g*h+"px",d.onresize))d.onresize(b,e)})};this.drawImage=function(a,b,d,f){c(function(){a.drawImage(b,d,f)})};this.drawBlob=function(a,b,d,f){var e;if(window.createImageBitmap){var g;e=c(function(){a.drawImage(b,d,g)},!0);window.createImageBitmap(f).then(function(a){g=a;e.unblock()})}else{var h=URL.createObjectURL(f);e=c(function(){k.width&&k.height&&
a.drawImage(b,d,k);URL.revokeObjectURL(h)},!0);var k=new Image;k.onload=e.unblock;k.onerror=e.unblock;k.src=h}};this.drawStream=function(a,b,c,f,e){if(window.createImageBitmap){var g=new Guacamole.BlobReader(f,e);g.onend=function(){d.drawBlob(a,b,c,g.getBlob())}}else g=new Guacamole.DataURIReader(f,e),g.onend=function(){d.draw(a,b,c,g.getURI())}};this.draw=function(a,b,d,f){var e=c(function(){g.width&&g.height&&a.drawImage(b,d,g)},!0),g=new Image;g.onload=e.unblock;g.onerror=e.unblock;g.src=f};this.play=
function(a,b,d,f){var e=document.createElement("video");e.type=b;e.src=f;e.addEventListener("play",function(){function b(){a.drawImage(0,0,e);e.ended||window.setTimeout(b,20)}b()},!1);c(e.play)};this.transfer=function(a,b,d,f,e,g,h,k,l){c(function(){g.transfer(a,b,d,f,e,h,k,l)})};this.put=function(a,b,d,f,e,g,h,k){c(function(){g.put(a,b,d,f,e,h,k)})};this.copy=function(a,b,d,f,e,g,h,k){c(function(){g.copy(a,b,d,f,e,h,k)})};this.moveTo=function(a,b,d){c(function(){a.moveTo(b,d)})};this.lineTo=function(a,
b,d){c(function(){a.lineTo(b,d)})};this.arc=function(a,b,d,f,e,g,h){c(function(){a.arc(b,d,f,e,g,h)})};this.curveTo=function(a,b,d,f,e,g,h){c(function(){a.curveTo(b,d,f,e,g,h)})};this.close=function(a){c(function(){a.close()})};this.rect=function(a,b,d,f,e){c(function(){a.rect(b,d,f,e)})};this.clip=function(a){c(function(){a.clip()})};this.strokeColor=function(a,b,d,f,e,g,h,k){c(function(){a.strokeColor(b,d,f,e,g,h,k)})};this.fillColor=function(a,b,d,f,e){c(function(){a.fillColor(b,d,f,e)})};this.strokeLayer=
function(a,b,d,f,e){c(function(){a.strokeLayer(b,d,f,e)})};this.fillLayer=function(a,b){c(function(){a.fillLayer(b)})};this.push=function(a){c(function(){a.push()})};this.pop=function(a){c(function(){a.pop()})};this.reset=function(a){c(function(){a.reset()})};this.setTransform=function(a,b,d,f,e,g,h){c(function(){a.setTransform(b,d,f,e,g,h)})};this.transform=function(a,b,d,f,e,g,h){c(function(){a.transform(b,d,f,e,g,h)})};this.setChannelMask=function(a,b){c(function(){a.setChannelMask(b)})};this.setMiterLimit=
function(a,b){c(function(){a.setMiterLimit(b)})};this.dispose=function(a){c(function(){a.dispose()})};this.distort=function(a,b,d,f,e,g,h){c(function(){a.distort(b,d,f,e,g,h)})};this.move=function(a,b,d,f,e){c(function(){a.move(b,d,f,e)})};this.shade=function(a,b){c(function(){a.shade(b)})};this.scale=function(a){k.style.transform=k.style.WebkitTransform=k.style.MozTransform=k.style.OTransform=k.style.msTransform="scale("+a+","+a+")";h=a;n.style.width=f*h+"px";n.style.height=g*h+"px"};this.getScale=
function(){return h};this.flatten=function(){function a(a){var b=[],c;for(c in a.children)b.push(a.children[c]);b.sort(function(a,b){var c=a.z-b.z;if(0!==c)return c;a=a.getElement();b=b.getElement().compareDocumentPosition(a);return b&Node.DOCUMENT_POSITION_PRECEDING?-1:b&Node.DOCUMENT_POSITION_FOLLOWING?1:0});return b}function b(c,f,e){if(0<c.width&&0<c.height){var g=d.globalAlpha;d.globalAlpha*=c.alpha/255;d.drawImage(c.getCanvas(),f,e);c=a(c);for(var h=0;h<c.length;h++){var k=c[h];b(k,f+k.x,e+
k.y)}d.globalAlpha=g}}var c=document.createElement("canvas");c.width=l.width;c.height=l.height;var d=c.getContext("2d");b(l,0,0);return c}};
Guacamole.Display.VisibleLayer=function(a,b){Guacamole.Layer.apply(this,[a,b]);var e=this;this.__unique_id=Guacamole.Display.VisibleLayer.__next_id++;this.alpha=255;this.z=this.y=this.x=0;this.matrix=[1,0,0,1,0,0];this.parent=null;this.children={};var c=e.getCanvas();c.style.position="absolute";c.style.left="0px";c.style.top="0px";var d=document.createElement("div");d.appendChild(c);d.style.width=a+"px";d.style.height=b+"px";d.style.position="absolute";d.style.left="0px";d.style.top="0px";d.style.overflow=
"hidden";var f=this.resize;this.resize=function(a,b){d.style.width=a+"px";d.style.height=b+"px";f(a,b)};this.getElement=function(){return d};var g="translate(0px, 0px)",h="matrix(1, 0, 0, 1, 0, 0)";this.translate=function(a,b){e.x=a;e.y=b;g="translate("+a+"px,"+b+"px)";d.style.transform=d.style.WebkitTransform=d.style.MozTransform=d.style.OTransform=d.style.msTransform=g+" "+h};this.move=function(a,b,c,f){e.parent!==a&&(e.parent&&delete e.parent.children[e.__unique_id],e.parent=a,a.children[e.__unique_id]=
e,a.getElement().appendChild(d));e.translate(b,c);e.z=f;d.style.zIndex=f};this.shade=function(a){e.alpha=a;d.style.opacity=a/255};this.dispose=function(){e.parent&&(delete e.parent.children[e.__unique_id],e.parent=null);d.parentNode&&d.parentNode.removeChild(d)};this.distort=function(a,b,c,f,q,p){e.matrix=[a,b,c,f,q,p];h="matrix("+a+","+b+","+c+","+f+","+q+","+p+")";d.style.transform=d.style.WebkitTransform=d.style.MozTransform=d.style.OTransform=d.style.msTransform=g+" "+h}};
Guacamole.Display.VisibleLayer.__next_id=0;Guacamole=Guacamole||{};
Guacamole.InputSink=function(){var a=this,b=document.createElement("textarea");b.style.position="fixed";b.style.outline="none";b.style.border="none";b.style.margin="0";b.style.padding="0";b.style.height="0";b.style.width="0";b.style.left="0";b.style.bottom="0";b.style.resize="none";b.style.background="transparent";b.style.color="transparent";b.addEventListener("keypress",function(a){b.value=""},!1);b.addEventListener("compositionend",function(a){a.data&&(b.value="")},!1);b.addEventListener("input",
function(a){a.data&&!a.isComposing&&(b.value="")},!1);b.addEventListener("focus",function(){window.setTimeout(function(){b.click();b.select()},0)},!0);this.focus=function(){window.setTimeout(function(){b.focus()},0)};this.getElement=function(){return b};document.addEventListener("keydown",function(b){if((b=document.activeElement)&&b!==document.body&&(b=b.getBoundingClientRect(),0<b.left+b.width&&0<b.top+b.height))return;a.focus()},!0)};Guacamole=Guacamole||{};
Guacamole.InputStream=function(a,b){var e=this;this.index=b;this.onend=this.onblob=null;this.sendAck=function(b,d){a.sendAck(e.index,b,d)}};Guacamole=Guacamole||{};Guacamole.IntegerPool=function(){var a=this,b=[];this.next_int=0;this.next=function(){return 0<b.length?b.shift():a.next_int++};this.free=function(a){b.push(a)}};Guacamole=Guacamole||{};
Guacamole.JSONReader=function(a){var b=this;a=new Guacamole.StringReader(a);var e="";this.getLength=function(){return e.length};this.getJSON=function(){return JSON.parse(e)};a.ontext=function(a){e+=a;if(b.onprogress)b.onprogress(a.length)};a.onend=function(){if(b.onend)b.onend()};this.onend=this.onprogress=null};Guacamole=Guacamole||{};
Guacamole.Keyboard=function(a){function b(a,b,c){if(!a)return null;var d=a.indexOf("U+");if(0<=d)a=a.substring(d+2),a=String.fromCharCode(parseInt(a,16));else if(1!==a.length||3===b)return C(u[a],b);!0===c?a=a.toUpperCase():!1===c&&(a=a.toLowerCase());c=a.charCodeAt(0);return e(c)}function e(a){return 31>=a||127<=a&&159>=a?65280|a:0<=a&&255>=a?a:256<=a&&1114111>=a?16777216|a:null}function c(){var a=z();if(!a)return!1;var b;do b=a,a=z();while(null!==a);a:{for(var c in d.pressed)if(!r[c]){a=!1;break a}a=
!0}a&&d.reset();return b.defaultPrevented}var d=this,f="_GUAC_KEYBOARD_HANDLED_BY_"+Guacamole.Keyboard._nextID++;this.onkeyup=this.onkeydown=null;var g=!1,h=!1,k=!1;navigator&&navigator.platform&&(navigator.platform.match(/ipad|iphone|ipod/i)?g=!0:navigator.platform.match(/^mac/i)&&(k=h=!0));var l=function(){var a=this;this.timestamp=(new Date).getTime();this.defaultPrevented=!1;this.keysym=null;this.reliable=!1;this.getAge=function(){return(new Date).getTime()-a.timestamp}},m=function(a,c,f,e){l.apply(this);
this.keyCode=a;this.keyIdentifier=c;this.key=f;this.location=e;this.keysym=b(f,e)||C(t[a],e);this.keyupReliable=!g;if(f=this.keysym)f=this.keysym,f=!(0<=f&&255>=f||16777216===(f&4294901760));f&&(this.reliable=!0);if(f=!this.keysym)c?(f=c.indexOf("U+"),-1===f?f=!0:(f=parseInt(c.substring(f+2),16),f=a!==f||65<=a&&90>=a||48<=a&&57>=a?!0:!1)):f=!1;f&&(this.keysym=b(c,e,d.modifiers.shift));d.modifiers.meta&&65511!==this.keysym&&65512!==this.keysym?this.keyupReliable=!1:65509===this.keysym&&k&&(this.keyupReliable=
!1);c=!d.modifiers.ctrl&&!h;if(!d.modifiers.alt&&d.modifiers.ctrl||c&&d.modifiers.alt||d.modifiers.meta||d.modifiers.hyper)this.reliable=!0;x[a]=this.keysym};m.prototype=new l;var n=function(a){l.apply(this);this.charCode=a;this.keysym=e(a);this.reliable=!0};n.prototype=new l;var q=function(a,c,f,e){l.apply(this);this.keyCode=a;this.keyIdentifier=c;this.key=f;this.location=e;this.keysym=C(t[a],e)||b(f,e);d.pressed[this.keysym]||(this.keysym=x[a]||this.keysym);this.reliable=!0};q.prototype=new l;var p=
[],t={8:[65288],9:[65289],12:[65291,65291,65291,65461],13:[65293],16:[65505,65505,65506],17:[65507,65507,65508],18:[65513,65513,65027],19:[65299],20:[65509],27:[65307],32:[32],33:[65365,65365,65365,65465],34:[65366,65366,65366,65459],35:[65367,65367,65367,65457],36:[65360,65360,65360,65463],37:[65361,65361,65361,65460],38:[65362,65362,65362,65464],39:[65363,65363,65363,65462],40:[65364,65364,65364,65458],45:[65379,65379,65379,65456],46:[65535,65535,65535,65454],91:[65515],92:[65383],93:null,96:[65456],
97:[65457],98:[65458],99:[65459],100:[65460],101:[65461],102:[65462],103:[65463],104:[65464],105:[65465],106:[65450],107:[65451],109:[65453],110:[65454],111:[65455],112:[65470],113:[65471],114:[65472],115:[65473],116:[65474],117:[65475],118:[65476],119:[65477],120:[65478],121:[65479],122:[65480],123:[65481],144:[65407],145:[65300],225:[65027]},u={Again:[65382],AllCandidates:[65341],Alphanumeric:[65328],Alt:[65513,65513,65027],Attn:[64782],AltGraph:[65027],ArrowDown:[65364],ArrowLeft:[65361],ArrowRight:[65363],
ArrowUp:[65362],Backspace:[65288],CapsLock:[65509],Cancel:[65385],Clear:[65291],Convert:[65313],Copy:[64789],Crsel:[64796],CrSel:[64796],CodeInput:[65335],Compose:[65312],Control:[65507,65507,65508],ContextMenu:[65383],Delete:[65535],Down:[65364],End:[65367],Enter:[65293],EraseEof:[64774],Escape:[65307],Execute:[65378],Exsel:[64797],ExSel:[64797],F1:[65470],F2:[65471],F3:[65472],F4:[65473],F5:[65474],F6:[65475],F7:[65476],F8:[65477],F9:[65478],F10:[65479],F11:[65480],F12:[65481],F13:[65482],F14:[65483],
F15:[65484],F16:[65485],F17:[65486],F18:[65487],F19:[65488],F20:[65489],F21:[65490],F22:[65491],F23:[65492],F24:[65493],Find:[65384],GroupFirst:[65036],GroupLast:[65038],GroupNext:[65032],GroupPrevious:[65034],FullWidth:null,HalfWidth:null,HangulMode:[65329],Hankaku:[65321],HanjaMode:[65332],Help:[65386],Hiragana:[65317],HiraganaKatakana:[65319],Home:[65360],Hyper:[65517,65517,65518],Insert:[65379],JapaneseHiragana:[65317],JapaneseKatakana:[65318],JapaneseRomaji:[65316],JunjaMode:[65336],KanaMode:[65325],
KanjiMode:[65313],Katakana:[65318],Left:[65361],Meta:[65511,65511,65512],ModeChange:[65406],NumLock:[65407],PageDown:[65366],PageUp:[65365],Pause:[65299],Play:[64790],PreviousCandidate:[65342],PrintScreen:[65377],Redo:[65382],Right:[65363],RomanCharacters:null,Scroll:[65300],Select:[65376],Separator:[65452],Shift:[65505,65505,65506],SingleCandidate:[65340],Super:[65515,65515,65516],Tab:[65289],UIKeyInputDownArrow:[65364],UIKeyInputEscape:[65307],UIKeyInputLeftArrow:[65361],UIKeyInputRightArrow:[65363],
UIKeyInputUpArrow:[65362],Up:[65362],Undo:[65381],Win:[65515],Zenkaku:[65320],ZenkakuHankaku:[65322]},v={65027:!0,65505:!0,65506:!0,65507:!0,65508:!0,65509:!0,65511:!0,65512:!0,65513:!0,65514:!0,65515:!0,65516:!0};this.modifiers=new Guacamole.Keyboard.ModifierState;this.pressed={};var r={},w={},x={},y=null,A=null,C=function(a,b){return a?a[b]||a[0]:null};this.press=function(a){if(null!==a){if(!d.pressed[a]&&(d.pressed[a]=!0,d.onkeydown)){var b=d.onkeydown(a);w[a]=b;window.clearTimeout(y);window.clearInterval(A);
v[a]||(y=window.setTimeout(function(){A=window.setInterval(function(){d.onkeyup(a);d.onkeydown(a)},50)},500));return b}return w[a]||!1}};this.release=function(a){if(d.pressed[a]&&(delete d.pressed[a],delete r[a],window.clearTimeout(y),window.clearInterval(A),null!==a&&d.onkeyup))d.onkeyup(a)};this.type=function(a){for(var b=0;b<a.length;b++){var c=a.codePointAt?a.codePointAt(b):a.charCodeAt(b),c=e(c);d.press(c);d.release(c)}};this.reset=function(){for(var a in d.pressed)d.release(parseInt(a));p=[]};
var B=function(a,b,c,f){if(-1===c.indexOf(f.keysym))if(a&&!1===b)for(a=0;a<c.length;a++)d.release(c[a]);else if(!a&&b){for(a=0;a<c.length;a++)if(d.pressed[c[a]])return;c=c[0];f.keysym&&(r[c]=!0);d.press(c)}},E=function(a,b){a=Guacamole.Keyboard.ModifierState.fromKeyboardEvent(a);B(d.modifiers.alt,a.alt,[65513,65514,65027],b);B(d.modifiers.shift,a.shift,[65505,65506],b);B(d.modifiers.ctrl,a.ctrl,[65507,65508],b);B(d.modifiers.meta,a.meta,[65511,65512],b);B(d.modifiers.hyper,a.hyper,[65515,65516],b);
d.modifiers=a},z=function(){var a=p[0];if(!a)return null;if(a instanceof m){var b=null,c=[];a.reliable?(b=a.keysym,c=p.splice(0,1)):p[1]instanceof n?(b=p[1].keysym,c=p.splice(0,2)):p[1]&&(b=a.keysym,c=p.splice(0,1));if(0<c.length){if(b){d.modifiers.ctrl&&d.modifiers.alt&&!(65<=b&&90>=b||97<=b&&122>=b)&&(255>=b||16777216===(b&4278190080))&&(d.release(65507),d.release(65508),d.release(65513),d.release(65514));var f=!d.press(b);x[a.keyCode]=b;a.keyupReliable||d.release(b);for(b=0;b<c.length;b++)c[b].defaultPrevented=
f}return a}}else{if(a instanceof q&&!g)if(b=a.keysym)d.release(b),delete x[a.keyCode],a.defaultPrevented=!0;else return d.reset(),a;return p.shift()}return null},I=function(a){return"location"in a?a.location:"keyLocation"in a?a.keyLocation:0},F=function(a){return a[f]?!1:a[f]=!0};this.listenTo=function(a){a.addEventListener("keydown",function(a){if(d.onkeydown&&F(a)){var b;window.event?b=window.event.keyCode:a.which&&(b=a.which);var f=new m(b,a.keyIdentifier,a.key,I(a));E(a,f);229!==b&&(p.push(f),
c()&&a.preventDefault())}},!0);a.addEventListener("keypress",function(a){if((d.onkeydown||d.onkeyup)&&F(a)){var b;window.event?b=window.event.keyCode:a.which&&(b=a.which);b=new n(b);E(a,b);p.push(b);c()&&a.preventDefault()}},!0);a.addEventListener("keyup",function(a){if(d.onkeyup&&F(a)){a.preventDefault();var b;window.event?b=window.event.keyCode:a.which&&(b=a.which);b=new q(b,a.keyIdentifier,a.key,I(a));E(a,b);p.push(b);c()}},!0);var b=function(b){(d.onkeydown||d.onkeyup)&&F(b)&&b.data&&!b.isComposing&&
(a.removeEventListener("compositionend",f,!1),d.type(b.data))},f=function(c){(d.onkeydown||d.onkeyup)&&F(c)&&c.data&&(a.removeEventListener("input",b,!1),d.type(c.data))};a.addEventListener("input",b,!1);a.addEventListener("compositionend",f,!1)};a&&d.listenTo(a)};Guacamole.Keyboard._nextID=0;Guacamole.Keyboard.ModifierState=function(){this.hyper=this.meta=this.alt=this.ctrl=this.shift=!1};
Guacamole.Keyboard.ModifierState.fromKeyboardEvent=function(a){var b=new Guacamole.Keyboard.ModifierState;b.shift=a.shiftKey;b.ctrl=a.ctrlKey;b.alt=a.altKey;b.meta=a.metaKey;a.getModifierState&&(b.hyper=a.getModifierState("OS")||a.getModifierState("Super")||a.getModifierState("Hyper")||a.getModifierState("Win"));return b};Guacamole=Guacamole||{};
Guacamole.Layer=function(a,b){function e(a,b,d,f){a=d+a;b=f+b;c.resize(a>c.width?a:c.width,b>c.height?b:c.height)}var c=this,d=document.createElement("canvas"),f=d.getContext("2d");f.save();var g=!0,h=!0,k=0,l={1:"destination-in",2:"destination-out",4:"source-in",6:"source-atop",8:"source-out",9:"destination-atop",10:"xor",11:"destination-over",12:"copy",14:"source-over",15:"lighter"},m=function(a,b){a=a||0;b=b||0;var e=64*Math.ceil(a/64),h=64*Math.ceil(b/64);if(d.width!==e||d.height!==h){var l=null;
g||0===d.width||0===d.height||(l=document.createElement("canvas"),l.width=Math.min(c.width,a),l.height=Math.min(c.height,b),l.getContext("2d").drawImage(d,0,0,l.width,l.height,0,0,l.width,l.height));var m=f.globalCompositeOperation;d.width=e;d.height=h;l&&f.drawImage(l,0,0,l.width,l.height,0,0,l.width,l.height);f.globalCompositeOperation=m;k=0;f.save()}else c.reset();c.width=a;c.height=b};this.autosize=!1;this.width=a;this.height=b;this.getCanvas=function(){return d};this.toCanvas=function(){var a=
document.createElement("canvas");a.width=c.width;a.height=c.height;a.getContext("2d").drawImage(c.getCanvas(),0,0);return a};this.resize=function(a,b){a===c.width&&b===c.height||m(a,b)};this.drawImage=function(a,b,d){c.autosize&&e(a,b,d.width,d.height);f.drawImage(d,a,b);g=!1};this.transfer=function(a,b,d,h,k,l,m,w){var n=a.getCanvas();if(!(b>=n.width||d>=n.height)&&(b+h>n.width&&(h=n.width-b),d+k>n.height&&(k=n.height-d),0!==h&&0!==k)){c.autosize&&e(l,m,h,k);a=a.getCanvas().getContext("2d").getImageData(b,
d,h,k);b=f.getImageData(l,m,h,k);for(d=0;d<h*k*4;d+=4){var n=new Guacamole.Layer.Pixel(a.data[d],a.data[d+1],a.data[d+2],a.data[d+3]),p=new Guacamole.Layer.Pixel(b.data[d],b.data[d+1],b.data[d+2],b.data[d+3]);w(n,p);b.data[d]=p.red;b.data[d+1]=p.green;b.data[d+2]=p.blue;b.data[d+3]=p.alpha}f.putImageData(b,l,m);g=!1}};this.put=function(a,b,d,h,k,l,m){var n=a.getCanvas();b>=n.width||d>=n.height||(b+h>n.width&&(h=n.width-b),d+k>n.height&&(k=n.height-d),0!==h&&0!==k&&(c.autosize&&e(l,m,h,k),a=a.getCanvas().getContext("2d").getImageData(b,
d,h,k),f.putImageData(a,l,m),g=!1))};this.copy=function(a,b,d,h,k,l,m){a=a.getCanvas();b>=a.width||d>=a.height||(b+h>a.width&&(h=a.width-b),d+k>a.height&&(k=a.height-d),0!==h&&0!==k&&(c.autosize&&e(l,m,h,k),f.drawImage(a,b,d,h,k,l,m,h,k),g=!1))};this.moveTo=function(a,b){h&&(f.beginPath(),h=!1);c.autosize&&e(a,b,0,0);f.moveTo(a,b)};this.lineTo=function(a,b){h&&(f.beginPath(),h=!1);c.autosize&&e(a,b,0,0);f.lineTo(a,b)};this.arc=function(a,b,d,g,k,l){h&&(f.beginPath(),h=!1);c.autosize&&e(a,b,0,0);f.arc(a,
b,d,g,k,l)};this.curveTo=function(a,b,d,g,k,l){h&&(f.beginPath(),h=!1);c.autosize&&e(k,l,0,0);f.bezierCurveTo(a,b,d,g,k,l)};this.close=function(){f.closePath();h=!0};this.rect=function(a,b,d,g){h&&(f.beginPath(),h=!1);c.autosize&&e(a,b,d,g);f.rect(a,b,d,g)};this.clip=function(){f.clip();h=!0};this.strokeColor=function(a,b,c,d,e,k,l){f.lineCap=a;f.lineJoin=b;f.lineWidth=c;f.strokeStyle="rgba("+d+","+e+","+k+","+l/255+")";f.stroke();g=!1;h=!0};this.fillColor=function(a,b,c,d){f.fillStyle="rgba("+a+
","+b+","+c+","+d/255+")";f.fill();g=!1;h=!0};this.strokeLayer=function(a,b,c,d){f.lineCap=a;f.lineJoin=b;f.lineWidth=c;f.strokeStyle=f.createPattern(d.getCanvas(),"repeat");f.stroke();g=!1;h=!0};this.fillLayer=function(a){f.fillStyle=f.createPattern(a.getCanvas(),"repeat");f.fill();g=!1;h=!0};this.push=function(){f.save();k++};this.pop=function(){0<k&&(f.restore(),k--)};this.reset=function(){for(;0<k;)f.restore(),k--;f.restore();f.save();f.beginPath();h=!1};this.setTransform=function(a,b,c,d,e,g){f.setTransform(a,
b,c,d,e,g)};this.transform=function(a,b,c,d,e,g){f.transform(a,b,c,d,e,g)};this.setChannelMask=function(a){f.globalCompositeOperation=l[a]};this.setMiterLimit=function(a){f.miterLimit=a};m(a,b);d.style.zIndex=-1};Guacamole.Layer.ROUT=2;Guacamole.Layer.ATOP=6;Guacamole.Layer.XOR=10;Guacamole.Layer.ROVER=11;Guacamole.Layer.OVER=14;Guacamole.Layer.PLUS=15;Guacamole.Layer.RIN=1;Guacamole.Layer.IN=4;Guacamole.Layer.OUT=8;Guacamole.Layer.RATOP=9;Guacamole.Layer.SRC=12;
Guacamole.Layer.Pixel=function(a,b,e,c){this.red=a;this.green=b;this.blue=e;this.alpha=c};Guacamole=Guacamole||{};
Guacamole.Mouse=function(a){function b(a){a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function e(a){var d=a.deltaY||-a.wheelDeltaY||-a.wheelDelta;d?1===a.deltaMode?d=a.deltaY*c.PIXELS_PER_LINE:2===a.deltaMode&&(d=a.deltaY*c.PIXELS_PER_PAGE):d=a.detail*c.PIXELS_PER_LINE;f+=d;if(f<=-c.scrollThreshold){do c.onmousedown&&(c.currentState.up=!0,c.onmousedown(c.currentState)),c.onmouseup&&(c.currentState.up=!1,c.onmouseup(c.currentState)),f+=c.scrollThreshold;while(f<=-c.scrollThreshold);
f=0}if(f>=c.scrollThreshold){do c.onmousedown&&(c.currentState.down=!0,c.onmousedown(c.currentState)),c.onmouseup&&(c.currentState.down=!1,c.onmouseup(c.currentState)),f-=c.scrollThreshold;while(f>=c.scrollThreshold);f=0}b(a)}var c=this;this.touchMouseThreshold=3;this.scrollThreshold=53;this.PIXELS_PER_LINE=18;this.PIXELS_PER_PAGE=16*this.PIXELS_PER_LINE;this.currentState=new Guacamole.Mouse.State(0,0,!1,!1,!1,!1,!1);this.onmouseout=this.onmousemove=this.onmouseup=this.onmousedown=null;var d=0,f=
0;a.addEventListener("contextmenu",function(a){b(a)},!1);a.addEventListener("mousemove",function(f){b(f);if(d)d--;else if(c.currentState.fromClientPosition(a,f.clientX,f.clientY),c.onmousemove)c.onmousemove(c.currentState)},!1);a.addEventListener("touchmove",function(d){b(d);c.currentState.left=!0;c.currentState.middle=!1;c.currentState.right=!1;c.currentState.fromClientPosition(a,d.changedTouches[0].clientX,d.changedTouches[0].clientY);if(c.onmousemove)c.onmousemove(c.currentState)},!1);a.addEventListener("mousedown",
function(a){b(a);if(!d){switch(a.button){case 0:c.currentState.left=!0;break;case 1:c.currentState.middle=!0;break;case 2:c.currentState.right=!0}if(c.onmousedown)c.onmousedown(c.currentState)}},!1);a.addEventListener("touchstart",function(d){b(d);c.currentState.left=!0;c.currentState.middle=!1;c.currentState.right=!1;c.currentState.fromClientPosition(a,d.changedTouches[0].clientX,d.changedTouches[0].clientY);if(c.onmousedown)c.onmousedown(c.currentState)},!1);a.addEventListener("mouseup",function(a){b(a);
if(!d){switch(a.button){case 0:c.currentState.left=!1;break;case 1:c.currentState.middle=!1;break;case 2:c.currentState.right=!1}if(c.onmouseup)c.onmouseup(c.currentState)}},!1);a.addEventListener("touchend",function(a){b(a);c.currentState.left=!1;c.currentState.middle=!1;c.currentState.right=!1;if(c.onmouseup)c.onmouseup(c.currentState)},!1);a.addEventListener("mouseout",function(d){d||(d=window.event);for(var f=d.relatedTarget||d.toElement;f;){if(f===a)return;f=f.parentNode}b(d);if(c.currentState.left||
c.currentState.middle||c.currentState.right)if(c.currentState.left=!1,c.currentState.middle=!1,c.currentState.right=!1,c.onmouseup)c.onmouseup(c.currentState);if(c.onmouseout)c.onmouseout()},!1);a.addEventListener("selectstart",function(a){b(a)},!1);a.addEventListener("DOMMouseScroll",e,!1);a.addEventListener("mousewheel",e,!1);a.addEventListener("wheel",e,!1);var g=function(){var a=document.createElement("div");if(!("cursor"in a.style))return!1;try{a.style.cursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEX///+nxBvIAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg\x3d\x3d) 0 0, auto"}catch(k){return!1}return/\burl\([^()]*\)\s+0\s+0\b/.test(a.style.cursor||
"")}();this.setCursor=function(b,c,d){return g?(b=b.toDataURL("image/png"),a.style.cursor="url("+b+") "+c+" "+d+", auto",!0):!1}};
Guacamole.Mouse.State=function(a,b,e,c,d,f,g){var h=this;this.x=a;this.y=b;this.left=e;this.middle=c;this.right=d;this.up=f;this.down=g;this.fromClientPosition=function(a,b,c){h.x=b-a.offsetLeft;h.y=c-a.offsetTop;for(a=a.offsetParent;a&&a!==document.body;)h.x-=a.offsetLeft-a.scrollLeft,h.y-=a.offsetTop-a.scrollTop,a=a.offsetParent;a&&(b=document.body.scrollTop||document.documentElement.scrollTop,h.x-=a.offsetLeft-(document.body.scrollLeft||document.documentElement.scrollLeft),h.y-=a.offsetTop-b)}};
Guacamole=Guacamole=Guacamole||{};Guacamole.Object=function(a,b){var e=this,c={};this.index=b;this.onbody=function(a,b,e){var d=c[e];if(d){var f=d.shift();0===d.length&&delete c[e];e=f}else e=null;e&&e(a,b)};this.onundefine=null;this.requestInputStream=function(b,f){if(f){var d=c[b];d||(d=[],c[b]=d);d.push(f)}a.requestObjectInputStream(e.index,b)};this.createOutputStream=function(b,c){return a.createObjectOutputStream(e.index,b,c)}};Guacamole.Object.ROOT_STREAM="/";
Guacamole.Object.STREAM_INDEX_MIMETYPE="application/vnd.glyptodon.guacamole.stream-index+json";Guacamole=Guacamole||{};
Guacamole.OnScreenKeyboard=function(a){var b=this,e={},c={},d=[],f=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},g=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(/([^ ]+)[ ]*/g,function(a,c){return c===b?"":a})},h=0,k=function(a,b,c,d){this.width=b;this.height=c;this.scale=function(f){a.style.width=b*f+"px";a.style.height=c*f+"px";d&&(a.style.lineHeight=c*f+"px",a.style.fontSize=f+"px")}},l=function(a){a=b.keys[a];if(!a)return null;for(var c=a.length-
1;0<=c;c--){var d=a[c],f;a:{f=d.requires;for(var g=0;g<f.length;g++)if(!(f[g]in e)){f=!1;break a}f=!0}if(f)return d}return null},m=function(a,d){if(!c[a]){f(d,"guac-keyboard-pressed");d=l(a);if(d.modifier){var h="guac-keyboard-modifier-"+p(d.modifier),k=e[d.modifier];if(k){if(g(q,h),delete e[d.modifier],b.onkeyup)b.onkeyup(k)}else if(f(q,h),e[d.modifier]=d.keysym,b.onkeydown)b.onkeydown(d.keysym)}else if(b.onkeydown)b.onkeydown(d.keysym);c[a]=!0}},n=function(a,d){if(c[a]){g(d,"guac-keyboard-pressed");
d=l(a);if(!d.modifier&&b.onkeyup)b.onkeyup(d.keysym);c[a]=!1}},q=document.createElement("div");q.className="guac-keyboard";q.onselectstart=q.onmousemove=q.onmouseup=q.onmousedown=function(a){h&&h--;a.stopPropagation();return!1};this.touchMouseThreshold=3;this.onkeyup=this.onkeydown=null;this.layout=new Guacamole.OnScreenKeyboard.Layout(a);this.getElement=function(){return q};this.resize=function(a){a=Math.floor(10*a/b.layout.width)/10;for(var c=0;c<d.length;c++)d[c].scale(a)};this.keys=function(b){var c=
{},d;for(d in a.keys){var f=d,e;e=d;var g=b[d];if(g instanceof Array){for(var h=[],k=0;k<g.length;k++)h.push(new Guacamole.OnScreenKeyboard.Key(g[k],e));e=h}else e="number"===typeof g?[new Guacamole.OnScreenKeyboard.Key({name:e,keysym:g})]:"string"===typeof g?[new Guacamole.OnScreenKeyboard.Key({name:e,title:g})]:[new Guacamole.OnScreenKeyboard.Key(g,e)];c[f]=e}return c}(a.keys);var p=function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[^A-Za-z0-9]+/g,"-").toLowerCase()};(function u(a,
c,e){var g,l=document.createElement("div");e&&f(l,"guac-keyboard-"+p(e));if(c instanceof Array)for(f(l,"guac-keyboard-group"),g=0;g<c.length;g++)u(l,c[g]);else if(c instanceof Object){f(l,"guac-keyboard-group");var q=Object.keys(c).sort();for(g=0;g<q.length;g++)e=q[g],u(l,c[e],e)}else if("number"===typeof c)f(l,"guac-keyboard-gap"),d.push(new k(l,c,c));else if("string"===typeof c){g=c;1===g.length&&(g="0x"+g.charCodeAt(0).toString(16));f(l,"guac-keyboard-key-container");var v=document.createElement("div");
v.className="guac-keyboard-key guac-keyboard-key-"+p(g);if(e=b.keys[c])for(g=0;g<e.length;g++){var q=e[g],B=document.createElement("div");B.className="guac-keyboard-cap";B.textContent=q.title;for(var r=0;r<q.requires.length;r++){var w=q.requires[r];f(B,"guac-keyboard-requires-"+p(w));f(v,"guac-keyboard-uses-"+p(w))}v.appendChild(B)}l.appendChild(v);d.push(new k(l,b.layout.keyWidths[c]||1,1,!0));g=function(a){a.preventDefault();0===h&&n(c,v)};v.addEventListener("touchstart",function(a){a.preventDefault();
h=b.touchMouseThreshold;m(c,v)},!0);v.addEventListener("touchend",function(a){a.preventDefault();h=b.touchMouseThreshold;n(c,v)},!0);v.addEventListener("mousedown",function(a){a.preventDefault();0===h&&m(c,v)},!0);v.addEventListener("mouseup",g,!0);v.addEventListener("mouseout",g,!0)}a.appendChild(l)})(q,a.layout)};Guacamole.OnScreenKeyboard.Layout=function(a){this.language=a.language;this.type=a.type;this.keys=a.keys;this.layout=a.layout;this.width=a.width;this.keyWidths=a.keyWidths||{}};
Guacamole.OnScreenKeyboard.Key=function(a,b){this.name=b||a.name;this.title=a.title||this.name;(b=a.keysym)||((b=this.title)&&1===b.length?(b=b.charCodeAt(0),b=0<=b&&255>=b?b:256<=b&&1114111>=b?16777216|b:null):b=null);this.keysym=b;this.modifier=a.modifier;this.requires=a.requires||[]};Guacamole=Guacamole||{};Guacamole.OutputStream=function(a,b){var e=this;this.index=b;this.onack=null;this.sendBlob=function(b){a.sendBlob(e.index,b)};this.sendEnd=function(){a.endStream(e.index)}};
Guacamole=Guacamole||{};
Guacamole.Parser=function(){var a=this,b="",e=[],c=-1,d=0;this.receive=function(f){4096<d&&c>=d&&(b=b.substring(d),c-=d,d=0);for(b+=f;c<b.length;){if(c>=d){f=b.substring(d,c);var g=b.substring(c,c+1);e.push(f);if(";"==g){f=e.shift();if(null!=a.oninstruction)a.oninstruction(f,e);e.length=0}else if(","!=g)throw Error("Illegal terminator.");d=c+1}f=b.indexOf(".",d);if(-1!=f){g=parseInt(b.substring(c+1,f));if(isNaN(g))throw Error("Non-numeric character in element length.");d=f+1;c=d+g}else{d=b.length;
break}}};this.oninstruction=null};Guacamole=Guacamole||{};Guacamole.RawAudioFormat=function(a){this.bytesPerSample=a.bytesPerSample;this.channels=a.channels;this.rate=a.rate};
Guacamole.RawAudioFormat.parse=function(a){var b,e=null,c=1;if("audio/L8;"===a.substring(0,9))a=a.substring(9),b=1;else if("audio/L16;"===a.substring(0,10))a=a.substring(10),b=2;else return null;a=a.split(",");for(var d=0;d<a.length;d++){var f=a[d],g=f.indexOf("\x3d");if(-1===g)return null;var h=f.substring(0,g),f=f.substring(g+1);switch(h){case "channels":c=parseInt(f);break;case "rate":e=parseInt(f);break;default:return null}}return null===e?null:new Guacamole.RawAudioFormat({bytesPerSample:b,channels:c,
rate:e})};Guacamole=Guacamole||{};
Guacamole.SessionRecording=function(a){var b=this,e=[],c=[],d=0,f=0,g=new Guacamole.SessionRecording._PlaybackTunnel,h=new Guacamole.Client(g),k=-1,l=null,m=null,n=null;h.connect();h.getDisplay().showCursor(!1);a.oninstruction=function(a,g){var h=new Guacamole.SessionRecording._Frame.Instruction(a,g.slice());c.push(h);d+=h.getSize();if("sync"===a){a=parseInt(g[0]);g=new Guacamole.SessionRecording._Frame(a,c);e.push(g);if(1===e.length||16384<=d&&5E3<=a-f)g.keyframe=!0,f=a,d=0;c=[];if(b.onprogress)b.onprogress(b.getDuration())}};
var q=function(a){return 0===e.length?0:a-e[0].timestamp},p=function w(a,b,c){if(a===b)return a;var d=Math.floor((a+b)/2),f=q(e[d].timestamp);return c<f&&d>a?w(a,d-1,c):c>f&&d<b?w(d+1,b,c):d},t=function(a){var b=e[a];for(a=0;a<b.instructions.length;a++){var c=b.instructions[a];g.receiveInstruction(c.opcode,c.args)}b.keyframe&&!b.clientState&&h.exportState(function(a){b.clientState=a})},u=function x(a,c,d){window.clearTimeout(n);n=window.setTimeout(function(){var f;for(f=a;0<=f;f--){var g=e[f];if(f===
k)break;if(g.clientState){h.importState(g.clientState);break}}f++;for(g=(new Date).getTime();f<=a&&!(5<=(new Date).getTime()-g);f++)t(f);k=f-1;if(b.onseek)b.onseek(b.getPosition());k!==a?x(a,c,Math.max(d-((new Date).getTime()-g),0)):c()},d||0)},v=function y(){if(k+1<e.length){var a=Math.max(e[k+1].timestamp-l+m-(new Date).getTime(),0);u(k+1,function(){y()},a)}else b.pause()};this.onseek=this.onpause=this.onplay=this.onprogress=null;this.connect=function(b){a.connect(b)};this.disconnect=function(){a.disconnect()};
this.getDisplay=function(){return h.getDisplay()};this.isPlaying=function(){return!!l};this.getPosition=function(){return-1===k?0:q(e[k].timestamp)};this.getDuration=function(){return 0===e.length?0:q(e[e.length-1].timestamp)};this.play=function(){if(!b.isPlaying()&&k+1<e.length){if(b.onplay)b.onplay();l=e[k+1].timestamp;m=(new Date).getTime();v()}};this.seek=function(a,c){if(0!==e.length){var d=b.isPlaying();b.pause();u(p(0,e.length-1,a),function(){d&&b.play();c&&c()})}};this.pause=function(){window.clearTimeout(n);
if(b.isPlaying()){if(b.onpause)b.onpause();m=l=null}}};Guacamole.SessionRecording._Frame=function(a,b){this.keyframe=!1;this.timestamp=a;this.instructions=b;this.clientState=null};Guacamole.SessionRecording._Frame.Instruction=function(a,b){var e=this;this.opcode=a;this.args=b;this.getSize=function(){for(var a=e.opcode.length,b=0;b<e.args.length;b++)a+=e.args[b].length;return a}};
Guacamole.SessionRecording._PlaybackTunnel=function(){var a=this;this.connect=function(a){};this.sendMessage=function(a){};this.disconnect=function(){};this.receiveInstruction=function(b,e){if(a.oninstruction)a.oninstruction(b,e)}};Guacamole=Guacamole||{};Guacamole.Status=function(a,b){var e=this;this.code=a;this.message=b;this.isError=function(){return 0>e.code||255<e.code}};
Guacamole.Status.Code={SUCCESS:0,UNSUPPORTED:256,SERVER_ERROR:512,SERVER_BUSY:513,UPSTREAM_TIMEOUT:514,UPSTREAM_ERROR:515,RESOURCE_NOT_FOUND:516,RESOURCE_CONFLICT:517,RESOURCE_CLOSED:518,UPSTREAM_NOT_FOUND:519,UPSTREAM_UNAVAILABLE:520,SESSION_CONFLICT:521,SESSION_TIMEOUT:522,SESSION_CLOSED:523,CLIENT_BAD_REQUEST:768,CLIENT_UNAUTHORIZED:769,CLIENT_FORBIDDEN:771,CLIENT_TIMEOUT:776,CLIENT_OVERRUN:781,CLIENT_BAD_TYPE:783,CLIENT_TOO_MANY:797};
Guacamole.Status.Code.fromHTTPCode=function(a){switch(a){case 400:return Guacamole.Status.Code.CLIENT_BAD_REQUEST;case 403:return Guacamole.Status.Code.CLIENT_FORBIDDEN;case 404:return Guacamole.Status.Code.RESOURCE_NOT_FOUND;case 429:return Guacamole.Status.Code.CLIENT_TOO_MANY;case 503:return Guacamole.Status.Code.SERVER_BUSY}return Guacamole.Status.Code.SERVER_ERROR};
Guacamole.Status.Code.fromWebSocketCode=function(a){switch(a){case 1E3:return Guacamole.Status.Code.SUCCESS;case 1006:case 1015:return Guacamole.Status.Code.UPSTREAM_NOT_FOUND;case 1001:case 1012:case 1013:case 1014:return Guacamole.Status.Code.UPSTREAM_UNAVAILABLE}return Guacamole.Status.Code.SERVER_ERROR};Guacamole=Guacamole||{};
Guacamole.StringReader=function(a){var b=this;a=new Guacamole.ArrayBufferReader(a);var e=0,c=0;a.ondata=function(a){var d="";a=new Uint8Array(a);for(var g=0;g<a.length;g++){var h=a[g];0===e?127===(h|127)?d+=String.fromCharCode(h):223===(h|31)?(c=h&31,e=1):239===(h|15)?(c=h&15,e=2):247===(h|7)?(c=h&7,e=3):d+="�":191===(h|63)?(c=c<<6|h&63,e--,0===e&&(d+=String.fromCharCode(c))):(e=0,d+="�")}if(b.ontext)b.ontext(d)};a.onend=function(){if(b.onend)b.onend()};this.onend=this.ontext=null};
Guacamole=Guacamole||{};
Guacamole.StringWriter=function(a){function b(a){var c,d;if(127>=a)c=0,d=1;else if(2047>=a)c=192,d=2;else if(65535>=a)c=224,d=3;else if(2097151>=a)c=240,d=4;else{b(65533);return}var e=d;if(g+e>=f.length){var h=new Uint8Array(2*(g+e));h.set(f);f=h}g+=e;e=g-1;for(h=1;h<d;h++)f[e--]=128|a&63,a>>=6;f[e]=c|a}function e(a){for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b(d)}if(0<g)return a=f.subarray(0,g),g=0,a}var c=this,d=new Guacamole.ArrayBufferWriter(a),f=new Uint8Array(8192),g=0;d.onack=function(a){if(c.onack)c.onack(a)};
this.sendText=function(a){a.length&&d.sendData(e(a))};this.sendEnd=function(){d.sendEnd()};this.onack=null};Guacamole=Guacamole||{};
Guacamole.Tunnel=function(){this.connect=function(a){};this.disconnect=function(){};this.sendMessage=function(a){};this.setState=function(a){if(a!==this.state&&(this.state=a,this.onstatechange))this.onstatechange(a)};this.setUUID=function(a){this.uuid=a;if(this.onuuid)this.onuuid(a)};this.isConnected=function(){return this.state===Guacamole.Tunnel.State.OPEN||this.state===Guacamole.Tunnel.State.UNSTABLE};this.state=Guacamole.Tunnel.State.CONNECTING;this.receiveTimeout=15E3;this.unstableThreshold=
1500;this.oninstruction=this.onstatechange=this.onerror=this.onuuid=this.uuid=null};Guacamole.Tunnel.INTERNAL_DATA_OPCODE="";Guacamole.Tunnel.State={CONNECTING:0,OPEN:1,CLOSED:2,UNSTABLE:3};
Guacamole.HTTPTunnel=function(a,b,e){function c(a,b){for(var c in b)a.setRequestHeader(c,b[c])}function d(){window.clearTimeout(w);window.clearTimeout(x);m.state===Guacamole.Tunnel.State.UNSTABLE&&m.setState(Guacamole.Tunnel.State.OPEN);w=window.setTimeout(function(){f(new Guacamole.Status(Guacamole.Status.Code.UPSTREAM_TIMEOUT,"Server timeout."))},m.receiveTimeout);x=window.setTimeout(function(){m.setState(Guacamole.Tunnel.State.UNSTABLE)},m.unstableThreshold)}function f(a){window.clearTimeout(w);
window.clearTimeout(x);window.clearInterval(y);if(m.state!==Guacamole.Tunnel.State.CLOSED){if(a.code!==Guacamole.Status.Code.SUCCESS&&m.onerror&&(m.state===Guacamole.Tunnel.State.CONNECTING||a.code!==Guacamole.Status.Code.RESOURCE_NOT_FOUND))m.onerror(a);u=!1;m.setState(Guacamole.Tunnel.State.CLOSED)}}function g(){if(m.isConnected())if(0<v.length){u=!0;var a=new XMLHttpRequest;a.open("POST",p+m.uuid);a.withCredentials=r;c(a,A);a.setRequestHeader("Content-type","application/octet-stream");a.onreadystatechange=
function(){4===a.readyState&&(d(),200!==a.status?h(a):g())};a.send(v);v=""}else u=!1}function h(a){var b=parseInt(a.getResponseHeader("Guacamole-Status-Code"));b?(a=a.getResponseHeader("Guacamole-Error-Message"),f(new Guacamole.Status(b,a))):a.status?f(new Guacamole.Status(Guacamole.Status.Code.fromHTTPCode(a.status),a.statusText)):f(new Guacamole.Status(Guacamole.Status.Code.UPSTREAM_NOT_FOUND))}function k(a){function b(){if(!m.isConnected())null!==c&&clearInterval(c);else if(!(2>a.readyState)){var e;
try{e=a.status}catch(H){e=200}f||200!==e||(f=l());if(3===a.readyState||4===a.readyState)if(d(),1===t&&(3!==a.readyState||c?4===a.readyState&&c&&clearInterval(c):c=setInterval(b,30)),0===a.status)m.disconnect();else if(200!==a.status)h(a);else{var q;try{q=a.responseText}catch(H){return}for(;g<q.length;){if(g>=n){e=q.substring(n,g);var u=q.substring(g,g+1);p.push(e);if(";"===u){e=p.shift();if(m.oninstruction)m.oninstruction(e,p);p.length=0}n=g+1}e=q.indexOf(".",n);if(-1!==e){u=parseInt(q.substring(g+
1,e));if(0===u){c&&clearInterval(c);a.onreadystatechange=null;a.abort();f&&k(f);break}n=e+1;g=n+u}else{n=q.length;break}}}}}var c=null,f=null,e=0,g=-1,n=0,p=[];a.onreadystatechange=1===t?function(){3===a.readyState&&(e++,2<=e&&(t=0,a.onreadystatechange=b));b()}:b;b()}function l(){var a=new XMLHttpRequest;a.open("GET",q+m.uuid+":"+C++);a.withCredentials=r;c(a,A);a.send(null);return a}var m=this,n=a+"?connect",q=a+"?read:",p=a+"?write:",t=1,u=!1,v="",r=!!b,w=null,x=null,y=null,A=e||{};this.sendMessage=
function(){function a(a){a=new String(a);return a.length+"."+a}if(m.isConnected()&&0!==arguments.length){for(var b=a(arguments[0]),c=1;c<arguments.length;c++)b+=","+a(arguments[c]);v+=b+";";u||g()}};var C=0;this.connect=function(a){d();m.setState(Guacamole.Tunnel.State.CONNECTING);var b=new XMLHttpRequest;b.onreadystatechange=function(){4===b.readyState&&(200!==b.status?h(b):(d(),m.setUUID(b.responseText),m.setState(Guacamole.Tunnel.State.OPEN),y=setInterval(function(){m.sendMessage("nop")},500),
k(l())))};b.open("POST",n,!0);b.withCredentials=r;c(b,A);b.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset\x3dUTF-8");b.send(a)};this.disconnect=function(){f(new Guacamole.Status(Guacamole.Status.Code.SUCCESS,"Manually closed."))}};Guacamole.HTTPTunnel.prototype=new Guacamole.Tunnel;
Guacamole.WebSocketTunnel=function(a){function b(){window.clearTimeout(f);window.clearTimeout(g);c.state===Guacamole.Tunnel.State.UNSTABLE&&c.setState(Guacamole.Tunnel.State.OPEN);f=window.setTimeout(function(){e(new Guacamole.Status(Guacamole.Status.Code.UPSTREAM_TIMEOUT,"Server timeout."))},c.receiveTimeout);g=window.setTimeout(function(){c.setState(Guacamole.Tunnel.State.UNSTABLE)},c.unstableThreshold)}function e(a){window.clearTimeout(f);window.clearTimeout(g);window.clearInterval(h);if(c.state!==
Guacamole.Tunnel.State.CLOSED){if(a.code!==Guacamole.Status.Code.SUCCESS&&c.onerror)c.onerror(a);c.setState(Guacamole.Tunnel.State.CLOSED);d.close()}}var c=this,d=null,f=null,g=null,h=null,k={"http:":"ws:","https:":"wss:"};if("ws:"!==a.substring(0,3)&&"wss:"!==a.substring(0,4))if(k=k[window.location.protocol],"/"===a.substring(0,1))a=k+"//"+window.location.host+a;else{var l=window.location.pathname.lastIndexOf("/"),l=window.location.pathname.substring(0,l+1);a=k+"//"+window.location.host+l+a}this.sendMessage=
function(a){function b(a){a=new String(a);return a.length+"."+a}if(c.isConnected()&&0!==arguments.length){for(var f=b(arguments[0]),e=1;e<arguments.length;e++)f+=","+b(arguments[e]);f+=";";-1===f.indexOf("ack,")&&-1===f.indexOf("sync,")&&f.indexOf("ping,");d.send(f)}};this.connect=function(f){b();c.setState(Guacamole.Tunnel.State.CONNECTING);d=new WebSocket(a+"?"+f,"guacamole");d.onopen=function(a){b();h=setInterval(function(){c.sendMessage(Guacamole.Tunnel.INTERNAL_DATA_OPCODE,"ping",(new Date).getTime())},
500)};d.onclose=function(a){a.reason?e(new Guacamole.Status(parseInt(a.reason),a.reason)):a.code?e(new Guacamole.Status(Guacamole.Status.Code.fromWebSocketCode(a.code))):e(new Guacamole.Status(Guacamole.Status.Code.UPSTREAM_NOT_FOUND))};d.onmessage=function(a){b();a=a.data;var d=0,f,g=[];do{var h=a.indexOf(".",d);-1!==h?(f=parseInt(a.substring(f+1,h)),d=h+1,f=d+f):e(new Guacamole.Status(Guacamole.Status.Code.SERVER_ERROR,"Incomplete instruction."));d=a.substring(d,f);h=a.substring(f,f+1);g.push(d);
if(";"===h){d=g.shift();null===c.uuid&&(d===Guacamole.Tunnel.INTERNAL_DATA_OPCODE&&c.setUUID(g[0]),c.setState(Guacamole.Tunnel.State.OPEN));if(d!==Guacamole.Tunnel.INTERNAL_DATA_OPCODE&&c.oninstruction)c.oninstruction(d,g);g.length=0}d=f+1}while(d<a.length)}};this.disconnect=function(){e(new Guacamole.Status(Guacamole.Status.Code.SUCCESS,"Manually closed."))}};Guacamole.WebSocketTunnel.prototype=new Guacamole.Tunnel;
Guacamole.ChainedTunnel=function(a){function b(a){function g(){a.onstatechange=e.onstatechange;a.oninstruction=e.oninstruction;a.onerror=e.onerror;a.onuuid=e.onuuid;a.uuid&&e.setUUID(a.uuid);f=a}e.disconnect=a.disconnect;e.sendMessage=a.sendMessage;var h=function(c){if(c&&c.code===Guacamole.Status.Code.UPSTREAM_TIMEOUT)return d=[],null;if(c=d.shift())a.onerror=null,a.oninstruction=null,a.onstatechange=null,b(c);return c};a.onstatechange=function(a){switch(a){case Guacamole.Tunnel.State.OPEN:g();if(e.onstatechange)e.onstatechange(a);
break;case Guacamole.Tunnel.State.CLOSED:if(!h()&&e.onstatechange)e.onstatechange(a)}};a.oninstruction=function(a,b){g();if(e.oninstruction)e.oninstruction(a,b)};a.onerror=function(a){if(!h(a)&&e.onerror)e.onerror(a)};a.connect(c)}for(var e=this,c,d=[],f=null,g=0;g<arguments.length;g++)d.push(arguments[g]);this.connect=function(a){c=a;if(a=f?f:d.shift())b(a);else if(e.onerror)e.onerror(Guacamole.Status.Code.SERVER_ERROR,"No tunnels to try.")}};Guacamole.ChainedTunnel.prototype=new Guacamole.Tunnel;
Guacamole.StaticHTTPTunnel=function(a,b,e){function c(a,b){for(var c in b)a.setRequestHeader(c,b[c])}var d=this,f=null,g=e||{};this.sendMessage=function(a){};this.connect=function(e){d.disconnect();d.setState(Guacamole.Tunnel.State.CONNECTING);f=new XMLHttpRequest;f.open("GET",a);f.withCredentials=!!b;c(f,g);f.responseType="text";f.send(null);var h=0,l=new Guacamole.Parser;l.oninstruction=function(a,b){if(d.oninstruction)d.oninstruction(a,b)};f.onreadystatechange=function(){if(3===f.readyState||4===
f.readyState){d.setState(Guacamole.Tunnel.State.OPEN);var a=f.responseText,b=a.length;h<b&&(l.receive(a.substring(h)),h=b)}4===f.readyState&&d.disconnect()};f.onerror=function(){if(d.onerror)d.onerror(new Guacamole.Status(Guacamole.Status.Code.fromHTTPCode(f.status),f.statusText));d.disconnect()}};this.disconnect=function(){f&&(f.abort(),f=null);d.setState(Guacamole.Tunnel.State.CLOSED)}};Guacamole.StaticHTTPTunnel.prototype=new Guacamole.Tunnel;Guacamole=Guacamole||{};Guacamole.API_VERSION="1.3.0";
Guacamole=Guacamole||{};Guacamole.VideoPlayer=function(){this.sync=function(){}};Guacamole.VideoPlayer.isSupportedType=function(a){return!1};Guacamole.VideoPlayer.getSupportedTypes=function(){return[]};Guacamole.VideoPlayer.getInstance=function(a,b,e){return null};
angular.module("rest").factory("ActiveConnection",[function(){return function(a){a=a||{};this.identifier=a.identifier;this.connectionIdentifier=a.connectionIdentifier;this.startDate=a.startDate;this.remoteHost=a.remoteHost;this.username=a.username;this.connectable=a.connectable}}]);angular.module("home").factory("ActiveConnection",[function(){return function(a,b){this.name=a;this.client=b}}]);
angular.module("rest").factory("activeConnectionService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService");return{getActiveConnection:function(a,d){var c={token:e.getCurrentToken()};return b({method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/activeConnections/"+encodeURIComponent(d),params:c})},getActiveConnections:function(a,d){var c={token:e.getCurrentToken()};d&&(c.permission=d);return b({method:"GET",url:"api/session/data/"+encodeURIComponent(a)+
"/activeConnections",params:c})},deleteActiveConnections:function(a,d){var c={token:e.getCurrentToken()},g=[];d.forEach(function(a){g.push({op:"remove",path:"/"+a})});return b({method:"PATCH",url:"api/session/data/"+encodeURIComponent(a)+"/activeConnections",params:c,data:g})},getSharingCredentials:function(a,d,f){var c={token:e.getCurrentToken()};return b({method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/activeConnections/"+encodeURIComponent(d)+"/sharingCredentials/"+encodeURIComponent(f),
params:c})}}}]);angular.module("settings").factory("ActiveConnectionWrapper",[function(){return function(a){this.dataSource=a.dataSource;this.name=a.name;this.startDate=a.startDate;this.activeConnection=a.activeConnection;this.checked=a.checked||!1}}]);
angular.module("index").filter("toArray",[function(){return function(a){if(!a)return[];var b=[];angular.forEach(a,function(a,c){b.push({key:c,value:a})});b.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});a._guac_toArray||Object.defineProperty(a,"_guac_toArray",{value:[],enumerable:!1,configurable:!0,writable:!0});angular.equals(a._guac_toArray,b)||(a._guac_toArray=b);return a._guac_toArray}}]);
angular.module("auth").factory("AuthenticationResult",[function(){var a=function(a){a=a||{};this.authToken=a.authToken;this.username=a.username;this.dataSource=a.dataSource;this.availableDataSources=a.availableDataSources};a.ANONYMOUS_USERNAME="";return a}]);
angular.module("auth").factory("authenticationService",["$injector",function(a){var b=a.get("AuthenticationResult"),e=a.get("Error"),c=a.get("$rootScope"),d=a.get("localStorageService"),f=a.get("requestService"),g={},h=null,k=function(){if(h)return h;var a=d.getItem("GUAC_AUTH");return a?h=new b(a):null},l=function(a){a?(h=a,a.username!==b.ANONYMOUS_USERNAME&&d.setItem("GUAC_AUTH",a)):(h=null,d.removeItem("GUAC_AUTH"))};g.authenticate=function(a){return f({method:"POST",url:"api/tokens",headers:{"Content-Type":"application/x-www-form-urlencoded"},
data:$.param(a)}).then(function(a){var d=g.getCurrentToken();a.authToken!==d?(d&&g.logout().catch(angular.noop),l(new b(a)),c.$broadcast("guacLogin",a.authToken)):l(new b(a));return a})["catch"](f.createErrorCallback(function(b){b.type===e.Type.INVALID_CREDENTIALS?c.$broadcast("guacInvalidCredentials",a,b):b.type===e.Type.INSUFFICIENT_CREDENTIALS?c.$broadcast("guacInsufficientCredentials",a,b):b.type===e.Type.INTERNAL_ERROR&&c.$broadcast("guacFatalPageError",b);throw b;}))};g.updateCurrentToken=function(a){var b=
{};g.getCurrentToken()&&(b.token=g.getCurrentToken());a&&angular.extend(b,a);return g.authenticate(b)};g.login=function(a,b){return g.authenticate({username:a,password:b})};g.logout=function(){var a=g.getCurrentToken();l(null);c.$broadcast("guacLogout",a);return f({method:"DELETE",url:"api/tokens/"+a})};g.isAnonymous=function(){return""===g.getCurrentUsername()};g.getCurrentUsername=function(){var a=k();return a?a.username:null};g.getCurrentToken=function(){var a=k();return a?a.authToken:null};g.getDataSource=
function(){var a=k();return a?a.dataSource:null};g.getAvailableDataSources=function(){var a=k();return a?a.availableDataSources:[]};return g}]);angular.module("auth",["rest","storage"]);
angular.module("rest").factory("cacheService",["$injector",function(a){var b=a.get("$cacheFactory");a=a.get("$rootScope");var e={};e.connections=b("API-CONNECTIONS");e.languages=b("API-LANGUAGES");e.patches=b("API-PATCHES");e.schema=b("API-SCHEMA");e.users=b("API-USERS");e.clearCaches=function(){e.connections.removeAll();e.languages.removeAll();e.schema.removeAll();e.users.removeAll()};a.$on("guacLogout",function(){e.clearCaches()});return e}]);
angular.module("form").controller("checkboxFieldController",["$scope",function(a){a.$watch("model",function(b){a.typedValue=b===a.field.options[0]});a.$watch("typedValue",function(b){a.model=b?a.field.options[0]:""})}]);
angular.module("client").controller("clientController",["$scope","$routeParams","$injector",function(a,b,e){function c(){for(var a in H)if(!E[a])return!1;return!0}var d=e.get("ConnectionGroup"),f=e.get("ManagedClient"),g=e.get("ManagedClientState"),h=e.get("ManagedFilesystem"),k=e.get("Protocol"),l=e.get("ScrollState"),m=e.get("$location"),n=e.get("authenticationService"),q=e.get("connectionGroupService"),p=e.get("dataSourceService"),t=e.get("guacClientManager"),u=e.get("guacNotification"),v=e.get("iconService"),
r=e.get("preferenceService"),w=e.get("requestService"),x=e.get("tunnelService"),y=e.get("userPageService"),A={65505:!0,65506:!0},C={65513:!0,65514:!0,65027:!0,65511:!0,65512:!0},B={65507:!0,65508:!0},E=angular.extend({},A,C,B),z={65367:!0,65457:!0},I={513:!0,514:!0,515:!0,519:!0,520:!0,521:!0,522:!0,523:!0,769:!0,771:!0,776:!0,797:!0},F={512:!0,514:!0,515:!0,519:!0,520:!0,769:!0,776:!0},O={513:!0,514:!0,515:!0,516:!0,517:!0,519:!0,520:!0,769:!0,771:!0,776:!0,797:!0},G={512:!0,514:!0,515:!0,519:!0,
520:!0,776:!0},J={name:"CLIENT.ACTION_LOGOUT",className:"logout button",callback:function(){n.logout()["catch"](w.IGNORE)["finally"](function(){m.url("/")})}},D=null;y.getHomePage().then(function(a){m.path()!==a.url&&(D={name:"CLIENT.ACTION_NAVIGATE_HOME",className:"home button",callback:function(){m.url(a.url)}})},w.WARN);var L={name:"CLIENT.ACTION_RECONNECT",className:"reconnect button",callback:function(){a.client=t.replaceManagedClient(b.id,b.params);u.showStatus(!1)}},M={text:"CLIENT.TEXT_RECONNECT_COUNTDOWN",
callback:L.callback,remaining:1};a.menu={shown:!1,autoFit:!0,inputMethod:r.preferences.inputMethod,scrollState:new l,connectionParameters:{}};a.closeMenu=function(){a.menu.shown=!1};a.applyParameterChanges=function(){angular.forEach(a.menu.connectionParameters,function(b,c){f.setArgument(a.client,c,b)})};a.client=t.getManagedClient(b.id,b.params);a.otherClients=function(b){b=angular.extend({},b);delete b[a.client.id];return b}(t.getManagedClients());a.rootConnectionGroups=null;a.filteredConnectionProperties=
["name"];a.filteredConnectionGroupProperties=["name"];p.apply(q.getConnectionGroupTree,n.getAvailableDataSources(),d.ROOT_IDENTIFIER).then(function(b){1<y.getClientPages(b).length&&(a.rootConnectionGroups=b)},w.WARN);a.sharingProfiles={};var H={},K={};a.menuDrag=function(b,c,d,f,e,g,h){10>Math.abs(e-d)&&64<=c-f?a.menu.shown=!1:(a.menu.scrollState.left-=g,a.menu.scrollState.top-=h);return!1};a.clientDrag=function(b,c,d,f,e,g,h){64>=c&&10>Math.abs(e-d)&&64<=f-c&&(a.menu.shown=!0);return!1};a.clientPinch=
function(a,b,c,d,f){return!1};a.$watch("menu.inputMethod",function(b){a.showOSK="osk"===b;a.showTextInput="text"===b});a.$watch("menu.shown",function(b,c){!b&&c?a.applyParameterChanges():b&&(a.menu.connectionParameters=f.getArgumentModel(a.client));a.client.clientProperties.keyboardEnabled=!b});a.$watch("client",function(a){a&&(a.lastUsed=(new Date).getTime())});a.$watch("client.thumbnail.canvas",function(a){v.setIcons(a)});a.$watch("client.tunnel.uuid",function(b){b&&x.getSharingProfiles(b).then(function(b){a.sharingProfiles=
b},w.WARN)});a.share=function(b){f.createShareLink(a.client,b)};a.isShared=function(){return f.isShared(a.client)};a.getShareLinkCount=function(){var b=0,c;for(c in a.client.shareLinks)b++;return b};a.$on("guacKeydown",function(b,d,f){H[d]=!0;var e=Object.keys(H);!c()||_.isEmpty(_.pick(A,e))||_.isEmpty(_.pick(C,e))||_.isEmpty(_.pick(B,e))||(b.preventDefault(),H={},f.reset(),a.$apply(function(){a.menu.shown=!a.menu.shown}));!z[d]||_.isEmpty(_.pick(C,e))||_.isEmpty(_.pick(B,e))||(b.preventDefault(),
delete H[d],K[d]=65535,a.$broadcast("guacSyntheticKeydown",65535))});a.$on("guacKeyup",function(b,c,d){K[c]?(b.preventDefault(),a.$broadcast("guacSyntheticKeyup",K[c]),delete K[c]):delete H[c]});a.$watch("client.title",function(b){a.page.title=b});var N=function(a){n.updateCurrentToken(m.search())["catch"](w.IGNORE)["finally"](function(){u.showStatus(a)})};a.isConnectionUnstable=function(){return a.client&&a.client.clientState.tunnelUnstable};var P=function(b){var c={name:"CLIENT.ACTION_CONTINUE",
className:"button",callback:function(){if(a.client){var b=a.client.requiredParameters;a.client.requiredParameters=null;f.sendArguments(a.client,b)}}};a.client.protocol&&a.client.forms&&(u.showStatus(!1),u.showStatus({formNamespace:k.getNamespace(a.client.protocol),forms:a.client.forms,formModel:b,formSubmitCallback:c.callback,actions:[c,{name:"CLIENT.ACTION_CANCEL",className:"button",callback:function(){a.client.requiredParameters=null;a.disconnect()}}]}))};a.$watchGroup(["client.clientState.connectionState",
"client.requiredParameters","client.protocol","client.forms"],function(b){var c=b[0];b=b[1];if(!b||c!==g.ConnectionState.WAITING&&c!==g.ConnectionState.CONNECTED){if(u.showStatus(!1),c){b=D?[D,L,J]:[L,J];var d=a.client.clientState.statusCode;c===g.ConnectionState.CONNECTING||c===g.ConnectionState.WAITING?u.showStatus({title:"CLIENT.DIALOG_HEADER_CONNECTING",text:{key:"CLIENT.TEXT_CLIENT_STATUS_"+c.toUpperCase()}}):c===g.ConnectionState.CLIENT_ERROR?(c=d in I?d.toString(16).toUpperCase():"DEFAULT",
d=d in F?M:null,N({className:"error",title:"CLIENT.DIALOG_HEADER_CONNECTION_ERROR",text:{key:"CLIENT.ERROR_CLIENT_"+c},countdown:d,actions:b})):c===g.ConnectionState.TUNNEL_ERROR?(c=d in O?d.toString(16).toUpperCase():"DEFAULT",d=d in G?M:null,N({className:"error",title:"CLIENT.DIALOG_HEADER_CONNECTION_ERROR",text:{key:"CLIENT.ERROR_TUNNEL_"+c},countdown:d,actions:b})):c===g.ConnectionState.DISCONNECTED?window.location=document.referrer:u.showStatus(!1)}}else P(b)});a.zoomIn=function(){a.menu.autoFit=
!1;a.client.clientProperties.autoFit=!1;a.client.clientProperties.scale+=.1};a.zoomOut=function(){a.client.clientProperties.autoFit=!1;a.client.clientProperties.scale-=.1};a.zoomSet=function(){a.menu.autoFit=!1;a.client.clientProperties.autoFit=!1};a.changeAutoFit=function(){a.menu.autoFit&&a.client.clientProperties.minScale?a.client.clientProperties.autoFit=!0:(a.client.clientProperties.autoFit=!1,a.client.clientProperties.scale=1)};a.autoFitDisabled=function(){return 1<=a.client.clientProperties.minZoom};
a.disconnect=function(){a.client&&a.client.client.disconnect();a.menu.shown=!1};a.clientMenuActions=[{name:"CLIENT.ACTION_DISCONNECT",className:"danger disconnect",callback:a.disconnect}];a.getProtocolNamespace=k.getNamespace;a.filesystemMenuContents=null;a.hideFilesystemMenu=function(){a.filesystemMenuContents=null};a.showFilesystemMenu=function(b){a.filesystemMenuContents=b};a.isFilesystemMenuShown=function(){return!!a.filesystemMenuContents&&a.menu.shown};a.$watch("isFilesystemMenuShown()",function(){var b=
a.filesystemMenuContents;b&&h.refresh(b,b.currentDirectory)});a.getPath=function(a){for(var b=[];a&&a.parent;)b.unshift(a),a=a.parent;return b};a.changeDirectory=function(a,b){h.changeDirectory(a,b)};a.uploadFiles=function(b){if(a.client)for(var c=0;c<b.length;c++)f.uploadFile(a.client,b[c],a.filesystemMenuContents)};a.hasTransfers=function(){return a.client?!!a.client.uploads.length:!1};a.canShareConnection=function(){for(var b in a.sharingProfiles)return!0;return!1};a.$on("$destroy",function(){var b=
a.client;if(b){var c=b.clientState.connectionState;c!==g.ConnectionState.DISCONNECTED&&c!==g.ConnectionState.TUNNEL_ERROR&&c!==g.ConnectionState.CLIENT_ERROR||t.removeManagedClient(b.id)}})}]);
angular.module("client").factory("ClientIdentifier",["$injector",function(a){var b=a.get("authenticationService"),e=a.get("$window"),c=function(a){a=a||{};this.dataSource=a.dataSource;this.type=a.type;this.id=a.id};c.Types={CONNECTION:"c",CONNECTION_GROUP:"g",ACTIVE_CONNECTION:"a"};c.toString=function(a){return e.btoa([a.id,a.type,a.dataSource].join("\x00"))};c.fromString=function(a){try{var d=e.atob(a).split("\x00");return new c({id:d[0],type:d[1],dataSource:d[2]})}catch(g){return new c({id:a,type:c.Types.CONNECTION,
dataSource:b.getDataSource()||"default"})}};return c}]);angular.module("client","auth element history navigation notification osk rest textInput".split(" "));angular.module("client").factory("ClientProperties",["$injector",function(a){a.get("preferenceService");return function(a){a=a||{};this.autoFit=a.autoFit||!0;this.scale=a.scale||1;this.minScale=a.minScale||1;this.maxScale=a.maxScale||3;this.keyboardEnabled=a.keyboardEnabled||!0;this.scrollTop=a.scrollTop||0;this.scrollLeft=a.scrollLeft||0}}]);
angular.module("form").provider("colorPickerService",function(){var a=null,b=!1,e=document.createElement("div");e.className="shared-color-picker";var c=null,d=function(b){c&&(a.hide(),b?c.resolve(b):c.reject(),c=null)};try{a=Pickr.create({el:e,appClass:"guac-input-color-picker","default":"#000000",defaultRepresentation:"HEX",theme:"monolith",useAsButton:!0,appendToBody:!0,lockOpacity:!0,swatches:[],components:{preview:!0,hue:!0,interaction:{input:!0,save:!0,cancel:!0}}}),a.on("cancel",function(){d()}),
a.on("save",function(a){d(a.toHEXA().toString());c=null}),a.on("init",function(){b=!0})}catch(f){}this.$get=["$injector",function(f){var g=f.get("$q"),h=f.get("$translate");f={};var k=function(){var c=g.defer();if(b)c.resolve();else if(a)a.on("init",c.resolve);else c.reject();return c.promise}();f.isAvailable=function(){return!!a};f.selectColor=function(b,f,n){return g.all({saveString:h("APP.ACTION_SAVE"),cancelString:h("APP.ACTION_CANCEL"),pickr:k}).then(function(h){d();a.setColor(f);b.appendChild(e);
var k=a.getRoot();k.interaction.save.value=h.saveString;for(k.interaction.cancel.value=h.cancelString;a.removeSwatch(0););angular.forEach(n,a.addSwatch.bind(a));c=g.defer();a.show();return c.promise})};return f}]});
angular.module("form").factory("ColorScheme",[function(){var a=function(a){a=a||{};this.background=a.background||"#000000";this.foreground=a.foreground||"#999999";this.colors=a.colors||"#000000 #993E3E #3E993E #99993E #3E3E99 #993E99 #3E9999 #999999 #3E3E3E #FF6767 #67FF67 #FFFF67 #6767FF #FF67FF #67FFFF #FFFFFF".split(" ");this._originalString=a._originalString},b=function(a){return(a=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(a))?"rgb:"+a[1]+"/"+a[2]+"/"+a[3]:null};a.fromString=
function(b){var c=new a({_originalString:b});b=b.split(/;/);for(var d=0;d<b.length;d++){var f=/^\s*(background|foreground|color([0-9]+))\s*:\s*(\S*)\s*$/.exec(b[d]);if(f){var e;e=f[3];var h=/^rgb:([0-9A-Fa-f]{1,4})\/([0-9A-Fa-f]{1,4})\/([0-9A-Fa-f]{1,4})$/.exec(e);if(e=h?"#"+(h[1]+"0").substring(0,2).toUpperCase()+(h[2]+"0").substring(0,2).toUpperCase()+(h[3]+"0").substring(0,2).toUpperCase():a.NAMED_COLORS[e.toLowerCase()]||null)"background"===f[1]?c.background=e:"foreground"===f[1]?c.foreground=
e:c.colors[parseInt(f[2])]=e}}return c};a.equals=function(a,b){return a.foreground===b.foreground&&a.background===b.background&&_.isEqual(a.colors,b.colors)};a.toString=function(e){if(!_.isUndefined(e._originalString)&&a.equals(e,a.fromString(e._originalString)))return e._originalString;var c="background: "+b(e.background)+";\nforeground: "+b(e.foreground)+";",d;for(d in e.colors)c+="\ncolor"+d+": "+b(e.colors[d])+";";return c};a.NAMED_COLORS={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",antiquewhite1:"#FFEFDB",
antiquewhite2:"#EEDFCC",antiquewhite3:"#CDC0B0",antiquewhite4:"#8B8378",aqua:"#00FFFF",aquamarine:"#7FFFD4",aquamarine1:"#7FFFD4",aquamarine2:"#76EEC6",aquamarine3:"#66CDAA",aquamarine4:"#458B74",azure:"#F0FFFF",azure1:"#F0FFFF",azure2:"#E0EEEE",azure3:"#C1CDCD",azure4:"#838B8B",beige:"#F5F5DC",bisque:"#FFE4C4",bisque1:"#FFE4C4",bisque2:"#EED5B7",bisque3:"#CDB79E",bisque4:"#8B7D6B",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blue1:"#0000FF",blue2:"#0000EE",blue3:"#0000CD",blue4:"#00008B",
blueviolet:"#8A2BE2",brown:"#A52A2A",brown1:"#FF4040",brown2:"#EE3B3B",brown3:"#CD3333",brown4:"#8B2323",burlywood:"#DEB887",burlywood1:"#FFD39B",burlywood2:"#EEC591",burlywood3:"#CDAA7D",burlywood4:"#8B7355",cadetblue:"#5F9EA0",cadetblue1:"#98F5FF",cadetblue2:"#8EE5EE",cadetblue3:"#7AC5CD",cadetblue4:"#53868B",chartreuse:"#7FFF00",chartreuse1:"#7FFF00",chartreuse2:"#76EE00",chartreuse3:"#66CD00",chartreuse4:"#458B00",chocolate:"#D2691E",chocolate1:"#FF7F24",chocolate2:"#EE7621",chocolate3:"#CD661D",
chocolate4:"#8B4513",coral:"#FF7F50",coral1:"#FF7256",coral2:"#EE6A50",coral3:"#CD5B45",coral4:"#8B3E2F",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",cornsilk1:"#FFF8DC",cornsilk2:"#EEE8CD",cornsilk3:"#CDC8B1",cornsilk4:"#8B8878",crimson:"#DC143C",cyan:"#00FFFF",cyan1:"#00FFFF",cyan2:"#00EEEE",cyan3:"#00CDCD",cyan4:"#008B8B",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgoldenrod1:"#FFB90F",darkgoldenrod2:"#EEAD0E",darkgoldenrod3:"#CD950C",darkgoldenrod4:"#8B6508",darkgray:"#A9A9A9",
darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkolivegreen1:"#CAFF70",darkolivegreen2:"#BCEE68",darkolivegreen3:"#A2CD5A",darkolivegreen4:"#6E8B3D",darkorange:"#FF8C00",darkorange1:"#FF7F00",darkorange2:"#EE7600",darkorange3:"#CD6600",darkorange4:"#8B4500",darkorchid:"#9932CC",darkorchid1:"#BF3EFF",darkorchid2:"#B23AEE",darkorchid3:"#9A32CD",darkorchid4:"#68228B",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkseagreen1:"#C1FFC1",
darkseagreen2:"#B4EEB4",darkseagreen3:"#9BCD9B",darkseagreen4:"#698B69",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategray1:"#97FFFF",darkslategray2:"#8DEEEE",darkslategray3:"#79CDCD",darkslategray4:"#528B8B",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deeppink1:"#FF1493",deeppink2:"#EE1289",deeppink3:"#CD1076",deeppink4:"#8B0A50",deepskyblue:"#00BFFF",deepskyblue1:"#00BFFF",deepskyblue2:"#00B2EE",deepskyblue3:"#009ACD",deepskyblue4:"#00688B",
dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",dodgerblue1:"#1E90FF",dodgerblue2:"#1C86EE",dodgerblue3:"#1874CD",dodgerblue4:"#104E8B",firebrick:"#B22222",firebrick1:"#FF3030",firebrick2:"#EE2C2C",firebrick3:"#CD2626",firebrick4:"#8B1A1A",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",gold1:"#FFD700",gold2:"#EEC900",gold3:"#CDAD00",gold4:"#8B7500",goldenrod:"#DAA520",goldenrod1:"#FFC125",goldenrod2:"#EEB422",goldenrod3:"#CD9B1D",
goldenrod4:"#8B6914",gray:"#BEBEBE",gray0:"#000000",gray1:"#030303",gray10:"#1A1A1A",gray100:"#FFFFFF",gray11:"#1C1C1C",gray12:"#1F1F1F",gray13:"#212121",gray14:"#242424",gray15:"#262626",gray16:"#292929",gray17:"#2B2B2B",gray18:"#2E2E2E",gray19:"#303030",gray2:"#050505",gray20:"#333333",gray21:"#363636",gray22:"#383838",gray23:"#3B3B3B",gray24:"#3D3D3D",gray25:"#404040",gray26:"#424242",gray27:"#454545",gray28:"#474747",gray29:"#4A4A4A",gray3:"#080808",gray30:"#4D4D4D",gray31:"#4F4F4F",gray32:"#525252",
gray33:"#545454",gray34:"#575757",gray35:"#595959",gray36:"#5C5C5C",gray37:"#5E5E5E",gray38:"#616161",gray39:"#636363",gray4:"#0A0A0A",gray40:"#666666",gray41:"#696969",gray42:"#6B6B6B",gray43:"#6E6E6E",gray44:"#707070",gray45:"#737373",gray46:"#757575",gray47:"#787878",gray48:"#7A7A7A",gray49:"#7D7D7D",gray5:"#0D0D0D",gray50:"#7F7F7F",gray51:"#828282",gray52:"#858585",gray53:"#878787",gray54:"#8A8A8A",gray55:"#8C8C8C",gray56:"#8F8F8F",gray57:"#919191",gray58:"#949494",gray59:"#969696",gray6:"#0F0F0F",
gray60:"#999999",gray61:"#9C9C9C",gray62:"#9E9E9E",gray63:"#A1A1A1",gray64:"#A3A3A3",gray65:"#A6A6A6",gray66:"#A8A8A8",gray67:"#ABABAB",gray68:"#ADADAD",gray69:"#B0B0B0",gray7:"#121212",gray70:"#B3B3B3",gray71:"#B5B5B5",gray72:"#B8B8B8",gray73:"#BABABA",gray74:"#BDBDBD",gray75:"#BFBFBF",gray76:"#C2C2C2",gray77:"#C4C4C4",gray78:"#C7C7C7",gray79:"#C9C9C9",gray8:"#141414",gray80:"#CCCCCC",gray81:"#CFCFCF",gray82:"#D1D1D1",gray83:"#D4D4D4",gray84:"#D6D6D6",gray85:"#D9D9D9",gray86:"#DBDBDB",gray87:"#DEDEDE",
gray88:"#E0E0E0",gray89:"#E3E3E3",gray9:"#171717",gray90:"#E5E5E5",gray91:"#E8E8E8",gray92:"#EBEBEB",gray93:"#EDEDED",gray94:"#F0F0F0",gray95:"#F2F2F2",gray96:"#F5F5F5",gray97:"#F7F7F7",gray98:"#FAFAFA",gray99:"#FCFCFC",green:"#00FF00",green1:"#00FF00",green2:"#00EE00",green3:"#00CD00",green4:"#008B00",greenyellow:"#ADFF2F",grey:"#BEBEBE",grey0:"#000000",grey1:"#030303",grey10:"#1A1A1A",grey100:"#FFFFFF",grey11:"#1C1C1C",grey12:"#1F1F1F",grey13:"#212121",grey14:"#242424",grey15:"#262626",grey16:"#292929",
grey17:"#2B2B2B",grey18:"#2E2E2E",grey19:"#303030",grey2:"#050505",grey20:"#333333",grey21:"#363636",grey22:"#383838",grey23:"#3B3B3B",grey24:"#3D3D3D",grey25:"#404040",grey26:"#424242",grey27:"#454545",grey28:"#474747",grey29:"#4A4A4A",grey3:"#080808",grey30:"#4D4D4D",grey31:"#4F4F4F",grey32:"#525252",grey33:"#545454",grey34:"#575757",grey35:"#595959",grey36:"#5C5C5C",grey37:"#5E5E5E",grey38:"#616161",grey39:"#636363",grey4:"#0A0A0A",grey40:"#666666",grey41:"#696969",grey42:"#6B6B6B",grey43:"#6E6E6E",
grey44:"#707070",grey45:"#737373",grey46:"#757575",grey47:"#787878",grey48:"#7A7A7A",grey49:"#7D7D7D",grey5:"#0D0D0D",grey50:"#7F7F7F",grey51:"#828282",grey52:"#858585",grey53:"#878787",grey54:"#8A8A8A",grey55:"#8C8C8C",grey56:"#8F8F8F",grey57:"#919191",grey58:"#949494",grey59:"#969696",grey6:"#0F0F0F",grey60:"#999999",grey61:"#9C9C9C",grey62:"#9E9E9E",grey63:"#A1A1A1",grey64:"#A3A3A3",grey65:"#A6A6A6",grey66:"#A8A8A8",grey67:"#ABABAB",grey68:"#ADADAD",grey69:"#B0B0B0",grey7:"#121212",grey70:"#B3B3B3",
grey71:"#B5B5B5",grey72:"#B8B8B8",grey73:"#BABABA",grey74:"#BDBDBD",grey75:"#BFBFBF",grey76:"#C2C2C2",grey77:"#C4C4C4",grey78:"#C7C7C7",grey79:"#C9C9C9",grey8:"#141414",grey80:"#CCCCCC",grey81:"#CFCFCF",grey82:"#D1D1D1",grey83:"#D4D4D4",grey84:"#D6D6D6",grey85:"#D9D9D9",grey86:"#DBDBDB",grey87:"#DEDEDE",grey88:"#E0E0E0",grey89:"#E3E3E3",grey9:"#171717",grey90:"#E5E5E5",grey91:"#E8E8E8",grey92:"#EBEBEB",grey93:"#EDEDED",grey94:"#F0F0F0",grey95:"#F2F2F2",grey96:"#F5F5F5",grey97:"#F7F7F7",grey98:"#FAFAFA",
grey99:"#FCFCFC",honeydew:"#F0FFF0",honeydew1:"#F0FFF0",honeydew2:"#E0EEE0",honeydew3:"#C1CDC1",honeydew4:"#838B83",hotpink:"#FF69B4",hotpink1:"#FF6EB4",hotpink2:"#EE6AA7",hotpink3:"#CD6090",hotpink4:"#8B3A62",indianred:"#CD5C5C",indianred1:"#FF6A6A",indianred2:"#EE6363",indianred3:"#CD5555",indianred4:"#8B3A3A",indigo:"#4B0082",ivory:"#FFFFF0",ivory1:"#FFFFF0",ivory2:"#EEEEE0",ivory3:"#CDCDC1",ivory4:"#8B8B83",khaki:"#F0E68C",khaki1:"#FFF68F",khaki2:"#EEE685",khaki3:"#CDC673",khaki4:"#8B864E",lavender:"#E6E6FA",
lavenderblush:"#FFF0F5",lavenderblush1:"#FFF0F5",lavenderblush2:"#EEE0E5",lavenderblush3:"#CDC1C5",lavenderblush4:"#8B8386",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lemonchiffon1:"#FFFACD",lemonchiffon2:"#EEE9BF",lemonchiffon3:"#CDC9A5",lemonchiffon4:"#8B8970",lightblue:"#ADD8E6",lightblue1:"#BFEFFF",lightblue2:"#B2DFEE",lightblue3:"#9AC0CD",lightblue4:"#68838B",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightcyan1:"#E0FFFF",lightcyan2:"#D1EEEE",lightcyan3:"#B4CDCD",lightcyan4:"#7A8B8B",lightgoldenrod:"#EEDD82",
lightgoldenrod1:"#FFEC8B",lightgoldenrod2:"#EEDC82",lightgoldenrod3:"#CDBE70",lightgoldenrod4:"#8B814C",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightpink1:"#FFAEB9",lightpink2:"#EEA2AD",lightpink3:"#CD8C95",lightpink4:"#8B5F65",lightsalmon:"#FFA07A",lightsalmon1:"#FFA07A",lightsalmon2:"#EE9572",lightsalmon3:"#CD8162",lightsalmon4:"#8B5742",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightskyblue1:"#B0E2FF",lightskyblue2:"#A4D3EE",
lightskyblue3:"#8DB6CD",lightskyblue4:"#607B8B",lightslateblue:"#8470FF",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightsteelblue1:"#CAE1FF",lightsteelblue2:"#BCD2EE",lightsteelblue3:"#A2B5CD",lightsteelblue4:"#6E7B8B",lightyellow:"#FFFFE0",lightyellow1:"#FFFFE0",lightyellow2:"#EEEED1",lightyellow3:"#CDCDB4",lightyellow4:"#8B8B7A",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",magenta1:"#FF00FF",magenta2:"#EE00EE",magenta3:"#CD00CD",magenta4:"#8B008B",
maroon:"#B03060",maroon1:"#FF34B3",maroon2:"#EE30A7",maroon3:"#CD2990",maroon4:"#8B1C62",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumorchid1:"#E066FF",mediumorchid2:"#D15FEE",mediumorchid3:"#B452CD",mediumorchid4:"#7A378B",mediumpurple:"#9370DB",mediumpurple1:"#AB82FF",mediumpurple2:"#9F79EE",mediumpurple3:"#8968CD",mediumpurple4:"#5D478B",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",
midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",mistyrose1:"#FFE4E1",mistyrose2:"#EED5D2",mistyrose3:"#CDB7B5",mistyrose4:"#8B7D7B",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navajowhite1:"#FFDEAD",navajowhite2:"#EECFA1",navajowhite3:"#CDB38B",navajowhite4:"#8B795E",navy:"#000080",navyblue:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",olivedrab1:"#C0FF3E",olivedrab2:"#B3EE3A",olivedrab3:"#9ACD32",olivedrab4:"#698B22",orange:"#FFA500",orange1:"#FFA500",orange2:"#EE9A00",
orange3:"#CD8500",orange4:"#8B5A00",orangered:"#FF4500",orangered1:"#FF4500",orangered2:"#EE4000",orangered3:"#CD3700",orangered4:"#8B2500",orchid:"#DA70D6",orchid1:"#FF83FA",orchid2:"#EE7AE9",orchid3:"#CD69C9",orchid4:"#8B4789",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",palegreen1:"#9AFF9A",palegreen2:"#90EE90",palegreen3:"#7CCD7C",palegreen4:"#548B54",paleturquoise:"#AFEEEE",paleturquoise1:"#BBFFFF",paleturquoise2:"#AEEEEE",paleturquoise3:"#96CDCD",paleturquoise4:"#668B8B",palevioletred:"#DB7093",
palevioletred1:"#FF82AB",palevioletred2:"#EE799F",palevioletred3:"#CD6889",palevioletred4:"#8B475D",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peachpuff1:"#FFDAB9",peachpuff2:"#EECBAD",peachpuff3:"#CDAF95",peachpuff4:"#8B7765",peru:"#CD853F",pink:"#FFC0CB",pink1:"#FFB5C5",pink2:"#EEA9B8",pink3:"#CD919E",pink4:"#8B636C",plum:"#DDA0DD",plum1:"#FFBBFF",plum2:"#EEAEEE",plum3:"#CD96CD",plum4:"#8B668B",powderblue:"#B0E0E6",purple:"#A020F0",purple1:"#9B30FF",purple2:"#912CEE",purple3:"#7D26CD",purple4:"#551A8B",
rebeccapurple:"#663399",red:"#FF0000",red1:"#FF0000",red2:"#EE0000",red3:"#CD0000",red4:"#8B0000",rosybrown:"#BC8F8F",rosybrown1:"#FFC1C1",rosybrown2:"#EEB4B4",rosybrown3:"#CD9B9B",rosybrown4:"#8B6969",royalblue:"#4169E1",royalblue1:"#4876FF",royalblue2:"#436EEE",royalblue3:"#3A5FCD",royalblue4:"#27408B",saddlebrown:"#8B4513",salmon:"#FA8072",salmon1:"#FF8C69",salmon2:"#EE8262",salmon3:"#CD7054",salmon4:"#8B4C39",sandybrown:"#F4A460",seagreen:"#2E8B57",seagreen1:"#54FF9F",seagreen2:"#4EEE94",seagreen3:"#43CD80",
seagreen4:"#2E8B57",seashell:"#FFF5EE",seashell1:"#FFF5EE",seashell2:"#EEE5DE",seashell3:"#CDC5BF",seashell4:"#8B8682",sienna:"#A0522D",sienna1:"#FF8247",sienna2:"#EE7942",sienna3:"#CD6839",sienna4:"#8B4726",silver:"#C0C0C0",skyblue:"#87CEEB",skyblue1:"#87CEFF",skyblue2:"#7EC0EE",skyblue3:"#6CA6CD",skyblue4:"#4A708B",slateblue:"#6A5ACD",slateblue1:"#836FFF",slateblue2:"#7A67EE",slateblue3:"#6959CD",slateblue4:"#473C8B",slategray:"#708090",slategray1:"#C6E2FF",slategray2:"#B9D3EE",slategray3:"#9FB6CD",
slategray4:"#6C7B8B",slategrey:"#708090",snow:"#FFFAFA",snow1:"#FFFAFA",snow2:"#EEE9E9",snow3:"#CDC9C9",snow4:"#8B8989",springgreen:"#00FF7F",springgreen1:"#00FF7F",springgreen2:"#00EE76",springgreen3:"#00CD66",springgreen4:"#008B45",steelblue:"#4682B4",steelblue1:"#63B8FF",steelblue2:"#5CACEE",steelblue3:"#4F94CD",steelblue4:"#36648B",tan:"#D2B48C",tan1:"#FFA54F",tan2:"#EE9A49",tan3:"#CD853F",tan4:"#8B5A2B",teal:"#008080",thistle:"#D8BFD8",thistle1:"#FFE1FF",thistle2:"#EED2EE",thistle3:"#CDB5CD",
thistle4:"#8B7B8B",tomato:"#FF6347",tomato1:"#FF6347",tomato2:"#EE5C42",tomato3:"#CD4F39",tomato4:"#8B3626",turquoise:"#40E0D0",turquoise1:"#00F5FF",turquoise2:"#00E5EE",turquoise3:"#00C5CD",turquoise4:"#00868B",violet:"#EE82EE",violetred:"#D02090",violetred1:"#FF3E96",violetred2:"#EE3A8C",violetred3:"#CD3278",violetred4:"#8B2252",webgray:"#808080",webgreen:"#008000",webgrey:"#808080",webmaroon:"#800000",webpurple:"#800080",wheat:"#F5DEB3",wheat1:"#FFE7BA",wheat2:"#EED8AE",wheat3:"#CDBA96",wheat4:"#8B7E66",
white:"#FFFFFF",whitesmoke:"#F5F5F5",x11gray:"#BEBEBE",x11green:"#00FF00",x11grey:"#BEBEBE",x11maroon:"#B03060",x11purple:"#A020F0",yellow:"#FFFF00",yellow1:"#FFFF00",yellow2:"#EEEE00",yellow3:"#CDCD00",yellow4:"#8B8B00",yellowgreen:"#9ACD32"};return a}]);
angular.module("rest").factory("Connection",[function(){return function(a){a=a||{};this.identifier=a.identifier;this.parentIdentifier=a.parentIdentifier;this.name=a.name;this.protocol=a.protocol;this.parameters=a.parameters;this.attributes=a.attributes||{};this.activeConnections=a.activeConnections;this.sharingProfiles=a.sharingProfiles;this.lastActive=a.lastActive}}]);
angular.module("rest").factory("ConnectionGroup",[function(){var a=function e(a){a=a||{};this.identifier=a.identifier;this.parentIdentifier=a.parentIdentifier||e.ROOT_IDENTIFIER;this.name=a.name;this.type=a.type||e.Type.ORGANIZATIONAL;this.childConnections=a.childConnections;this.childConnectionGroups=a.childConnectionGroups;this.attributes=a.attributes||{};this.activeConnections=a.activeConnections};a.ROOT_IDENTIFIER="ROOT";a.Type={BALANCING:"BALANCING",ORGANIZATIONAL:"ORGANIZATIONAL"};return a}]);
angular.module("rest").factory("connectionGroupService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService"),d=a.get("ConnectionGroup");return{getConnectionGroupTree:function(a,g,h){g=g||d.ROOT_IDENTIFIER;var f={token:e.getCurrentToken()};h&&(f.permission=h);return b({cache:c.connections,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/connectionGroups/"+encodeURIComponent(g)+"/tree",params:f})},getConnectionGroup:function(a,g){g=
g||d.ROOT_IDENTIFIER;var f={token:e.getCurrentToken()};return b({cache:c.connections,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/connectionGroups/"+encodeURIComponent(g),params:f})},saveConnectionGroup:function(a,d){var f={token:e.getCurrentToken()};return d.identifier?b({method:"PUT",url:"api/session/data/"+encodeURIComponent(a)+"/connectionGroups/"+encodeURIComponent(d.identifier),params:f,data:d}).then(function(){c.connections.removeAll();c.users.removeAll()}):b({method:"POST",
url:"api/session/data/"+encodeURIComponent(a)+"/connectionGroups",params:f,data:d}).then(function(a){d.identifier=a.identifier;c.connections.removeAll();c.users.removeAll()})},deleteConnectionGroup:function(a,d){var f={token:e.getCurrentToken()};return b({method:"DELETE",url:"api/session/data/"+encodeURIComponent(a)+"/connectionGroups/"+encodeURIComponent(d.identifier),params:f}).then(function(){c.connections.removeAll()})}}}]);
angular.module("rest").factory("ConnectionHistoryEntry",[function(){var a=function(a){a=a||{};this.connectionIdentifier=a.connectionIdentifier;this.connectionName=a.connectionName;this.remoteHost=a.remoteHost;this.startDate=a.startDate;this.endDate=a.endDate;this.remoteHost=a.remoteHost;this.username=a.username;this.active=a.active};a.SortPredicate={START_DATE:"startDate"};a.Duration=function(a){a/=1E3;86400<=a?(this.value=Math.round(a/86400*10)/10,this.unit="day"):3600<=a?(this.value=Math.round(a/
3600*10)/10,this.unit="hour"):60<=a?(this.value=Math.round(a/60*10)/10,this.unit="minute"):(this.value=Math.round(10*a)/10,this.unit="second")};return a}]);
angular.module("settings").factory("ConnectionHistoryEntryWrapper",["$injector",function(a){var b=a.get("ConnectionHistoryEntry");return function(a){this.connectionIdentifier=a.connectionIdentifier;this.connectionName=a.connectionName;this.remoteHost=a.remoteHost;this.username=a.username;this.startDate=a.startDate;this.endDate=a.endDate;this.duration=this.endDate-this.startDate;this.readableDuration=null;this.endDate&&this.startDate&&(this.readableDuration=new b.Duration(this.duration));this.readableDurationText=
"SETTINGS_CONNECTION_HISTORY.TEXT_HISTORY_DURATION";this.endDate||(this.readableDurationText="SETTINGS_CONNECTION_HISTORY.INFO_CONNECTION_DURATION_UNKNOWN")}}]);
angular.module("manage").directive("connectionPermissionEditor",["$injector",function(a){var b=a.get("ConnectionGroup"),e=a.get("GroupListItem"),c=a.get("PermissionSet"),d=a.get("connectionGroupService"),f=a.get("dataSourceService"),g=a.get("requestService");return{restrict:"E",replace:!0,scope:{dataSource:"\x3d",permissionFlags:"\x3d",permissionsAdded:"\x3d",permissionsRemoved:"\x3d"},templateUrl:"app/manage/templates/connectionPermissionEditor.html",controller:["$scope",function(a){var h=null,l=
null;a.tabs=["CURRENT_CONNECTIONS","ALL_CONNECTIONS"];a.currentTab="ALL_CONNECTIONS";a.filteredConnectionProperties=["name","protocol"];a.filteredConnectionGroupProperties=["name"];a.getRootGroups=function(){return"CURRENT_CONNECTIONS"===a.currentTab?l:h};var m=function(a,b){switch(a.type){case e.Type.CONNECTION:return b.connectionPermissions.READ[a.identifier];case e.Type.CONNECTION_GROUP:return b.connectionGroupPermissions.READ[a.identifier];case e.Type.SHARING_PROFILE:return b.sharingProfilePermissions.READ[a.identifier]}return!1},
n=function t(a,b){a.expandable&&a.children&&angular.forEach(a.children,function(c){a.expanded|=t(c,b)||m(c,b)});return a.expanded},q=function u(a,b){a=new e(a);if(a.children){var c=[];angular.forEach(a.children,function(d){d=u(d,b);(d.children&&d.children.length||m(a,b)||m(d,b))&&c.push(d)});a.children=c}return a};f.apply(d.getConnectionGroupTree,[a.dataSource],b.ROOT_IDENTIFIER,[c.ObjectPermissionType.ADMINISTER]).then(function(b){a.$watchGroup(["permissionFlags"],function(){a.permissionFlags&&(h=
{},l={},angular.forEach(b,function(b,c){b=e.fromConnectionGroup(c,b);h[c]=b;n(b,a.permissionFlags);l[c]=q(b,a.permissionFlags)}),a.currentTab=l[a.dataSource].children.length?"CURRENT_CONNECTIONS":"ALL_CONNECTIONS")})},g.DIE);a.groupListContext={getPermissionFlags:function(){return a.permissionFlags},connectionPermissionChanged:function(b){a.permissionFlags.connectionPermissions.READ[b]?c.hasConnectionPermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b)?c.removeConnectionPermission(a.permissionsRemoved,
c.ObjectPermissionType.READ,b):c.addConnectionPermission(a.permissionsAdded,c.ObjectPermissionType.READ,b):c.hasConnectionPermission(a.permissionsAdded,c.ObjectPermissionType.READ,b)?c.removeConnectionPermission(a.permissionsAdded,c.ObjectPermissionType.READ,b):c.addConnectionPermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b)},connectionGroupPermissionChanged:function(b){a.permissionFlags.connectionGroupPermissions.READ[b]?c.hasConnectionGroupPermission(a.permissionsRemoved,c.ObjectPermissionType.READ,
b)?c.removeConnectionGroupPermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b):c.addConnectionGroupPermission(a.permissionsAdded,c.ObjectPermissionType.READ,b):c.hasConnectionGroupPermission(a.permissionsAdded,c.ObjectPermissionType.READ,b)?c.removeConnectionGroupPermission(a.permissionsAdded,c.ObjectPermissionType.READ,b):c.addConnectionGroupPermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b)},sharingProfilePermissionChanged:function(b){a.permissionFlags.sharingProfilePermissions.READ[b]?
c.hasSharingProfilePermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b)?c.removeSharingProfilePermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b):c.addSharingProfilePermission(a.permissionsAdded,c.ObjectPermissionType.READ,b):c.hasSharingProfilePermission(a.permissionsAdded,c.ObjectPermissionType.READ,b)?c.removeSharingProfilePermission(a.permissionsAdded,c.ObjectPermissionType.READ,b):c.addSharingProfilePermission(a.permissionsRemoved,c.ObjectPermissionType.READ,b)}}}]}}]);
angular.module("rest").factory("connectionService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService");return{getConnection:function(a,f){var d={token:e.getCurrentToken()};return b({cache:c.connections,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/connections/"+encodeURIComponent(f),params:d})},getConnectionHistory:function(a,c){var d={token:e.getCurrentToken()};return b({method:"GET",url:"api/session/data/"+encodeURIComponent(a)+
"/connections/"+encodeURIComponent(c)+"/history",params:d})},getConnectionParameters:function(a,f){var d={token:e.getCurrentToken()};return b({cache:c.connections,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/connections/"+encodeURIComponent(f)+"/parameters",params:d})},saveConnection:function(a,f){var d={token:e.getCurrentToken()};return f.identifier?b({method:"PUT",url:"api/session/data/"+encodeURIComponent(a)+"/connections/"+encodeURIComponent(f.identifier),params:d,data:f}).then(function(){c.connections.removeAll();
c.users.removeAll()}):b({method:"POST",url:"api/session/data/"+encodeURIComponent(a)+"/connections",params:d,data:f}).then(function(a){f.identifier=a.identifier;c.connections.removeAll();c.users.removeAll()})},deleteConnection:function(a,f){var d={token:e.getCurrentToken()};return b({method:"DELETE",url:"api/session/data/"+encodeURIComponent(a)+"/connections/"+encodeURIComponent(f.identifier),params:d}).then(function(){c.connections.removeAll()})}}}]);
angular.module("settings").factory("csvService",[function(){var a={},b=function(a){a=null===a||void 0===a?"":""+a;return/^[0-9.]*$/.test(a)?a:'"'+a.replace(/"/g,'""')+'"'},e=function(a){return a.map(b).join(",")};a.toBlob=function(a){return new Blob([a.map(e).join("\r\n")],{type:"text/csv"})};return a}]);
angular.module("rest").factory("dataSourceService",["$injector",function(a){var b=a.get("Error"),e=a.get("$q"),c=a.get("requestService");return{apply:function(a,f){for(var d=e.defer(),h=[],k={},l=[],m=2;m<arguments.length;m++)l.push(arguments[m]);angular.forEach(f,function(d){var f=e.defer();h.push(f.promise);a.apply(this,[d].concat(l)).then(function(a){k[d]=a;f.resolve()},c.createErrorCallback(function(a){a.type===b.Type.NOT_FOUND?f.resolve():f.reject(a)}))});e.all(h).then(function(){d.resolve(k)},
c.createErrorCallback(function(a){d.reject(a)}));return d.promise}}}]);
angular.module("manage").directive("dataSourceTabs",["$injector",function(a){var b=a.get("PageDefinition"),e=a.get("translationStringService");return{restrict:"E",replace:!0,templateUrl:"app/manage/templates/dataSourceTabs.html",scope:{permissions:"\x3d",url:"\x26"},controller:["$scope",function(a){a.pages=null;a.$watch("permissions",function(c){a.pages=[];var d=_.keys(a.permissions).sort();angular.forEach(d,function(d){var f=c[d],g=!!f.identifier,f=!f.canSaveObject;if(g||!f)g=f?"read-only":g?"linked":
"unlinked",a.pages.push(new b({name:e.canonicalize("DATA_SOURCE_"+d)+".NAME",url:a.url({dataSource:d}),className:g}))})})}]}}]);angular.module("form").controller("dateFieldController",["$scope","$injector",function(a,b){var e=b.get("$filter");a.modelOptions={updateOn:"blur",timezone:"UTC"};a.$watch("model",function(b){b?(b=new Date(b+"T00:00Z"),b=isNaN(b.getTime())?null:b):b=null;a.typedValue=b});a.$watch("typedValue",function(b){a.model=b?e("date")(b,"yyyy-MM-dd","UTC"):""})}]);
angular.module("element",[]);
angular.module("rest").factory("Error",[function(){var a=function e(a){a=a||{};this.message=a.message;this.translatableMessage=a.translatableMessage;this.statusCode=a.statusCode;this.type=a.type||e.Type.INTERNAL_ERROR;this.expected=a.expected};a.Type={BAD_REQUEST:"BAD_REQUEST",INVALID_CREDENTIALS:"INVALID_CREDENTIALS",INSUFFICIENT_CREDENTIALS:"INSUFFICIENT_CREDENTIALS",INTERNAL_ERROR:"INTERNAL_ERROR",NOT_FOUND:"NOT_FOUND",PERMISSION_DENIED:"PERMISSION_DENIED",STREAM_ERROR:"STREAM_ERROR"};return a}]);
angular.module("rest").factory("Field",[function(){var a=function e(a){a=a||{};this.name=a.name;this.type=a.type||e.Type.TEXT;this.options=a.options};a.Type={TEXT:"TEXT",EMAIL:"EMAIL",USERNAME:"USERNAME",PASSWORD:"PASSWORD",NUMERIC:"NUMERIC",BOOLEAN:"BOOLEAN",ENUM:"ENUM",MULTILINE:"MULTILINE",TIMEZONE:"TIMEZONE",DATE:"DATE",TIME:"TIME",QUERY_PARAMETER:"QUERY_PARAMETER",TERMINAL_COLOR_SCHEME:"TERMINAL_COLOR_SCHEME"};return a}]);
angular.module("form").factory("FieldType",[function(){return function(a){a=a||{};this.template=a.template;this.templateUrl=a.templateUrl;this.module=a.module;this.controller=a.controller}}]);
angular.module("list").factory("FilterPattern",["$injector",function(a){var b=a.get("FilterToken"),e=a.get("IPv4Network"),c=a.get("IPv6Network"),d=a.get("$parse");return function(a){var f=this,h=function(){return!0},k=[];angular.forEach(a,function(a){k.push(d(a))});var l=function(a,b){switch(b.type){case "LITERAL":a:{b=b.value;for(var d=0;d<k.length;d++){var f=k[d](a);if(-1!==String(f).toLowerCase().indexOf(b)){a=!0;break a}}a=!1}return a;case "IPV4_NETWORK":a:{b=b.value;for(d=0;d<k.length;d++)for(var f=
String(k[d](a)).split(/[^0-9.]+/),g=0;g<f.length;g++){var h=e.parse(f[g]);if(h&&b.contains(h)){a=!0;break a}}a=!1}return a;case "IPV6_NETWORK":a:{b=b.value;for(d=0;d<k.length;d++)for(f=String(k[d](a)).split(/[^0-9A-Fa-f:]+/),g=0;g<f.length;g++)if((h=c.parse(f[g]))&&b.contains(h)){a=!0;break a}a=!1}return a;default:return!1}};this.predicate=h;this.compile=function(a){if(a){var c=b.tokenize(a.toLowerCase());f.predicate=function(a){for(var b=0;b<c.length;b++)if(!l(a,c[b]))return!1;return!0}}else f.predicate=
h}}}]);
angular.module("list").factory("FilterToken",["$injector",function(a){var b=a.get("IPv4Network"),e=a.get("IPv6Network"),c=function(a,b,c){this.consumed=a;this.type=b;this.value=c};c.Types={IPV4_NETWORK:function(a){a=/^\S+/.exec(a);if(!a)return null;var d=b.parse(a[0]);return d?new c(a[0],"IPV4_NETWORK",d):null},IPV6_NETWORK:function(a){a=/^\S+/.exec(a);if(!a)return null;var b=e.parse(a[0]);return b?new c(a[0],"IPV6_NETWORK",b):null},LITERAL:function(a){return(a=/^"([^"]*)"|^\S+/.exec(a))?a[1]?new c(a[0],
"LITERAL",a[1]):new c(a[0],"LITERAL",a[0]):null},WHITESPACE:function(a){return(a=/^\s+/.exec(a))?new c(a[0],"WHITESPACE",a[0]):null}};c.tokenize=function(a){for(var b=[];a;){var d;a:{d=void 0;for(d in c.Types){var e=(0,c.Types[d])(a);if(e){a=a.substring(e.consumed.length);d=e;break a}}d=null}if(!d)break;"WHITESPACE"!==d.type&&b.push(d)}return b};return c}]);angular.module("rest").factory("Form",[function(){return function(a){a=a||{};this.name=a.name;this.fields=a.fields||[]}}]);
angular.module("form").directive("guacForm",[function(){return{restrict:"E",replace:!0,scope:{namespace:"\x3d",content:"\x3d",model:"\x3d",modelOnly:"\x3d",disabled:"\x3d",focused:"\x3d"},templateUrl:"app/form/templates/form.html",controller:["$scope","$injector",function(a,b){var e=b.get("translationStringService");a.forms=[];a.values={};a.getSectionHeader=function(b){return b&&b.name?e.canonicalize(a.namespace||"MISSING_NAMESPACE")+".SECTION_HEADER_"+e.canonicalize(b.name):""};a.$watch("content",
function(b){if(b){angular.isArray(b)||(b=[b]);var c;if(c=b.length)c=b[0],c=!("name"in c&&"fields"in c);c&&(b=[{fields:b}]);a.forms=b}else a.forms=[]});a.$watch("model",function(b){a.values=b?b:{}});a.isFocused=function(b){return b&&b.name===a.focused};a.isVisible=function(b){return a.modelOnly?b&&b.name in a.values:!0};a.containsVisible=function(b){if(b)for(var c=0;c<b.length;c++)if(a.isVisible(b[c]))return!0;return!1}}]}}]);
angular.module("form").directive("guacFormField",[function(){return{restrict:"E",replace:!0,scope:{namespace:"\x3d",field:"\x3d",model:"\x3d",disabled:"\x3d",focused:"\x3d"},templateUrl:"app/form/templates/formField.html",controller:["$scope","$injector","$element",function(a,b,e){var c=b.get("$log"),d=b.get("formService"),f=b.get("translationStringService"),g=e.find(".form-field");a.fieldId="guac-field-XXXXXXXXXXXXXXXX".replace(/X/g,function(){return Math.floor(36*Math.random()).toString(36)})+"-"+
(new Date).getTime().toString(36);a.getFieldHeader=function(){return a.field&&a.field.name?f.canonicalize(a.namespace||"MISSING_NAMESPACE")+".FIELD_HEADER_"+f.canonicalize(a.field.name):""};a.getFieldOption=function(b){return a.field&&a.field.name?f.canonicalize(a.namespace||"MISSING_NAMESPACE")+".FIELD_OPTION_"+f.canonicalize(a.field.name)+"_"+f.canonicalize(b||"EMPTY"):""};a.isFieldVisible=function(){return g[0].hasChildNodes()};a.$watch("field",function(b){g.innerHTML="";if(b)d.insertFieldElement(g[0],
b.type,a)["catch"](function(){c.warn('Failed to retrieve field with type "'+b.type+'"')})})}]}}]);angular.module("form",["locale","rest"]);
angular.module("form").provider("formService",function(){var a=this;this.fieldTypes={TEXT:{module:"form",controller:"textFieldController",templateUrl:"app/form/templates/textField.html"},EMAIL:{templateUrl:"app/form/templates/emailField.html"},NUMERIC:{module:"form",controller:"numberFieldController",templateUrl:"app/form/templates/numberField.html"},BOOLEAN:{module:"form",controller:"checkboxFieldController",templateUrl:"app/form/templates/checkboxField.html"},USERNAME:{templateUrl:"app/form/templates/textField.html"},
PASSWORD:{module:"form",controller:"passwordFieldController",templateUrl:"app/form/templates/passwordField.html"},ENUM:{module:"form",controller:"selectFieldController",templateUrl:"app/form/templates/selectField.html"},MULTILINE:{templateUrl:"app/form/templates/textAreaField.html"},LANGUAGE:{module:"form",controller:"languageFieldController",templateUrl:"app/form/templates/languageField.html"},TIMEZONE:{module:"form",controller:"timeZoneFieldController",templateUrl:"app/form/templates/timeZoneField.html"},
DATE:{module:"form",controller:"dateFieldController",templateUrl:"app/form/templates/dateField.html"},TIME:{module:"form",controller:"timeFieldController",templateUrl:"app/form/templates/timeField.html"},TERMINAL_COLOR_SCHEME:{module:"form",controller:"terminalColorSchemeFieldController",templateUrl:"app/form/templates/terminalColorSchemeField.html"},REDIRECT:{module:"form",controller:"redirectFieldController",templateUrl:"app/form/templates/redirectField.html"}};this.registerFieldType=function(b,
e){a.fieldTypes[b]=e};this.$get=["$injector",function(b){var e=b.get("$compile"),c=b.get("$q"),d=b.get("$templateRequest"),f={},g={};g.fieldTypes=a.fieldTypes;g.insertFieldElement=function(g,k,l){var h=a.fieldTypes[k];if(!h)return c.reject();h.template?(k=c.defer(),k.resolve(h.template),k=k.promise):h.templateUrl?k=d(h.templateUrl):(k=c.defer(),k.resolve(""),k=k.promise);var n=c.defer();k.then(function(a){g.innerHTML=a;h.module&&h.controller&&(a=h.module,b.modules[a]?a=b:(f[a]=f[a]||angular.injector(["ng",
a]),a=f[a]),a.get("$controller")(h.controller,{$scope:l,$element:angular.element(g.childNodes)}));n.resolve(e(g.childNodes)(l))})["catch"](function(){n.reject()});return n.promise};return g}]});
angular.module("groupList").factory("GroupListItem",["$injector",function(a){var b=a.get("ClientIdentifier"),e=a.get("ConnectionGroup"),c=function f(a){a=a||{};this.dataSource=a.dataSource;this.identifier=a.identifier;this.name=a.name;this.protocol=a.protocol;this.children=a.children||[];this.type=a.type;this.expandable=a.expandable;this.balancing=a.balancing;this.expanded=a.expanded;this.getActiveConnections=a.getActiveConnections||function(){return null};this.getClientIdentifier=a.getClientIdentifier||
function(){return this.type===f.Type.CONNECTION?b.toString({dataSource:this.dataSource,type:b.Types.CONNECTION,id:this.identifier}):this.type===f.Type.CONNECTION_GROUP&&this.balancing?b.toString({dataSource:this.dataSource,type:b.Types.CONNECTION_GROUP,id:this.identifier}):null};this.getClientURL=a.getClientURL||function(){var a=this.getClientIdentifier();return a?"#/client/"+encodeURIComponent(a):null};this.wrappedItem=a.wrappedItem;this.weight=a.weight||0};c.fromConnection=function(a,b,e,k){var f=
[];b.sharingProfiles&&!1!==e&&b.sharingProfiles.forEach(function(b){f.push(c.fromSharingProfile(a,b,k))});return new c({name:b.name,identifier:b.identifier,protocol:b.protocol,dataSource:a,expandable:!1!==e,type:c.Type.CONNECTION,children:f,getActiveConnections:function(){return k?k(a,b):b.activeConnections},wrappedItem:b})};c.fromConnectionGroup=function(a,b,h,k,l,m){var f=[];b.childConnections&&!1!==h&&b.childConnections.forEach(function(b){f.push(c.fromConnection(a,b,k,l))});b.childConnectionGroups&&
b.childConnectionGroups.forEach(function(b){f.push(c.fromConnectionGroup(a,b,h,k,l,m))});return new c({name:b.name,identifier:b.identifier,dataSource:a,type:c.Type.CONNECTION_GROUP,balancing:b.type===e.Type.BALANCING,expandable:!0,children:f,getActiveConnections:function(){return m?m(a,b):b.activeConnections},wrappedItem:b})};c.fromSharingProfile=function(a,b){return new c({name:b.name,identifier:b.identifier,dataSource:a,type:c.Type.SHARING_PROFILE,wrappedItem:b})};c.Type={CONNECTION:"connection",
CONNECTION_GROUP:"connection-group",SHARING_PROFILE:"sharing-profile"};return c}]);angular.module("groupList",["navigation","list","rest"]);angular.module("client").factory("guacAudio",[function(){return new function(){this.supported=Guacamole.AudioPlayer.getSupportedTypes()}}]);
angular.module("client").directive("guacClient",[function(){return{restrict:"E",replace:!0,scope:{client:"\x3d"},templateUrl:"app/client/templates/guacClient.html",controller:["$scope","$injector","$element",function(a,b,e){function c(a){a.preventDefault();a.stopPropagation()}var d=b.get("ManagedClient"),f=b.get("$window"),g=!1,h=null,k=null,l=null,m=e.find(".display")[0],n=e[0];e.find(".resize-sensor");var q=new Guacamole.Mouse(m),p=function(){k&&(a.client.clientProperties.minScale=Math.min(n.offsetWidth/
Math.max(k.getWidth(),1),n.offsetHeight/Math.max(k.getHeight(),1)),a.client.clientProperties.maxScale=Math.max(a.client.clientProperties.minScale,3),k.getScale()<a.client.clientProperties.minScale||a.client.clientProperties.autoFit?a.client.clientProperties.scale=a.client.clientProperties.minScale:k.getScale()>a.client.clientProperties.maxScale&&(a.client.clientProperties.scale=a.client.clientProperties.maxScale))},t=function(a){h&&k&&(k.showCursor(!g),a=new Guacamole.Mouse.State(a.x/k.getScale(),
a.y/k.getScale(),a.left,a.middle,a.right,a.up,a.down),h.sendMouseState(a))};a.$watch("client",function(b){m.innerHTML="";b&&(h=b.client,k=h.getDisplay(),k.scale(a.client.clientProperties.scale),l=k.getElement(),m.appendChild(l),k.getElement().onclick=function(a){a.preventDefault();return!1},a.mainElementResized())});a.$watch("client.clientProperties.scrollLeft",function(b){n.scrollLeft=b;a.client.clientProperties.scrollLeft=n.scrollLeft});a.$watch("client.clientProperties.scrollTop",function(b){n.scrollTop=
b;a.client.clientProperties.scrollTop=n.scrollTop});a.$watch("client.managedDisplay.size",function(){a.$evalAsync(p)});a.$watch("client.managedDisplay.cursor",function(a){a&&(g=q.setCursor(a.canvas,a.x,a.y))});a.$watch("client.clientProperties.scale",function(b){b=Math.max(b,a.client.clientProperties.minScale);b=Math.min(b,a.client.clientProperties.maxScale);n.style.overflow=b===a.client.clientProperties.minScale?"hidden":"auto";k&&k.scale(b);b!==a.client.clientProperties.scale&&(a.client.clientProperties.scale=
b)});a.$watch("client.clientProperties.autoFit",function(b){b&&(a.client.clientProperties.scale=a.client.clientProperties.minScale)});a.mainElementResized=function(){if(h&&k){var b=f.devicePixelRatio||1,c=n.offsetWidth*b,b=n.offsetHeight*b;k.getWidth()===c&&k.getHeight()===b||h.sendSize(c,b)}a.$evalAsync(p)};q.onmousedown=function(a){document.body.focus();t(a)};q.onmouseup=q.onmousemove=t;q.onmouseout=function(){k&&k.showCursor(!1)};a.$on("guacKeydown",function(b,c,d){a.client.clientProperties.keyboardEnabled&&
!b.defaultPrevented&&(h.sendKeyEvent(1,c),b.preventDefault())});a.$on("guacKeyup",function(b,c,d){a.client.clientProperties.keyboardEnabled&&!b.defaultPrevented&&(h.sendKeyEvent(0,c),b.preventDefault())});a.$on("guacSyntheticKeydown",function(a,b){h.sendKeyEvent(1,b)});a.$on("guacSyntheticKeyup",function(a,b){h.sendKeyEvent(0,b)});m.addEventListener("dragenter",c,!1);m.addEventListener("dragover",c,!1);m.addEventListener("drop",function(b){b.preventDefault();b.stopPropagation();if(a.client){b=b.dataTransfer.files;
for(var c=0;c<b.length;c++)d.uploadFile(a.client,b[c])}},!1)}]}}]);
angular.module("client").factory("guacClientManager",["$injector",function(a){var b=a.get("ManagedClient"),e=a.get("$window"),c={},d=a.get("sessionStorageFactory").create({},function(){c.clear()});c.getManagedClients=function(){return d()};c.removeManagedClient=function(a){var b=d();return a in b?(b[a].client.disconnect(),delete b[a],!0):!1};c.replaceManagedClient=function(a,e){c.removeManagedClient(a);return d()[a]=b.getInstance(a,e)};c.getManagedClient=function(a,c){var f=d();a in f||(f[a]=b.getInstance(a,
c));return f[a]};c.clear=function(){var a=d(),b;for(b in a)a[b].client.disconnect();d({})};e.addEventListener("unload",c.clear);return c}]);
angular.module("client").directive("guacClientPanel",["$injector",function(a){var b=a.get("guacClientManager"),e=a.get("sessionStorageFactory"),c=a.get("ManagedClientState"),d=e.create(!1);return{restrict:"E",replace:!0,scope:{clients:"\x3d"},templateUrl:"app/client/templates/guacClientPanel.html",controller:["$scope","$element",function(a,e){var f=e.find(".client-panel-connection-list")[0];a.panelHidden=d;a.hasClients=function(){return!!_.find(a.clients,a.isManaged)};a.hasStatusUpdate=function(a){switch(a.clientState.connectionState){case c.ConnectionState.CONNECTION_ERROR:case c.ConnectionState.TUNNEL_ERROR:case c.ConnectionState.DISCONNECTED:return!0}return!1};
a.isManaged=function(a){return!!b.getManagedClients()[a.id]};a.disconnect=function(a){a.client.disconnect();b.removeManagedClient(a.id)};a.togglePanel=function(){d(!d())};f.addEventListener("wheel",function(a){var b={0:1,1:15,2:f.offsetWidth};a.deltaY&&(this.scrollLeft+=a.deltaY*(b[a.deltaMode]||b(1)),a.preventDefault())})}]}}]);
angular.module("client").directive("guacFileBrowser",[function(){return{restrict:"E",replace:!0,scope:{client:"\x3d",filesystem:"\x3d"},templateUrl:"app/client/templates/guacFileBrowser.html",controller:["$scope","$element","$injector",function(a,b,e){var c=e.get("ManagedFilesystem"),d=e.get("$interpolate");e=e.get("$templateRequest");var f=b.find(".current-directory-contents"),g=null;a.isNormalFile=function(a){return a.type===c.File.Type.NORMAL};a.isDirectory=function(a){return a.type===c.File.Type.DIRECTORY};
a.changeDirectory=function(b){c.changeDirectory(a.filesystem,b)};a.downloadFile=function(b){c.downloadFile(a.client,a.filesystem,b.streamName)};var h=function n(a,b){a.nodeType===Node.TEXT_NODE&&(a.nodeValue=d(a.nodeValue)(b));if(a.hasChildNodes()){a=a.childNodes;for(var c=0;c<a.length;c++)n(a[c],b)}},k=function(b){var c=angular.element(g);h(c[0],b);var d=function(){};a.isDirectory(b)?(c.addClass("directory"),d=function(){a.changeDirectory(b)}):a.isNormalFile(b)&&(c.addClass("normal-file"),d=function(){a.downloadFile(b)});
c.on("click",function(){c.hasClass("focused")?(d(),c.removeClass("focused")):(c.parent().children().removeClass("focused"),c.addClass("focused"))});c.on("selectstart",function(a){a.preventDefault();a.stopPropagation()});return c},l=function(b){var c=[],d;for(d in b)c.push(b[d]);return c.sort(function(b,c){return a.isDirectory(b)&&!a.isDirectory(c)?-1:!a.isDirectory(b)&&a.isDirectory(c)?1:b.name.localeCompare(c.name)})};e("app/client/templates/file.html").then(function(b){g=b;a.$watch("filesystem.currentDirectory.files",
function(a){f.html("");angular.forEach(l(a),function(a){f.append(k(a))})})},angular.noop);a.$on("guacUploadComplete",function(b,d){a.filesystem&&c.refresh(a.filesystem,a.filesystem.currentDirectory)})}]}}]);
angular.module("client").directive("guacFileTransfer",[function(){return{restrict:"E",replace:!0,scope:{transfer:"\x3d"},templateUrl:"app/client/templates/guacFileTransfer.html",controller:["$scope","$injector",function(a,b){var e=b.get("ManagedFileTransferState"),c={256:!0,513:!0,514:!0,515:!0,516:!0,517:!0,769:!0,771:!0,776:!0,797:!0};a.getProgressUnit=function(){var b=a.transfer.progress;return 1E9<b?"gb":1E6<b?"mb":1E3<b?"kb":"b"};a.getProgressValue=function(){var b=a.transfer.progress;if(!b)return b;
switch(a.getProgressUnit()){case "gb":return(b/1E9).toFixed(1);case "mb":return(b/1E6).toFixed(1);case "kb":return(b/1E3).toFixed(1);default:return b}};a.getPercentDone=function(){return a.transfer.progress/a.transfer.length*100};a.isInProgress=function(){if(!a.transfer)return!1;switch(a.transfer.transferState.streamState){case e.StreamState.IDLE:case e.StreamState.OPEN:return!0;default:return!1}};a.isSavable=function(){return!!a.transfer.blob};a.save=function(){a.transfer.blob&&saveAs(a.transfer.blob,
a.transfer.filename)};a.hasError=function(){return a.transfer.transferState.streamState===e.StreamState.ERROR};a.getErrorText=function(){var b=a.transfer.transferState.statusCode;return"CLIENT.ERROR_UPLOAD_"+(b in c?b.toString(16).toUpperCase():"DEFAULT")}}]}}]);
angular.module("client").directive("guacFileTransferManager",[function(){return{restrict:"E",replace:!0,scope:{client:"\x3d"},templateUrl:"app/client/templates/guacFileTransferManager.html",controller:["$scope","$injector",function(a,b){var e=b.get("ManagedFileTransferState");a.clearCompletedTransfers=function(){a.client&&(a.client.uploads=a.client.uploads.filter(function(a){a:switch(a.transferState.streamState){case e.StreamState.IDLE:case e.StreamState.OPEN:a=!0;break a;default:a=!1}return a}))}}]}}]);
angular.module("list").directive("guacFilter",[function(){return{restrict:"E",replace:!0,scope:{filteredItems:"\x3d",placeholder:"\x26",items:"\x26",properties:"\x26"},templateUrl:"app/list/templates/guacFilter.html",controller:["$scope","$injector",function(a,b){var e=new (b.get("FilterPattern"))(a.properties());a.searchString=null;var c=function(){var b=a.items();a.filteredItems=b?b.filter(e.predicate):[]};a.$watch("searchString",function(a){e.compile(a);c()});a.$watchCollection(a.items,function(){c()})}]}}]);
angular.module("element").directive("guacFocus",["$injector",function(a){var b=a.get("$parse"),e=a.get("$timeout");return{restrict:"A",link:function(a,d,f){f=b(f.guacFocus);var c=d[0];a.$watch(f,function(a){e(function(){a?c.focus():c.blur()})})}}}]);
angular.module("groupList").directive("guacGroupList",[function(){return{restrict:"E",replace:!0,scope:{connectionGroups:"\x3d",context:"\x3d",templates:"\x3d",showRootGroup:"\x3d",pageSize:"\x3d",decorator:"\x3d"},templateUrl:"app/groupList/templates/guacGroupList.html",controller:["$scope","$injector",function(a,b){var e=b.get("activeConnectionService"),c=b.get("dataSourceService"),d=b.get("requestService"),f=b.get("GroupListItem"),g={};a.rootItems=[];var h=function(a,b){return g[a][b.identifier]};
a.isVisible=function(b){return!!a.templates[b]};a.$watch("connectionGroups",function(b){var k=[];a.rootItems=[];g={};b&&(angular.forEach(b,function(b,c){k.push(c);g[c]={};b=b instanceof f?b:f.fromConnectionGroup(c,b,a.isVisible(f.Type.CONNECTION),a.isVisible(f.Type.SHARING_PROFILE),h);a.showRootGroup?a.rootItems.push(b):angular.forEach(b.children,function(b){a.rootItems.push(b)})}),c.apply(e.getActiveConnections,k).then(function(a){angular.forEach(a,function(a,b){angular.forEach(a,function(a){a=a.connectionIdentifier;
g[b][a]?g[b][a]++:g[b][a]=1})})},d.DIE));a.decorator&&a.decorator(a.rootItems)});a.toggleExpanded=function(a){a.expanded=!a.expanded}}]}}]);
angular.module("groupList").directive("guacGroupListFilter",[function(){return{restrict:"E",replace:!0,scope:{filteredConnectionGroups:"\x3d",placeholder:"\x26",connectionGroups:"\x26",connectionProperties:"\x26",connectionGroupProperties:"\x26"},templateUrl:"app/groupList/templates/guacGroupListFilter.html",controller:["$scope","$injector",function(a,b){var e=b.get("ConnectionGroup"),c=b.get("FilterPattern"),d=b.get("GroupListItem"),f=new c(a.connectionProperties()),g=new c(a.connectionGroupProperties());
a.searchString=null;var h=function q(a){a=new e(a);a.childConnections=angular.copy(a.childConnections)||[];a.childConnectionGroups=angular.copy(a.childConnectionGroups)||[];angular.forEach(a.childConnectionGroups,function(b){b=q(b);Array.prototype.push.apply(a.childConnections,b.childConnections);Array.prototype.push.apply(a.childConnectionGroups,b.childConnectionGroups)});return a},k=function p(a){a=new d(a);a.children=angular.copy(a.children)||[];angular.forEach(a.children,function(b){b.type===
d.Type.CONNECTION_GROUP&&(b=p(b),Array.prototype.push.apply(a.children,b.children))});return a},l=function(a){a.children=a.children.filter(function(a){switch(a.type){case d.Type.CONNECTION:return f.predicate(a.wrappedItem);case d.Type.CONNECTION_GROUP:return g.predicate(a.wrappedItem)}return!0})},m=function(){if(a.searchString){a.filteredConnectionGroups={};var b=a.connectionGroups();b&&angular.forEach(b,function(b,c){if(b instanceof d)b=k(b),l(b);else{var e=b=h(b);e.childConnections=e.childConnections.filter(f.predicate);
e.childConnectionGroups=e.childConnectionGroups.filter(g.predicate)}a.filteredConnectionGroups[c]=b})}else a.filteredConnectionGroups=a.connectionGroups()||{}};a.$watch("searchString",function(a){f.compile(a);g.compile(a);m()});a.$watchCollection(a.connectionGroups,function(){m()})}]}}]);
angular.module("history").factory("guacHistory",["$injector",function(a){var b=a.get("HistoryEntry"),e=a.get("localStorageService"),c={recentConnections:[],updateThumbnail:function(a,f){var d;for(d=0;d<c.recentConnections.length;d++)if(c.recentConnections[d].id===a){c.recentConnections.splice(d,1);break}c.recentConnections.unshift(new b(a,f,(new Date).getTime()));6<c.recentConnections.length&&(c.recentConnections.length=6);e.setItem("GUAC_HISTORY",c.recentConnections)}};a=e.getItem("GUAC_HISTORY")||
[];a instanceof Array&&(c.recentConnections=a);return c}]);
angular.module("client").factory("guacImage",["$injector",function(a){var b=a.get("$q");a={};var e=b.defer(),c=[],d=[];a.getSupportedMimetypes=function(){return e.promise};angular.forEach({"image/jpeg":"/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAABAAEDAREAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAACf/EABQQAQAAAAAAAAAAAAAAAAAAAAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AVMH/2Q\x3d\x3d","image/png":"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEX///+nxBvIAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg\x3d\x3d",
"image/webp":"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d"},function(a,e){var f=b.defer();c.push(f.promise);var g=new Image;g.src="data:"+e+";base64,"+a;g.onload=g.onerror=function(){1===g.width&&1===g.height&&d.push(e);f.resolve()}});b.all(c).then(function(){e.resolve(d)});return a}]);
angular.module("form").directive("guacInputColor",[function(){return{restrict:"E",replace:!0,templateUrl:"app/form/templates/guacInputColor.html",transclude:!0,scope:{model:"\x3d",palette:"\x3d"},controller:["$scope","$element","$injector",function(a,b,e){var c=e.get("colorPickerService");a.isColorPickerAvailable=c.isAvailable;a.isDark=function(){var b=a.model&&/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(a.model);if(!b)return!1;var c=parseInt(b[1],16),e=parseInt(b[2],16),b=parseInt(b[3],
16);return 153>=.2126*c+.7152*e+.0722*b};a.selectColor=function(){c.selectColor(b[0],a.model,a.palette).then(function(b){a.model=b},angular.noop)}}]}}]);
angular.module("textInput").directive("guacKey",[function(){return{restrict:"E",replace:!0,scope:{text:"\x3d",keysym:"\x3d",sticky:"\x3d?",pressed:"\x3d?"},templateUrl:"app/textInput/templates/guacKey.html",controller:["$scope","$rootScope",function(a,b){a.sticky=a.sticky||!1;a.pressed=a.pressed||!1;a.updateKey=function(e){a.sticky?a.pressed=!a.pressed:(b.$broadcast("guacSyntheticKeydown",a.keysym),b.$broadcast("guacSyntheticKeyup",a.keysym));e.preventDefault()};a.$watch("pressed",function(e,c){e?
b.$broadcast("guacSyntheticKeydown",a.keysym):c&&b.$broadcast("guacSyntheticKeyup",a.keysym)})}]}}]);
angular.module("form").directive("guacLenientDate",["$injector",function(a){var b=a.get("$filter");return{restrict:"A",require:"ngModel",link:function(a,c,d,f){f.$parsers=[function(a){if(!a)return null;var b=/([0-9]*)(?:-([0-9]*)(?:-([0-9]*))?)?/.exec(a);if(!b)return null;a=parseInt(b[1]||"0")||(new Date).getFullYear();var c=parseInt(b[2]||"0")||1,b=parseInt(b[3]||"0")||1;a=new Date(Date.UTC(a,c-1,b));return isNaN(a.getTime())?null:a}];f.$formatters=[function(a){return a?b("date")(a,"yyyy-MM-dd",
"UTC"):""}]}}}]);
angular.module("form").directive("guacLenientTime",["$injector",function(a){var b=a.get("$filter");return{restrict:"A",require:"ngModel",link:function(a,c,d,f){f.$parsers=[function(a){if(!a)return null;a=/([0-9]*)(?::([0-9]*)(?::([0-9]*))?)?(?:\s*(a|p))?/.exec(a.toLowerCase());if(!a)return null;var b=parseInt(a[1]||"0"),c=parseInt(a[2]||"0"),d=parseInt(a[3]||"0");a[4]&&(12===b&&(b=0),"p"===a[4]&&(b+=12));c+=d/60;a=new Date(Date.UTC(1970,0,1,(b+c/60)%24,c%60,d%60));return isNaN(a.getTime())?null:a}];
f.$formatters=[function(a){return a?b("date")(a,"HH:mm:ss","UTC"):""}]}}}]);angular.module("element").directive("guacMarker",["$injector",function(a){var b=a.get("Marker"),e=a.get("$parse");return{restrict:"A",link:function(a,d,f){e(f.guacMarker).assign(a,new b(d[0]))}}}]);
angular.module("navigation").directive("guacMenu",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:{menuTitle:"\x3d",interactive:"\x3d"},templateUrl:"app/navigation/templates/guacMenu.html",controller:["$scope","$injector","$element",function(a,b,e){b=b.get("$document");var c=e[0];e=e.find(".menu-contents")[0];b=b[0];a.menuShown=!1;a.toggleMenu=function(){a.menuShown=!a.menuShown};b.body.addEventListener("click",function(b){a.$apply(function(){b.target===c||c.contains(b.target)||(a.menuShown=
!1)})},!1);e.addEventListener("click",function(b){a.interactive&&b.stopPropagation()},!1)}]}}]);
angular.module("notification").directive("guacNotification",[function(){return{restrict:"E",replace:!0,scope:{notification:"\x3d"},templateUrl:"app/notification/templates/guacNotification.html",controller:["$scope","$interval",function(a,b){a.$watch("notification.progress.ratio",function(b){a.progressPercent=100*b});a.$watch("notification",function(e){var c=e.countdown;a.interval&&b.cancel(a.interval);c&&(a.timeRemaining=c.remaining,a.interval=b(function(){a.timeRemaining--;0===a.timeRemaining&&c.callback&&
c.callback()},1E3,a.timeRemaining))});a.$on("$destroy",function(){a.interval&&b.cancel(a.interval)})}]}}]);
angular.module("notification").factory("guacNotification",["$injector",function(a){var b=a.get("$rootScope"),e=a.get("requestService"),c={},d=a.get("sessionStorageFactory").create(!1);c.ACKNOWLEDGE_ACTION={name:"APP.ACTION_ACKNOWLEDGE",callback:function(){c.showStatus(!1)}};c.getStatus=function(){return d()};c.showStatus=function(a){d()&&a||d(a)};c.SHOW_REQUEST_ERROR=e.createErrorCallback(function(a){c.showStatus({className:"error",title:"APP.DIALOG_HEADER_ERROR",text:a.translatableMessage,actions:[c.ACKNOWLEDGE_ACTION]})});
b.$on("$routeChangeSuccess",function(){c.showStatus(!1)});return c}]);
angular.module("osk").directive("guacOsk",[function(){return{restrict:"E",replace:!0,scope:{layout:"\x3d"},templateUrl:"app/osk/templates/guacOsk.html",controller:["$scope","$injector","$element",function(a,b,e){var c=b.get("$http"),d=b.get("$rootScope"),f=b.get("cacheService"),g=null,h=e[0];a.keyboardResized=function(){g&&g.resize(h.offsetWidth)};a.$watch("layout",function(b){g&&(h.removeChild(g.getElement()),g=null);b&&c({cache:f.languages,method:"GET",url:b}).then(function(c){a.layout===b&&(g=
new Guacamole.OnScreenKeyboard(c.data),h.appendChild(g.getElement()),g.resize(h.offsetWidth),g.onkeydown=function(a){d.$broadcast("guacSyntheticKeydown",a)},g.onkeyup=function(a){d.$broadcast("guacSyntheticKeyup",a)})},angular.noop)})}]}}]);
angular.module("navigation").directive("guacPageList",[function(){return{restrict:"E",replace:!0,scope:{pages:"\x3d"},templateUrl:"app/navigation/templates/guacPageList.html",controller:["$scope","$injector",function(a,b){var e=b.get("PageDefinition"),c=b.get("$location"),d=c.url(),f=[];a.levels=[];var g=function(a){return angular.isArray(a.name)?a.name:[a.name]},h=function(b,c){for(var h=g(b),l=0;l<h.length;l++){var k=a.levels[l];k||(k=a.levels[l]={});var p=h[l],t=f[l]===p;k[p]||(k[p]=new e({name:p,
url:t?d:b.url,className:b.className,weight:b.weight||c+l}));if(f[l]!==p)break}};a.navigateToPage=function(a){c.path(a.url)};a.isCurrentPage=function(a){return d===a.url};a.getPages=function(a){var b=[];angular.forEach(a,function(a){b.push(a)});b.sort(function(a,b){return a.weight-b.weight});return b};a.$watch("pages",function(b){f=[];angular.forEach(b,function(b){a.isCurrentPage(b)&&(f=g(b))});a.levels=[];angular.forEach(b,h);a.levels=a.levels.filter(function(a){var b=0,c;for(c in a)if(2===++b)return!0;
return!1})})}]}}]);
angular.module("list").directive("guacPager",[function(){return{restrict:"E",replace:!0,scope:{page:"\x3d",pageSize:"\x26",pageCount:"\x26",items:"\x26"},templateUrl:"app/list/templates/guacPager.html",controller:["$scope",function(a){var b=[];a.firstPage=1;a.previousPage=1;a.currentPage=1;a.nextPage=1;a.lastPage=1;a.pageNumbers=[];var e=function(){var b=a.pageCount()||11,c=a.currentPage-(b-1)/2,b=c+b-1;c<a.firstPage?(b=Math.min(a.lastPage,b-c+a.firstPage),c=a.firstPage):b>a.lastPage&&(c=Math.max(1,
c-b+a.lastPage),b=a.lastPage);for(a.pageNumbers=[];c<=b;c++)a.pageNumbers.push(c)},c=function(){var c=a.items(),f=a.pageSize()||10;b=[];if(c)for(var e=0;e<c.length;e+=f)b.push(c.slice(e,e+f));a.firstPage=1;a.lastPage=b.length;a.selectPage(Math.min(a.lastPage,Math.max(a.firstPage,a.currentPage)))};a.selectPage=function(c){a.currentPage=c;a.page=b[c-1];a.nextPage=Math.min(a.lastPage,a.currentPage+1);a.previousPage=Math.max(a.firstPage,a.currentPage-1);e()};a.canSelectPage=function(b){return b!==a.currentPage&&
b>=a.firstPage&&b<=a.lastPage};a.isSelected=function(b){return b===a.currentPage};a.hasMorePagesBefore=function(){return a.pageNumbers[0]!==a.firstPage};a.hasMorePagesAfter=function(){return a.pageNumbers[a.pageNumbers.length-1]!==a.lastPage};a.$watchCollection(a.items,function(){c()});a.$watch(a.pageSize,function(){c()});a.$watch(a.pageCount,function(){e()})}]}}]);
angular.module("home").directive("guacRecentConnections",[function(){return{restrict:"E",replace:!0,scope:{rootGroups:"\x3d"},templateUrl:"app/home/templates/guacRecentConnections.html",controller:["$scope","$injector",function(a,b){var e=b.get("ActiveConnection"),c=b.get("ClientIdentifier"),d=b.get("RecentConnection"),f=b.get("guacClientManager"),g=b.get("guacHistory");a.activeConnections=[];a.recentConnections=[];a.hasRecentConnections=function(){return!(!a.activeConnections.length&&!a.recentConnections.length)};
var h={},k=function m(a,b){h[c.toString({dataSource:a,type:c.Types.CONNECTION_GROUP,id:b.identifier})]=b;b.childConnections&&b.childConnections.forEach(function(b){h[c.toString({dataSource:a,type:c.Types.CONNECTION,id:b.identifier})]=b});b.childConnectionGroups&&b.childConnectionGroups.forEach(function(b){m(a,b)})};a.$watch("rootGroups",function(b){a.activeConnections=[];a.recentConnections=[];h={};b&&angular.forEach(b,function(a,b){k(b,a)});var c=f.getManagedClients(),m;for(m in c)b=c[m],m in h&&
a.activeConnections.push(new e(h[m].name,b));g.recentConnections.forEach(function(b){b.id in h&&!(b.id in c)&&a.recentConnections.push(new d(h[b.id].name,b))})})}]}}]);
angular.module("element").directive("guacResize",["$document",function(a){return{restrict:"A",link:function(b,e,c){var d=b.$eval(c.guacResize),f=e[0],g=a[0].createElement("object"),h=f.offsetWidth,k=f.offsetHeight,l=function(){if(f.offsetWidth!==h||f.offsetHeight!==k)d&&b.$evalAsync(function(){d(f.offsetWidth,f.offsetHeight)}),h=f.offsetWidth,k=f.offsetHeight};g.onload=function(){g.contentDocument.defaultView.addEventListener("resize",l);l()};g.className="resize-sensor";g.type="text/html";g.data=
"app/element/templates/blank.html";f.insertBefore(g,f.firstChild)}}}]);angular.module("element").directive("guacScroll",[function(){return{restrict:"A",link:function(a,b,e){var c=a.$eval(e.guacScroll),d=b[0];a.$watch(function(){return c.left},function(a){d.scrollLeft=a;c.left=d.scrollLeft});a.$watch(function(){return c.top},function(a){d.scrollTop=a;c.top=d.scrollTop})}}}]);
angular.module("navigation").directive("guacSectionTabs",["$injector",function(a){var b=a.get("translationStringService");return{restrict:"E",replace:!0,templateUrl:"app/navigation/templates/guacSectionTabs.html",scope:{namespace:"@",current:"\x3d",tabs:"\x3d"},controller:["$scope",function(a){a.getSectionHeader=function(c){return c?b.canonicalize(a.namespace||"MISSING_NAMESPACE")+".SECTION_HEADER_"+b.canonicalize(c):""};a.selectTab=function(b){a.current=b};a.isSelected=function(b){return a.current===
b}}]}}]);
angular.module("settings").directive("guacSettingsConnectionHistory",[function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/settings/templates/settingsConnectionHistory.html",controller:["$scope","$injector",function(a,b){var e=b.get("ConnectionHistoryEntryWrapper"),c=b.get("FilterToken"),d=b.get("SortOrder"),f=b.get("$filter"),g=b.get("$routeParams"),h=b.get("$translate"),k=b.get("csvService"),l=b.get("historyService"),m=b.get("requestService");a.dataSource=g.dataSource;a.historyEntryWrappers=null;
a.searchString="";a.dateFormat=null;a.order=new d(["-startDate","-duration","username","connectionName","remoteHost"]);h("SETTINGS_CONNECTION_HISTORY.FORMAT_DATE").then(function(b){a.dateFormat=b},angular.noop);a.isLoaded=function(){return null!==a.historyEntryWrappers&&null!==a.dateFormat};a.isHistoryEmpty=function(){return a.isLoaded()&&0===a.historyEntryWrappers.length};a.search=function(){a.historyEntryWrappers=null;var b=c.tokenize(a.searchString),d=[];angular.forEach(b,function(a){switch(a.type){case "LITERAL":d.push(a.value);
case "WHITESPACE":break;default:d.push(a.consumed)}});l.getConnectionHistory(a.dataSource,d,a.order.predicate.filter(function(a){return"startDate"===a||"-startDate"===a})).then(function(b){a.historyEntryWrappers=[];angular.forEach(b,function(b){a.historyEntryWrappers.push(new e(b))})},m.DIE)};a.downloadCSV=function(){h("SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_USERNAME SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_STARTDATE SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_DURATION SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_CONNECTION_NAME SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_REMOTEHOST SETTINGS_CONNECTION_HISTORY.FILENAME_HISTORY_CSV".split(" ")).then(function(b){var c=
[[b["SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_USERNAME"],b["SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_STARTDATE"],b["SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_DURATION"],b["SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_CONNECTION_NAME"],b["SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_REMOTEHOST"]]];angular.forEach(f("orderBy")(a.historyEntryWrappers,a.order.predicate),function(b){c.push([b.username,f("date")(b.startDate,a.dateFormat),b.duration/1E3,b.connectionName,b.remoteHost])});
saveAs(k.toBlob(c),b["SETTINGS_CONNECTION_HISTORY.FILENAME_HISTORY_CSV"])},angular.noop)};a.search()}]}}]);
angular.module("settings").directive("guacSettingsConnections",[function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/settings/templates/settingsConnections.html",controller:["$scope","$injector",function(a,b){var e=b.get("ConnectionGroup"),c=b.get("GroupListItem"),d=b.get("PermissionSet"),f=b.get("$location"),g=b.get("$routeParams"),h=b.get("authenticationService"),k=b.get("connectionGroupService"),l=b.get("dataSourceService");b.get("guacNotification");var m=b.get("permissionService"),
n=b.get("requestService");b=h.getCurrentUsername();a.dataSource=g.dataSource;a.rootGroups=null;a.permissions=null;a.filteredConnectionProperties=["name","protocol"];a.filteredConnectionGroupProperties=["name"];a.isLoaded=function(){return null!==a.rootGroup&&null!==a.permissions};a.canCreateConnections=function(){return a.permissions?d.hasSystemPermission(a.permissions,d.SystemPermissionType.ADMINISTER)||d.hasSystemPermission(a.permissions,d.SystemPermissionType.CREATE_CONNECTION)?!0:!1:!1};a.canCreateConnectionGroups=
function(){return a.permissions?d.hasSystemPermission(a.permissions,d.SystemPermissionType.ADMINISTER)||d.hasSystemPermission(a.permissions,d.SystemPermissionType.CREATE_CONNECTION_GROUP)?!0:!1:!1};a.canCreateSharingProfiles=function(){return a.permissions?d.hasSystemPermission(a.permissions,d.SystemPermissionType.ADMINISTER)||d.hasSystemPermission(a.permissions,d.SystemPermissionType.CREATE_SHARING_PROFILE)?!0:!1:!1};a.canManageConnections=function(){return a.permissions?a.canCreateConnections()||
a.canCreateConnectionGroups()||a.canCreateSharingProfiles()||d.hasConnectionPermission(a.permissions,d.ObjectPermissionType.UPDATE)||d.hasConnectionPermission(a.permissions,d.ObjectPermissionType.DELETE)||d.hasConnectionGroupPermission(a.permissions,d.ObjectPermissionType.UPDATE)||d.hasConnectionGroupPermission(a.permissions,d.ObjectPermissionType.DELETE)?!0:!1:!1};a.canUpdateConnection=function(b){return a.permissions?d.hasSystemPermission(a.permissions,d.SystemPermissionType.ADMINISTER)||d.hasConnectionPermission(a.permissions,
d.ObjectPermissionType.UPDATE,b)?!0:!1:!1};a.canUpdateConnectionGroup=function(b){return a.permissions?d.hasSystemPermission(a.permissions,d.SystemPermissionType.ADMINISTER)||d.hasConnectionGroupPermission(a.permissions,d.ObjectPermissionType.UPDATE,b)?!0:!1:!1};var q=function t(b){if(b.type===c.Type.CONNECTION_GROUP){var d=b.children;if(!b||a.canUpdateConnectionGroup(b.identifier))a.canCreateConnections()&&d.push(new c({type:"new-connection",dataSource:a.dataSource,weight:1,wrappedItem:b})),a.canCreateConnectionGroups()&&
d.push(new c({type:"new-connection-group",dataSource:a.dataSource,weight:1,wrappedItem:b}))}else b.type===c.Type.CONNECTION&&(d=b.children,(!b||a.canUpdateConnection(b.identifier))&&a.canCreateSharingProfiles()&&d.push(new c({type:"new-sharing-profile",dataSource:a.dataSource,weight:1,wrappedItem:b})));angular.forEach(b.children,t)};a.rootItemDecorator=function(a){angular.forEach(a,q)};m.getEffectivePermissions(a.dataSource,b).then(function(b){a.permissions=b;d.removeConnectionGroupPermission(a.permissions,
d.ObjectPermissionType.UPDATE,e.ROOT_IDENTIFIER);a.canManageConnections()||f.path("/");l.apply(k.getConnectionGroupTree,[a.dataSource],e.ROOT_IDENTIFIER,[d.ObjectPermissionType.UPDATE,d.ObjectPermissionType.DELETE]).then(function(b){a.rootGroups=b},n.DIE)},n.DIE)}]}}]);
angular.module("settings").directive("guacSettingsPreferences",[function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/settings/templates/settingsPreferences.html",controller:["$scope","$injector",function(a,b){var e=b.get("PermissionSet"),c=b.get("$translate"),d=b.get("authenticationService"),f=b.get("guacNotification"),g=b.get("permissionService"),h=b.get("preferenceService"),k=b.get("requestService"),l=b.get("userService"),m={name:"SETTINGS_PREFERENCES.ACTION_ACKNOWLEDGE",callback:function(){f.showStatus(!1)}},
n=d.getCurrentUsername(),q=d.getDataSource();a.preferences=h.preferences;a.localeFields=[{type:"LANGUAGE",name:"language"},{type:"TIMEZONE",name:"timezone"}];a.$watch("preferences.language",function(a){c.use(a)});a.newPassword=null;a.newPasswordMatch=null;a.canChangePassword=null;a.updatePassword=function(){a.newPasswordMatch!==a.newPassword?f.showStatus({className:"error",title:"SETTINGS_PREFERENCES.DIALOG_HEADER_ERROR",text:{key:"SETTINGS_PREFERENCES.ERROR_PASSWORD_MISMATCH"},actions:[m]}):a.newPassword?
l.updateUserPassword(q,n,a.oldPassword,a.newPassword).then(function(){a.oldPassword=null;a.newPassword=null;a.newPasswordMatch=null;f.showStatus({text:{key:"SETTINGS_PREFERENCES.INFO_PASSWORD_CHANGED"},actions:[m]})},f.SHOW_REQUEST_ERROR):f.showStatus({className:"error",title:"SETTINGS_PREFERENCES.DIALOG_HEADER_ERROR",text:{key:"SETTINGS_PREFERENCES.ERROR_PASSWORD_BLANK"},actions:[m]})};g.getEffectivePermissions(q,n).then(function(b){a.canChangePassword=e.hasUserPermission(b,e.ObjectPermissionType.UPDATE,
n)})["catch"](k.createErrorCallback(function(b){a.canChangePassword=!1}));a.isLoaded=function(){return null!==a.canChangePassword&&null!==a.languages}}]}}]);
angular.module("settings").directive("guacSettingsSessions",[function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/settings/templates/settingsSessions.html",controller:["$scope","$injector",function(a,b){var e=b.get("ActiveConnectionWrapper"),c=b.get("ClientIdentifier"),d=b.get("ConnectionGroup"),f=b.get("SortOrder"),g=b.get("$filter"),h=b.get("$translate"),k=b.get("$q"),l=b.get("activeConnectionService"),m=b.get("authenticationService"),n=b.get("connectionGroupService"),q=b.get("dataSourceService"),
p=b.get("guacNotification");b=b.get("requestService");m=m.getAvailableDataSources();a.wrappers=null;a.wrapperOrder=new f(["activeConnection.username","startDate","activeConnection.remoteHost","name"]);a.filteredWrapperProperties=["activeConnection.username","startDate","activeConnection.remoteHost","name"];var t=null,u=null,v=null,r={},w=function E(a,b){angular.forEach(b.childConnections,function(b){u[a][b.identifier]=b});angular.forEach(b.childConnectionGroups,function(b){E(a,b)})},x=function(){t&&
u&&v&&(a.wrappers=[],angular.forEach(t,function(b,c){angular.forEach(b,function(b,d){d=u[c][b.connectionIdentifier];null!==b.username&&a.wrappers.push(new e({dataSource:c,name:d.name,startDate:g("date")(b.startDate,v),activeConnection:b}))})}))};q.apply(n.getConnectionGroupTree,m,d.ROOT_IDENTIFIER).then(function(a){u={};angular.forEach(a,function(a,b){u[b]={};w(b,a)});x()},b.DIE);q.apply(l.getActiveConnections,m).then(function(a){t=a;x()},b.DIE);h("SETTINGS_SESSIONS.FORMAT_STARTDATE").then(function(a){v=
a;x()},angular.noop);a.isLoaded=function(){return null!==a.wrappers};var y={name:"SETTINGS_SESSIONS.ACTION_CANCEL",callback:function(){p.showStatus(!1)}},A={name:"SETTINGS_SESSIONS.ACTION_DELETE",className:"danger",callback:function(){C();p.showStatus(!1)}},C=function(){var b=[];angular.forEach(r,function(a,c){a=Object.keys(a);a.length&&b.push(l.deleteActiveConnections(c,a))});k.all(b).then(function(){a.wrappers=a.wrappers.filter(function(a){return!(a.activeConnection.identifier in(r[a.dataSource]||
{}))});r={}},p.SHOW_REQUEST_ERROR)};a.deleteSessions=function(){p.showStatus({title:"SETTINGS_SESSIONS.DIALOG_HEADER_CONFIRM_DELETE",text:{key:"SETTINGS_SESSIONS.TEXT_CONFIRM_DELETE"},actions:[A,y]})};a.getClientURL=function(a,b){return b.connectable?"#/client/"+encodeURIComponent(c.toString({dataSource:a,type:c.Types.ACTIVE_CONNECTION,id:b.identifier})):null};a.canDeleteSessions=function(){for(var a in r)for(var b in r[a])return!0;return!1};a.wrapperSelectionChange=function(a){var b=r[a.dataSource];
b||(b=r[a.dataSource]={});a.checked?b[a.activeConnection.identifier]=a:delete b[a.activeConnection.identifier]}}]}}]);
angular.module("settings").directive("guacSettingsUserGroups",["$injector",function(a){var b=a.get("ManageableUserGroup"),e=a.get("PermissionSet"),c=a.get("SortOrder"),d=a.get("$location"),f=a.get("authenticationService"),g=a.get("dataSourceService"),h=a.get("permissionService"),k=a.get("requestService"),l=a.get("userGroupService");return{restrict:"E",replace:!0,templateUrl:"app/settings/templates/settingsUserGroups.html",scope:{},controller:["$scope",function(a){var m=f.getCurrentUsername(),q=f.getAvailableDataSources(),
p=null;a.manageableUserGroups=null;a.filteredUserGroupProperties=["userGroup.identifier"];a.order=new c(["userGroup.identifier"]);a.isLoaded=function(){return null!==a.manageableUserGroups};a.getDefaultDataSource=function(){if(!p)return null;for(var a=_.keys(p).sort(),b=0;b<a.length;b++){var c=a[b],d=p[c];if(e.hasSystemPermission(d,e.SystemPermissionType.ADMINISTER)||e.hasSystemPermission(d,e.SystemPermissionType.CREATE_USER_GROUP))return c}return null};a.canCreateUserGroups=function(){return null!==
a.getDefaultDataSource()};var t=function(){if(!p)return!1;if(a.canCreateUserGroups())return!0;for(var b in p){var c=p[b];if(e.hasUserGroupPermission(c,e.ObjectPermissionType.UPDATE)||e.hasUserGroupPermission(c,e.ObjectPermissionType.DELETE))return!0}return!1},u=function(c,d){var f={};a.manageableUserGroups=[];angular.forEach(q,function(g){angular.forEach(d[g],function(d){f[d.identifier]||(e.hasSystemPermission(c[g],e.ObjectPermissionType.ADMINISTER)||e.hasUserGroupPermission(c[g],e.ObjectPermissionType.UPDATE,
d.identifier)||e.hasUserGroupPermission(c[g],e.ObjectPermissionType.DELETE,d.identifier)||(g=a.getDefaultDataSource()),f[d.identifier]=d,a.manageableUserGroups.push(new b({dataSource:g,userGroup:d})))})})};g.apply(h.getEffectivePermissions,q,m).then(function(b){p=b;t()||d.path("/");return a.canCreateUserGroups()?g.apply(l.getUserGroups,q):g.apply(l.getUserGroups,q,[e.ObjectPermissionType.UPDATE,e.ObjectPermissionType.DELETE])}).then(function(a){u(p,a)},k.WARN)}]}}]);
angular.module("settings").directive("guacSettingsUsers",[function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/settings/templates/settingsUsers.html",controller:["$scope","$injector",function(a,b){var e=b.get("ManageableUser"),c=b.get("PermissionSet"),d=b.get("SortOrder"),f=b.get("$location"),g=b.get("$translate"),h=b.get("authenticationService"),k=b.get("dataSourceService"),l=b.get("permissionService"),m=b.get("requestService"),n=b.get("userService");b=h.getCurrentUsername();var q=
h.getAvailableDataSources();a.manageableUsers=null;a.newUsername="";a.permissions=null;a.filteredUserProperties=['user.attributes["guac-full-name"]','user.attributes["guac-organization"]',"user.lastActive","user.username"];a.dateFormat=null;a.order=new d(["user.username","-user.lastActive",'user.attributes["guac-organization"]','user.attributes["guac-full-name"]']);g("SETTINGS_USERS.FORMAT_DATE").then(function(b){a.dateFormat=b},angular.noop);a.isLoaded=function(){return null!==a.dateFormat&&null!==
a.manageableUsers&&null!==a.permissions};a.getDefaultDataSource=function(){if(!a.permissions)return null;for(var b=_.keys(a.permissions).sort(),d=0;d<b.length;d++){var f=b[d],e=a.permissions[f];if(c.hasSystemPermission(e,c.SystemPermissionType.ADMINISTER)||c.hasSystemPermission(e,c.SystemPermissionType.CREATE_USER))return f}return null};a.canCreateUsers=function(){return null!==a.getDefaultDataSource()};var p=function(){if(!a.permissions)return!1;if(a.canCreateUsers())return!0;for(var b in a.permissions){var d=
a.permissions[b];if(c.hasUserPermission(d,c.ObjectPermissionType.UPDATE)||c.hasUserPermission(d,c.ObjectPermissionType.DELETE))return!0}return!1};k.apply(l.getEffectivePermissions,q,b).then(function(b){a.permissions=b;p()||f.path("/");(a.canCreateUsers()?k.apply(n.getUsers,q):k.apply(n.getUsers,q,[c.ObjectPermissionType.UPDATE,c.ObjectPermissionType.DELETE])).then(function(d){var f={};a.manageableUsers=[];angular.forEach(q,function(g){angular.forEach(d[g],function(d){f[d.username]||(c.hasSystemPermission(b[g],
c.ObjectPermissionType.ADMINISTER)||c.hasUserPermission(b[g],c.ObjectPermissionType.UPDATE,d.username)||c.hasUserPermission(b[g],c.ObjectPermissionType.DELETE,d.username)||(g=a.getDefaultDataSource()),f[d.username]=d,a.manageableUsers.push(new e({dataSource:g,user:d})))})})},m.DIE)},m.DIE)}]}}]);
angular.module("list").directive("guacSortOrder",[function(){return{restrict:"A",link:function(a,b,e){var c=a.$eval(e.guacSortOrder),d=a.$eval(e.guacSortProperty);b.addClass("sortable");a.$watch(function(){return c.primary===d},function(a){b.toggleClass("sort-primary",a)});a.$watch(function(){return c.descending},function(a){b.toggleClass("sort-descending",a)});b[0].addEventListener("click",function(){a.$evalAsync(function(){c.togglePrimary(d)})})}}}]);
angular.module("textInput").directive("guacTextInput",[function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/textInput/templates/guacTextInput.html",controller:["$scope","$rootScope","$element","$timeout",function(a,b,e,c){var d={65027:!0,65288:!0,65289:!0,65293:!0,65307:!0,65360:!0,65361:!0,65362:!0,65363:!0,65364:!0,65367:!0,65380:!0,65470:!0,65471:!0,65472:!0,65473:!0,65474:!0,65475:!0,65476:!0,65477:!0,65478:!0,65479:!0,65480:!0,65481:!0,65505:!0,65506:!0,65507:!0,65508:!0,65513:!0,
65514:!0,65535:!0};a.sentText=[];a.altPressed=!1;a.ctrlPressed=!1;var f=e.find(".target")[0],g=!1;f.onfocus=function(){g=!0;q(4)};f.onblur=function(){g=!1};var h=!1;f.addEventListener("compositionstart",function(a){h=!0},!1);f.addEventListener("compositionend",function(a){h=!1},!1);var k=function(a){b.$broadcast("guacSyntheticKeydown",a);b.$broadcast("guacSyntheticKeyup",a)},l=function(a){if(10===a)k(65293),n();else if(a=31>=a||127<=a&&159>=a?65280|a:0<=a&&255>=a?a:256<=a&&1114111>=a?16777216|a:null)k(a),
n()},m=function(b){for(var d="",f=0;f<b.length;f++){var e=b.charCodeAt(f);8203!==e&&(d+=String.fromCharCode(e),l(e))}a.$apply(function(){a.sentText.push(d)});c(function(){a.sentText.shift()},1E3)},n=function(){a.$apply(function(){a.altPressed=!1;a.ctrlPressed=!1})},q=function(a){var b=String.fromCharCode(8203);f.value=Array(2*a+1).join(b);f.setSelectionRange(a,a)};f.addEventListener("input",function(a){if(!h){var b,c=f.value;if(8>c.length){var d=4-f.selectionStart;for(b=0;b<d;b++)k(65288);c=8-c.length-
d;for(b=0;b<c;b++)k(65535)}else m(c);q(4);a.preventDefault()}},!1);f.addEventListener("selectstart",function(a){a.preventDefault()},!1);a.$on("guacBeforeKeydown",function(a,b){g&&!d[b]&&a.preventDefault()});a.$on("guacBeforeKeyup",function(a,b){g&&!d[b]&&a.preventDefault()});f.focus()}]}}]);
angular.module("client").directive("guacThumbnail",[function(){return{restrict:"E",replace:!0,scope:{client:"\x3d"},templateUrl:"app/client/templates/guacThumbnail.html",controller:["$scope","$injector","$element",function(a,b,e){b.get("$window");var c=null,d=null,f=e.find(".display")[0],g=e[0];a.updateDisplayScale=function(){c&&c.scale(Math.min(g.offsetWidth/Math.max(c.getWidth(),1),g.offsetHeight/Math.max(c.getHeight(),1)))};a.$watch("client",function(a){f.innerHTML="";a&&(c=a.client.getDisplay(),
d=c.getElement(),f.appendChild(d))});a.$watch("client.managedDisplay.size",function(b){var c;if(b&&0!==b.width&&0!==b.height){var d=Math.min(320/b.width,240/b.height,1);c=b.width*d;b=b.height*d}else c=320,b=240;d=document.createElement("canvas");d.width=c;d.height=b;a.thumbnail=d.toDataURL("image/png");a.$evalAsync(a.updateDisplayScale)})}]}}]);
angular.module("touch").directive("guacTouchDrag",[function(){return{restrict:"A",link:function(a,b,e){var c=a.$eval(e.guacTouchDrag);b=b[0];var d=!1,f=null,g=null,h=null,k=null,l=0,m=0;b.addEventListener("touchmove",function(b){if(1===b.touches.length){b.stopPropagation();var e=b.touches[0].clientX,n=b.touches[0].clientY;f&&g?d&&(l=e-h,m=n-k,h=e,k=n):(f=h=e,g=k=n,m=l=0,d=!0);d&&c&&a.$apply(function(){!1===c(!0,f,g,h,k,l,m)&&b.preventDefault()})}},!1);b.addEventListener("touchend",function(b){f&&
g&&0===b.touches.length&&(b.stopPropagation(),d&&c&&a.$apply(function(){!1===c(!0,f,g,h,k,l,m)&&b.preventDefault()}),g=k=f=h=null,m=l=0,d=!1)},!1)}}}]);
angular.module("touch").directive("guacTouchPinch",[function(){return{restrict:"A",link:function(a,b,e){var c=a.$eval(e.guacTouchPinch);b=b[0];var d=null,f=null,g=0,h=0,k=function(a){var b=a.touches[0],c=a.touches[1];a=b.clientX-c.clientX;b=b.clientY-c.clientY;return Math.sqrt(a*a+b*b)};b.addEventListener("touchmove",function(b){2===b.touches.length&&(b.stopPropagation(),f=k(b),g=(b.touches[0].clientX+b.touches[1].clientX)/2,h=(b.touches[0].clientY+b.touches[1].clientY)/2,d||(d=f),c&&a.$apply(function(){!1===
c(!0,d,f,g,h)&&b.preventDefault()}))},!1);b.addEventListener("touchend",function(b){d&&2>b.touches.length&&(b.stopPropagation(),c&&a.$apply(function(){!1===c(!1,d,f,g,h)&&b.preventDefault()}),d=null)},!1)}}}]);
angular.module("element").directive("guacUpload",["$document",function(a){return{restrict:"A",link:function(b,e,c){var d=b.$eval(c.guacUpload);e=e[0];var f=a[0].createElement("form"),g=a[0].createElement("input");g.type="file";g.multiple=!0;f.appendChild(g);g.addEventListener("change",function(){b.$apply(function(){d&&0<g.files.length&&d(g.files);f.reset()})});e.addEventListener("click",function(){g.click()})}}}]);
angular.module("list").directive("guacUserItem",[function(){return{restrict:"E",replace:!0,scope:{username:"\x3d"},templateUrl:"app/list/templates/guacUserItem.html",controller:["$scope","$injector",function(a,b){var e=b.get("AuthenticationResult"),c=b.get("$translate");a.displayName=null;a.isAnonymous=function(){return a.username===e.ANONYMOUS_USERNAME};a.$watch("username",function(b){a.isAnonymous()?c("LIST.TEXT_ANONYMOUS_USER").then(function(b){a.displayName=b},angular.noop):a.displayName=b})}]}}]);
angular.module("navigation").directive("guacUserMenu",[function(){return{restrict:"E",replace:!0,scope:{localActions:"\x3d"},templateUrl:"app/navigation/templates/guacUserMenu.html",controller:["$scope","$injector",function(a,b){var e=b.get("User"),c=b.get("$location"),d=b.get("$route"),f=b.get("authenticationService"),g=b.get("requestService"),h=b.get("userService");b=b.get("userPageService");a.username=f.getCurrentUsername();a.fullName=null;a.userURL=null;a.organization=null;a.role=null;h.getUser(f.getDataSource(),
a.username).then(function(b){a.fullName=b.attributes[e.Attributes.FULL_NAME];a.organization=b.attributes[e.Attributes.ORGANIZATION];a.role=b.attributes[e.Attributes.ORGANIZATIONAL_ROLE];b=b.attributes[e.Attributes.EMAIL_ADDRESS];a.userURL=b?"mailto:"+b:null},g.IGNORE);a.pages=null;b.getMainPages().then(function(b){a.pages=b});a.isAnonymous=function(){return f.isAnonymous()};a.logout=function(){f.logout()["catch"](g.IGNORE)["finally"](function(){"/"!==c.path()?c.url("/"):d.reload()})};a.actions=[{name:"USER_MENU.ACTION_LOGOUT",
className:"logout",callback:a.logout}]}]}}]);angular.module("client").factory("guacVideo",[function(){return new function(){this.supported=Guacamole.VideoPlayer.getSupportedTypes()}}]);
angular.module("client").directive("guacViewport",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"app/client/templates/guacViewport.html",controller:["$scope","$injector","$element",function(a,b,e){var c=b.get("$window"),d=e.find(".viewport")[0],f=null,g=null,h=function(){var a=c.innerWidth,b=c.innerHeight;a!==f&&(d.style.width=a+"px",f=a);b!==g&&(d.style.height=b+"px",g=b);(d.scrollLeft||d.scrollTop)&&c.scrollTo(c.pageXOffset+d.scrollLeft,c.pageYOffset+d.scrollTop)};c.addEventListener("scroll",
h);var k=c.setInterval(h,10);a.$on("$destroy",function(){c.removeEventListener("scroll",h);c.clearInterval(k)})}]}}]);angular.module("client").directive("guacZoomCtrl",function(){return{restrict:"A",require:"ngModel",priority:101,link:function(a,b,e,c){c.$viewChangeListeners.push(function(){a.$eval(e.ngChange)});c.$formatters.push(function(a){return Math.round(100*a)});c.$parsers.push(function(a){return Math.round(a)/100})}}});
angular.module("history").factory("HistoryEntry",[function(){return function(a,b){this.id=a;this.thumbnail=b}}]);
angular.module("manage").factory("HistoryEntryWrapper",["$injector",function(a){var b=a.get("ConnectionHistoryEntry");return function(a){this.entry=a;this.duration=null;this.durationText="MANAGE_CONNECTION.TEXT_HISTORY_DURATION";a.active?this.durationText="MANAGE_CONNECTION.INFO_CONNECTION_ACTIVE_NOW":a.endDate||(this.durationText="MANAGE_CONNECTION.INFO_CONNECTION_DURATION_UNKNOWN");a.endDate&&a.startDate&&(this.duration=new b.Duration(a.endDate-a.startDate))}}]);angular.module("history",["storage"]);
angular.module("rest").factory("historyService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService");return{getConnectionHistory:function(a,d,f){var c={token:e.getCurrentToken()};d&&(c.contains=d);f&&(c.order=f);return b({method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/history/connections",params:c})}}}]);
angular.module("home").controller("homeController",["$scope","$injector",function(a,b){var e=b.get("ConnectionGroup");b.get("GroupListItem");var c=b.get("authenticationService"),d=b.get("connectionGroupService"),f=b.get("dataSourceService");b=b.get("requestService");a.rootConnectionGroups=null;a.filteredConnectionProperties=["name"];a.filteredConnectionGroupProperties=["name"];a.isLoaded=function(){return null!==a.rootConnectionGroups};f.apply(d.getConnectionGroupTree,c.getAvailableDataSources(),
e.ROOT_IDENTIFIER).then(function(b){a.rootConnectionGroups=b},b.DIE)}]);angular.module("home",["client","groupList","history","navigation","rest"]);angular.module("index").config(["$httpProvider",function(a){a.defaults.headers.get={"Cache-Control":"no-cache",Pragma:"no-cache"};a.defaults.headers.patch={"Content-Type":"application/json"}}]);
angular.module("index").factory("iconService",["$rootScope",function(a){var b={},e=$('link[rel\x3dicon][href\x3d"images/logo-64.png"]'),c=$('link[rel\x3dicon][href\x3d"images/logo-144.png"]'),d=function(a,b,c){var d=document.createElement("canvas");d.width=b;d.height=c;var f=Math.min(b/a.width,c/a.height),e=a.width*f,f=a.height*f;b=(b-e)/2;c=(c-f)/2;d.getContext("2d").drawImage(a,b,c,e,f);return d};b.setIcons=function(a){if(a){var b=d(a,64,64);e.attr("href",b.toDataURL("image/png"));a=d(a,144,144);
c.attr("href",a.toDataURL("image/png"))}};b.setDefaultIcons=function(){e.attr("href","images/logo-64.png");c.attr("href","images/logo-144.png")};a.$on("$routeChangeSuccess",function(){b.setDefaultIcons()});return b}]);
angular.module("manage").directive("identifierSetEditor",["$injector",function(a){return{restrict:"E",replace:!0,scope:{header:"@",emptyPlaceholder:"@",unavailablePlaceholder:"@",identifiersAvailable:"\x3d",identifiers:"\x3d",identifiersAdded:"\x3d",identifiersRemoved:"\x3d"},templateUrl:"app/manage/templates/identifierSetEditor.html",controller:["$scope",function(a){a.expanded=!1;a.identifierFlags={};a.isEditable={};var b=function(a,b){var c=_.sortedIndex(a,b);a[c]!==b&&a.splice(c,0,b)},c=function(a,
b){b=_.sortedIndexOf(a,b);if(-1===b)return!1;a.splice(b,1);return!0};a.$watch("identifiers",function(b){b&&b.sort();a.identifierFlags={};angular.forEach(b,function(b){a.identifierFlags[b]=!0})});a.$watch("identifiersAvailable",function(b){a.isEditable={};angular.forEach(b,function(b){a.isEditable[b]=!0})});a.identifierChanged=function(d){a.identifierFlags[d]?(b(a.identifiers,d),c(a.identifiersRemoved,d)||b(a.identifiersAdded,d)):(c(a.identifiers,d),c(a.identifiersAdded,d)||b(a.identifiersRemoved,
d))};a.removeIdentifier=function(b){a.identifierFlags[b]=!1;a.identifierChanged(b)};a.expand=function(){a.expanded=!0};a.collapse=function(){a.expanded=!1};a.isEmpty=function(){return _.isEmpty(a.identifiers)&&_.isEmpty(a.identifiersAvailable)}}]}}]);
angular.module("index").controller("indexController",["$scope","$injector",function(a,b){var e=b.get("$document"),c=b.get("$window"),d=b.get("guacNotification");a.fatalError=null;a.guacNotification=d;a.loginHelpText=null;a.acceptedCredentials=null;a.expectedCredentials=null;a.page={title:"",bodyClassName:""};b=new Guacamole.InputSink;e[0].body.appendChild(b.getElement());var f=new Guacamole.Keyboard(e[0]);f.listenTo(b.getElement());f.onkeydown=function(b){return a.expectedCredentials||d.getStatus()||
a.$broadcast("guacBeforeKeydown",b,f).defaultPrevented?!0:!a.$broadcast("guacKeydown",b,f).defaultPrevented};f.onkeyup=function(b){a.expectedCredentials||d.getStatus()||a.$broadcast("guacBeforeKeyup",b,f).defaultPrevented||a.$broadcast("guacKeyup",b,f)};c.onblur=function(){f.reset()};e.on("submit",function(){f.reset()});a.$on("guacInvalidCredentials",function(b,c,d){a.page.title="APP.NAME";a.page.bodyClassName="";a.loginHelpText=null;a.acceptedCredentials={};a.expectedCredentials=d.expected;a.fatalError=
null});a.$on("guacInsufficientCredentials",function(b,c,d){a.page.title="APP.NAME";a.page.bodyClassName="";a.loginHelpText=d.translatableMessage;a.acceptedCredentials=c;a.expectedCredentials=d.expected;a.fatalError=null});a.$on("guacFatalPageError",function(b){window.location.reload();});a.$on("$routeChangeStart",function(){f.reset()});a.$on("$routeChangeSuccess",function(b,c,d){if(c.$$route){a.loginHelpText=null;a.acceptedCredentials=null;a.expectedCredentials=
null;a.fatalError=null;if(b=c.$$route.title)a.page.title=b;a.page.bodyClassName=c.$$route.bodyClassName||""}})}]);angular.module("index","auth client home login manage navigation ngRoute ngTouch notification pascalprecht.translate rest settings templates-main".split(" "));
angular.module("index").config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!1);b.hashPrefix("");var e=["$injector",function(a){var b=a.get("$location");return a.get("authenticationService").updateCurrentToken(b.search())}];b=["$injector",function(a){var b=a.get("$location"),c=a.get("$q"),g=a.get("userPageService"),h=c.defer();a.invoke(e).then(function(){g.getHomePage().then(function(a){b.path()===a.url?h.resolve():(b.path(a.url),h.reject())})["catch"](function(){h.resolve()})})["catch"](function(){h.reject()});
return h.promise}];a.when("/",{title:"APP.NAME",bodyClassName:"home",templateUrl:"app/home/templates/home.html",controller:"homeController",resolve:{routeToUserHomePage:b}}).when("/settings/:dataSource?/:tab",{title:"APP.NAME",bodyClassName:"settings",templateUrl:"app/settings/templates/settings.html",controller:"settingsController",resolve:{updateCurrentToken:e}}).when("/manage/:dataSource/connections/:id?",{title:"APP.NAME",bodyClassName:"manage",templateUrl:"app/manage/templates/manageConnection.html",
controller:"manageConnectionController",resolve:{updateCurrentToken:e}}).when("/manage/:dataSource/sharingProfiles/:id?",{title:"APP.NAME",bodyClassName:"manage",templateUrl:"app/manage/templates/manageSharingProfile.html",controller:"manageSharingProfileController",resolve:{updateCurrentToken:e}}).when("/manage/:dataSource/connectionGroups/:id?",{title:"APP.NAME",bodyClassName:"manage",templateUrl:"app/manage/templates/manageConnectionGroup.html",controller:"manageConnectionGroupController",resolve:{updateCurrentToken:e}}).when("/manage/:dataSource/users/:id?",
{title:"APP.NAME",bodyClassName:"manage",templateUrl:"app/manage/templates/manageUser.html",controller:"manageUserController",resolve:{updateCurrentToken:e}}).when("/manage/:dataSource/userGroups/:id?",{title:"APP.NAME",bodyClassName:"manage",templateUrl:"app/manage/templates/manageUserGroup.html",controller:"manageUserGroupController",resolve:{updateCurrentToken:e}}).when("/client/:id/:params?",{bodyClassName:"client",templateUrl:"app/client/templates/client.html",controller:"clientController",resolve:{updateCurrentToken:e}}).otherwise({resolve:{routeToUserHomePage:b}})}]);
angular.module("index").config(["$injector",function(a){var b=a.get("$translateProvider");a=a.get("preferenceServiceProvider");b.fallbackLanguage("en");b.preferredLanguage(a.preferences.language);b.useSanitizeValueStrategy("escape");b.useLoader("translationLoader");b.useMessageFormatInterpolation()}]);
angular.module("list").factory("IPv4Network",[function(){var a=function(a,e){var b=this;this.address=a;this.netmask=e;this.contains=function(a){return b.address===(a.address&a.netmask&b.netmask)}};a.parse=function(b){b=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})(?:\/([0-9]{1,2}))?$/.exec(b);if(!b)return null;var e=4294967295;if(b[5]){var c=parseInt(b[5]);0<c&&32>=c&&(e=4294967295<<32-c)}for(var c=0,d=1;4>=d;d++){var f=parseInt(b[d]);if(255<f)return null;c=c<<8|f}return new a(c,e)};return a}]);
angular.module("list").factory("IPv6Network",[function(){var a=function(a,b){var c=this;this.addressGroups=a;this.netmaskGroups=b;this.contains=function(a){for(var b=0;8>b;b++)if(c.addressGroups[b]!==(a.addressGroups[b]&a.netmaskGroups[b]&c.netmaskGroups[b]))return!1;return!0}},b=function(a){var b=[];for(a=Math.min(128,a);16<=a;)b.push(65535),a-=16;for(0<a&&16>=a&&b.push(65535&65535<<16-a);8>b.length;)b.push(0);return b},e=function(a){var b=[];a=a.split(":");angular.forEach(a,function(a){a=parseInt(a||
"0",16);b.push(a)});return b};a.parse=function(c){c=/^([0-9a-f]{0,4}(?::[0-9a-f]{0,4}){0,7})(?:\/([0-9]{1,3}))?$/.exec(c);if(!c)return null;var d=c[1];c=(c=c[2])?b(parseInt(c)):b(128);var f=d.indexOf("::");if(-1===f)d=e(d);else{for(var g=e(d.substring(0,f)),d=e(d.substring(f+2)),f=8-g.length-d.length;0<f;)g.push(0),f--;d=g.concat(d)}return 8!==d.length?null:new a(d,c)};return a}]);
angular.module("form").controller("languageFieldController",["$scope","$injector",function(a,b){var e=b.get("languageService");b=b.get("requestService");a.languages=null;e.getLanguages().then(function(b){a.languages=b},b.DIE);a.$watch("model",function(b){b||""===b||(a.model="")})}]);
angular.module("rest").factory("languageService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService");return{getLanguages:function(){var a={token:e.getCurrentToken()};return b({cache:c.languages,method:"GET",url:"api/languages",params:a})}}}]);angular.module("list",["auth"]);angular.module("locale",[]);
angular.module("storage").provider("localStorageService",[function(){var a=this,b={};a.setItem=function(a,c){c=JSON.stringify(c);b[a]=c;try{window.localStorage&&localStorage.setItem(a,c)}catch(d){}};a.removeItem=function(a){delete b[a];try{window.localStorage&&localStorage.removeItem(a)}catch(c){}};a.getItem=function(a){try{window.localStorage&&(b[a]=localStorage.getItem(a))}catch(c){}return(a=b[a])?JSON.parse(a):null};this.$get=["$injector",function(b){return{setItem:a.setItem,removeItem:a.removeItem,
getItem:a.getItem}}]}]);
angular.module("manage").directive("locationChooser",[function(){return{restrict:"E",replace:!0,scope:{dataSource:"\x3d",rootGroup:"\x3d",value:"\x3d"},templateUrl:"app/manage/templates/locationChooser.html",controller:["$scope",function(a){var b={},e=function d(a){b[a.identifier]=a;a.childConnectionGroups&&a.childConnectionGroups.forEach(d)};a.menuOpen=!1;a.chosenConnectionGroupName=null;a.toggleMenu=function(){a.menuOpen=!a.menuOpen};a.$watchGroup(["dataSource","rootGroup"],function(){if(!a.dataSource||
!a.rootGroup)return null;a.rootGroups={};a.rootGroups[a.dataSource]=a.rootGroup});a.groupListContext={chooseGroup:function(b){a.value=b.identifier;a.chosenConnectionGroupName=b.name;a.menuOpen=!1}};a.$watch("rootGroup",function(d){b={};d&&(e(d),a.value&&a.value in b||(a.value=d.identifier),a.chosenConnectionGroupName=b[a.value].name)})}]}}]);
angular.module("login").directive("guacLogin",[function(){return{restrict:"E",replace:!0,templateUrl:"app/login/templates/login.html",scope:{helpText:"\x3d",form:"\x3d",values:"\x3d"},controller:["$scope","$injector",function(a,b){var e=b.get("Error"),c=b.get("Field"),d=b.get("$rootScope"),f=b.get("$route"),g=b.get("authenticationService"),h=b.get("requestService");a.loginError=null;a.enteredValues={};a.remainingFields=[];a.submitted=!1;a.relevantField=null;a.isContinuation=function(){for(var b in a.values)return!0;
return!1};a.$watch("values",function(b){angular.extend(a.enteredValues,b||{})});a.$watch("form",function(b){b?(a.remainingFields=b.filter(function(b){return!(b.name in a.values)}),angular.forEach(a.remainingFields,function(b){a.enteredValues[b.name]||(a.enteredValues[b.name]="")}),a.relevantField=k()):a.remainingFields=[]});a.login=function(){a.submitted=!0;a.loginError=null;g.authenticate(a.enteredValues).then(function(){f.reload()})["catch"](h.createErrorCallback(function(b){a.submitted=!1;b.type!==
e.Type.INSUFFICIENT_CREDENTIALS&&(a.loginError=b.type===e.Type.INVALID_CREDENTIALS?{key:"LOGIN.ERROR_INVALID_LOGIN"}:b.translatableMessage,angular.forEach(a.remainingFields,function(b){b.type!==c.Type.USERNAME&&b.name in a.enteredValues&&(a.enteredValues[b.name]="")}))}))};var k=function(){for(var b=0;b<a.remainingFields.length;b++){var c=a.remainingFields[b];if(!a.enteredValues[c.name])return c}return null};d.$on("$routeChangeSuccess",function(){a.enteredValues={};a.submitted=!1})}]}}]);
angular.module("login",["element","form","navigation"]);angular.module("manage").factory("ManageableUser",[function(){return function(a){this.dataSource=a.dataSource;this.user=a.user}}]);angular.module("manage").factory("ManageableUserGroup",[function(){return function(a){this.dataSource=a.dataSource;this.userGroup=a.userGroup}}]);
angular.module("manage").controller("manageConnectionController",["$scope","$injector",function(a,b){var e=b.get("Connection"),c=b.get("ConnectionGroup"),d=b.get("HistoryEntryWrapper"),f=b.get("ManagementPermissions"),g=b.get("PermissionSet"),h=b.get("Protocol"),k=b.get("$location"),l=b.get("$q"),m=b.get("$routeParams"),n=b.get("$translate"),q=b.get("authenticationService"),p=b.get("connectionService"),t=b.get("connectionGroupService"),u=b.get("permissionService"),v=b.get("requestService");b=b.get("schemaService");
a.selectedDataSource=m.dataSource;var r=k.search().clone,w=m.id;a.protocols=null;a.rootGroup=null;a.connection=null;a.parameters=null;a.historyDateFormat=null;a.historyEntryWrappers=null;a.managementPermissions=null;a.attributes=null;a.isLoaded=function(){return null!==a.protocols&&null!==a.rootGroup&&null!==a.connection&&null!==a.parameters&&null!==a.historyDateFormat&&null!==a.historyEntryWrappers&&null!==a.managementPermissions&&null!==a.attributes};var x=function(b,c){return l.all({connection:p.getConnection(b,
c),historyEntries:p.getConnectionHistory(b,c),parameters:p.getConnectionParameters(b,c)}).then(function(b){a.connection=b.connection;a.parameters=b.parameters;a.historyEntryWrappers=[];angular.forEach(b.historyEntries,function(b){a.historyEntryWrappers.push(new d(b))})})},y=function(b,c){return l.all({connection:p.getConnection(b,c),parameters:p.getConnectionParameters(b,c)}).then(function(b){a.connection=b.connection;a.parameters=b.parameters;delete a.connection.identifier;a.historyEntryWrappers=
[]})};l.all({connectionData:function(){if(w)return x(a.selectedDataSource,w);if(r)return y(a.selectedDataSource,r);a.connection=new e({protocol:"vnc",parentIdentifier:k.search().parent});a.historyEntryWrappers=[];a.parameters={};return l.resolve()}(),attributes:b.getConnectionAttributes(a.selectedDataSource),permissions:u.getEffectivePermissions(a.selectedDataSource,q.getCurrentUsername()),protocols:b.getProtocols(a.selectedDataSource),rootGroup:t.getConnectionGroupTree(a.selectedDataSource,c.ROOT_IDENTIFIER,
[g.ObjectPermissionType.ADMINISTER])}).then(function(b){a.attributes=b.attributes;a.protocols=b.protocols;a.rootGroup=b.rootGroup;a.managementPermissions=f.fromPermissionSet(b.permissions,g.SystemPermissionType.CREATE_CONNECTION,g.hasConnectionPermission,w)},v.DIE);n("MANAGE_CONNECTION.FORMAT_HISTORY_START").then(function(b){a.historyDateFormat=b},angular.noop);a.getNamespace=h.getNamespace;a.getProtocolName=h.getName;a.returnToConnectionList=function(){k.url("/settings/"+encodeURIComponent(a.selectedDataSource)+
"/connections")};a.cloneConnection=function(){k.path("/manage/"+encodeURIComponent(a.selectedDataSource)+"/connections").search("clone",w)};a.saveConnection=function(){a.connection.parameters=a.parameters;return p.saveConnection(a.selectedDataSource,a.connection)};a.deleteConnection=function(){return p.deleteConnection(a.selectedDataSource,a.connection)}}]);
angular.module("manage").controller("manageConnectionGroupController",["$scope","$injector",function(a,b){var e=b.get("ConnectionGroup"),c=b.get("ManagementPermissions"),d=b.get("PermissionSet"),f=b.get("$location"),g=b.get("$q"),h=b.get("$routeParams"),k=b.get("authenticationService"),l=b.get("connectionGroupService"),m=b.get("permissionService"),n=b.get("requestService");b=b.get("schemaService");a.selectedDataSource=h.dataSource;var q=f.search().clone,p=h.id;a.types=[{label:"MANAGE_CONNECTION_GROUP.NAME_TYPE_ORGANIZATIONAL",
value:e.Type.ORGANIZATIONAL},{label:"MANAGE_CONNECTION_GROUP.NAME_TYPE_BALANCING",value:e.Type.BALANCING}];a.rootGroup=null;a.connectionGroup=null;a.managementPermissions=null;a.attributes=null;a.isLoaded=function(){return null!==a.rootGroup&&null!==a.connectionGroup&&null!==a.managementPermissions&&null!==a.attributes};var t=function(b,c){return l.getConnectionGroup(b,c).then(function(b){a.connectionGroup=b})},u=function(b,c){return l.getConnectionGroup(b,c).then(function(b){a.connectionGroup=b;
delete a.connectionGroup.identifier})};g.all({connectionGroupData:function(){if(p)return t(a.selectedDataSource,p);if(q)return u(a.selectedDataSource,q);a.connectionGroup=new e({parentIdentifier:f.search().parent});return g.resolve()}(),attributes:b.getConnectionGroupAttributes(a.selectedDataSource),permissions:m.getEffectivePermissions(a.selectedDataSource,k.getCurrentUsername()),rootGroup:l.getConnectionGroupTree(a.selectedDataSource,e.ROOT_IDENTIFIER,[d.ObjectPermissionType.ADMINISTER])}).then(function(b){a.attributes=
b.attributes;a.rootGroup=b.rootGroup;a.managementPermissions=c.fromPermissionSet(b.permissions,d.SystemPermissionType.CREATE_CONNECTION,d.hasConnectionGroupPermission,p)},n.DIE);a.returnToConnectionList=function(){f.path("/settings/"+encodeURIComponent(a.selectedDataSource)+"/connections")};a.cloneConnectionGroup=function(){f.path("/manage/"+encodeURIComponent(a.selectedDataSource)+"/connectionGroups").search("clone",p)};a.saveConnectionGroup=function(){return l.saveConnectionGroup(a.selectedDataSource,
a.connectionGroup)};a.deleteConnectionGroup=function(){return l.deleteConnectionGroup(a.selectedDataSource,a.connectionGroup)}}]);
angular.module("client").factory("ManagedArgument",["$q",function(a){var b=function(a){a=a||{};this.name=a.name;this.value=a.value;this.stream=a.stream};b.getInstance=function(e,c,d){var f=a.defer(),g=new b({name:c,value:d,stream:e.client.createArgumentValueStream("text/plain",c)});g.stream.onack=function(a){a.isError()?f.reject(a):f.resolve(g)};return f.promise};b.setValue=function(a,b){return b!==a.value?(a=new Guacamole.StringWriter(a.stream),a.sendText(b),a.sendEnd(),!0):!1};return b}]);
angular.module("client").factory("ManagedClient",["$rootScope","$injector",function(a,b){var e=b.get("ClientProperties"),c=b.get("ClientIdentifier"),d=b.get("ManagedArgument"),f=b.get("ManagedClientState"),g=b.get("ManagedClientThumbnail"),h=b.get("ManagedDisplay"),k=b.get("ManagedFilesystem"),l=b.get("ManagedFileUpload"),m=b.get("ManagedShareLink"),n=b.get("$document"),q=b.get("$q");a=b.get("$rootScope");var p=b.get("$window"),t=b.get("activeConnectionService"),u=b.get("authenticationService"),v=
b.get("connectionGroupService"),r=b.get("connectionService"),w=b.get("preferenceService"),x=b.get("requestService");b.get("schemaService");var y=b.get("tunnelService"),A=b.get("guacAudio"),C=b.get("guacHistory"),B=b.get("guacImage"),E=b.get("guacVideo"),z=function(a){a=a||{};this.id=a.id;this.lastUsed=a.lastUsed||0;this.client=a.client;this.tunnel=a.tunnel;this.managedDisplay=a.managedDisplay;this.name=a.name;this.title=a.title;this.protocol=a.protocol||null;this.forms=a.forms||[];this.thumbnail=
a.thumbnail;this.requiredParameters=null;this.uploads=a.uploads||[];this.filesystems=a.filesystems||[];this.shareLinks=a.shareLinks||{};this.clientState=a.clientState||new f;this.clientProperties=a.clientProperties||new e;this.arguments=a.arguments||{}};z.AUDIO_INPUT_MIMETYPE="audio/L16;rate\x3d44100,channels\x3d2";var I=function(a,b){var c=q.defer(),d=p.devicePixelRatio||1,f=96*d,e=p.innerWidth*d,d=p.innerHeight*d,g="token\x3d"+encodeURIComponent(u.getCurrentToken())+"\x26GUAC_DATA_SOURCE\x3d"+encodeURIComponent(a.dataSource)+
"\x26GUAC_ID\x3d"+encodeURIComponent(a.id)+"\x26GUAC_TYPE\x3d"+encodeURIComponent(a.type)+"\x26GUAC_WIDTH\x3d"+Math.floor(e)+"\x26GUAC_HEIGHT\x3d"+Math.floor(d)+"\x26GUAC_DPI\x3d"+Math.floor(f)+"\x26GUAC_TIMEZONE\x3d"+encodeURIComponent(w.preferences.timezone)+(b?"\x26"+b:"");A.supported.forEach(function(a){g+="\x26GUAC_AUDIO\x3d"+encodeURIComponent(a)});E.supported.forEach(function(a){g+="\x26GUAC_VIDEO\x3d"+encodeURIComponent(a)});B.getSupportedMimetypes().then(function(a){angular.forEach(a,function(a){g+=
"\x26GUAC_IMAGE\x3d"+encodeURIComponent(a)});c.resolve(g)});return c.promise},F=function G(a){var b=a.createAudioStream(z.AUDIO_INPUT_MIMETYPE),c=Guacamole.AudioRecorder.getInstance(b,z.AUDIO_INPUT_MIMETYPE);c?c.onclose=G.bind(this,a):b.sendEnd()};z.getInstance=function(b,e){var g;g=p.WebSocket?new Guacamole.ChainedTunnel(new Guacamole.WebSocketTunnel("websocket-tunnel"),new Guacamole.HTTPTunnel("tunnel")):new Guacamole.HTTPTunnel("tunnel");var l=new Guacamole.Client(g),m=new z({id:b,client:l,tunnel:g});
g.onerror=function(b){a.$apply(function(){f.setConnectionState(m.clientState,f.ConnectionState.TUNNEL_ERROR,b.code)})};g.onuuid=function(a){y.getProtocol(a).then(function(a){m.protocol=a.name;m.forms=a.connectionForms},x.WARN)};g.onstatechange=function(b){a.$evalAsync(function(){switch(b){case Guacamole.Tunnel.State.CONNECTING:f.setConnectionState(m.clientState,f.ConnectionState.CONNECTING);break;case Guacamole.Tunnel.State.OPEN:f.setTunnelUnstable(m.clientState,!1);break;case Guacamole.Tunnel.State.UNSTABLE:f.setTunnelUnstable(m.clientState,
!0);break;case Guacamole.Tunnel.State.CLOSED:f.setConnectionState(m.clientState,f.ConnectionState.DISCONNECTED)}})};l.onstatechange=function(b){a.$evalAsync(function(){switch(b){case 0:f.setConnectionState(m.clientState,f.ConnectionState.IDLE);break;case 2:f.setConnectionState(m.clientState,f.ConnectionState.WAITING);break;case 3:f.setConnectionState(m.clientState,f.ConnectionState.CONNECTED);F(l);z.updateThumbnail(m);break;case 4:case 5:z.updateThumbnail(m)}})};l.onerror=function(b){a.$apply(function(){l.disconnect();
f.setConnectionState(m.clientState,f.ConnectionState.CLIENT_ERROR,b.code)})};l.onsync=function(){var b=m.thumbnail,c=(new Date).getTime();(!b||5E3<=c-b.timestamp)&&a.$apply(function(){z.updateThumbnail(m)})};l.onargv=function(a,b,c){if("text/plain"===b){a=new Guacamole.StringReader(a);var f="";a.ontext=function(a){f+=a};a.onend=function(){d.getInstance(m,c,f).then(function(a){m.arguments[c]=a},function(){})}}};l.onname=function(b){a.$apply(function(){m.title=b})};l.onfile=function(a,b,c){y.downloadStream(g.uuid,
a,b,c)};l.onfilesystem=function(b,c){a.$apply(function(){m.filesystems.push(k.getInstance(b,c))})};l.onrequired=function(b){a.$apply(function(){m.requiredParameters={};angular.forEach(b,function(a){m.requiredParameters[a]=""})})};m.managedDisplay=h.getInstance(l.getDisplay());var n=c.fromString(b);I(n,e).then(function(a){l.connect(a)});n.type===c.Types.CONNECTION?r.getConnection(n.dataSource,n.id).then(function(a){m.name=m.title=a.name},x.WARN):n.type===c.Types.CONNECTION_GROUP?v.getConnectionGroup(n.dataSource,
n.id).then(function(a){m.name=m.title=a.name},x.WARN):n.type===c.Types.ACTIVE_CONNECTION&&t.getActiveConnection(n.dataSource,n.id).then(function(a){a.connectionIdentifier&&r.getConnection(n.dataSource,a.connectionIdentifier).then(function(a){m.name=m.title=a.name},x.WARN)},x.WARN);return m};z.uploadFile=function(a,b,c,d){var f=null,e=null;c&&(f=c.object,e=(d||c.currentDirectory).streamName+"/"+b.name);a.uploads.push(l.getInstance(a,b,f,e))};z.setArgument=function(a,b,c){var f=a.arguments[b];f&&d.setValue(f,
c)&&delete a.arguments[b]};z.sendArguments=function(a,b){angular.forEach(b,function(b,c){c=a.client.createArgumentValueStream("text/plain",c);c=new Guacamole.StringWriter(c);c.sendText(b);c.sendEnd()})};z.getArgumentModel=function(a){var b={};angular.forEach(a.arguments,function(a){b[a.name]=a.value});return b};z.createShareLink=function(a,b){var c=y.getSharingCredentials(a.tunnel.uuid,b.identifier);c.then(function(c){a.shareLinks[b.identifier]=m.getInstance(b,c)},x.WARN);return c};z.isShared=function(a){for(var b in a.shareLinks)return!0;
return!1};z.updateThumbnail=function(a){var b=a.client.getDisplay();if(b&&0<b.getWidth()&&0<b.getHeight()){var b=b.flatten(),c=Math.min(320/b.width,240/b.height,1),d=n[0].createElement("canvas");d.width=b.width*c;d.height=b.height*c;d.getContext("2d").drawImage(b,0,0,b.width,b.height,0,0,d.width,d.height);a.thumbnail=new g({timestamp:(new Date).getTime(),canvas:d});C.updateThumbnail(a.id,d.toDataURL("image/png"))}};return z}]);
angular.module("client").factory("ManagedClientState",[function(){var a=function e(a){a=a||{};this.connectionState=a.connectionState||e.ConnectionState.IDLE;this.tunnelUnstable=a.tunnelUnstable||!1;this.statusCode=a.statusCode||Guacamole.Status.Code.SUCCESS};a.ConnectionState={IDLE:"IDLE",CONNECTING:"CONNECTING",WAITING:"WAITING",CONNECTED:"CONNECTED",DISCONNECTED:"DISCONNECTED",CLIENT_ERROR:"CLIENT_ERROR",TUNNEL_ERROR:"TUNNEL_ERROR"};a.setConnectionState=function(e,c,d){e.connectionState!==a.ConnectionState.TUNNEL_ERROR&&
e.connectionState!==a.ConnectionState.CLIENT_ERROR&&(e.connectionState=c,e.tunnelUnstable=!1,d&&(e.statusCode=d))};a.setTunnelUnstable=function(a,c){a.tunnelUnstable=c};return a}]);angular.module("client").factory("ManagedClientThumbnail",[function(){return function(a){a=a||{};this.timestamp=a.timestamp;this.canvas=a.canvas}}]);
angular.module("client").factory("ManagedDisplay",["$rootScope",function(a){var b=function c(a){a=a||{};this.display=a.display;this.size=new c.Dimensions(a.size);this.cursor=a.cursor};b.Dimensions=function(a){a=a||{};this.width=a.width||0;this.height=a.height||0};b.Cursor=function(a){a=a||{};this.canvas=a.canvas;this.x=a.x;this.y=a.y};b.getInstance=function(c){var d=new b({display:c});c.onresize=function(){a.$apply(function(){d.size=new b.Dimensions({width:c.getWidth(),height:c.getHeight()})})};c.oncursor=
function(c,g,h){a.$apply(function(){d.cursor=new b.Cursor({canvas:c,x:g,y:h})})};return d};return b}]);
angular.module("client").factory("ManagedFilesystem",["$rootScope","$injector",function(a,b){var e=b.get("tunnelService"),c=function(a){a=a||{};this.object=a.object;this.name=a.name;this.root=a.root;this.currentDirectory=a.currentDirectory||a.root};c.refresh=function(b,f){f.mimetype===Guacamole.Object.STREAM_INDEX_MIMETYPE&&b.object.requestInputStream(f.streamName,function(b,d){if(d!==Guacamole.Object.STREAM_INDEX_MIMETYPE)b.sendAck("Unexpected mimetype",Guacamole.Status.Code.UNSUPPORTED);else{b.sendAck("Ready",
Guacamole.Status.Code.SUCCESS);var e=new Guacamole.JSONReader(b);e.onprogress=function(){b.sendAck("Received",Guacamole.Status.Code.SUCCESS)};e.onend=function(){a.$evalAsync(function(){f.files={};var a=f.streamName;"/"!==a.charAt(a.length-1)&&(a+="/");var b=e.getJSON(),d;for(d in b)if(d.substring(0,a.length)===a){var g=d.substring(a.length),h=c.File.Type.NORMAL;b[d]===Guacamole.Object.STREAM_INDEX_MIMETYPE&&(h=c.File.Type.DIRECTORY);f.files[g]=new c.File({mimetype:b[d],streamName:d,type:h,parent:f,
name:g})}})}}})};c.getInstance=function(a,b){a=new c({object:a,name:b,root:new c.File({mimetype:Guacamole.Object.STREAM_INDEX_MIMETYPE,streamName:Guacamole.Object.ROOT_STREAM,type:c.File.Type.DIRECTORY})});c.refresh(a,a.root);return a};c.downloadFile=function(a,b,c){b.object.requestInputStream(c,function(b,d){var f=c.match(/(.*[\\/])?(.*)/)[2];e.downloadStream(a.tunnel.uuid,b,d,f)})};c.changeDirectory=function(a,b){c.refresh(a,b);a.currentDirectory=b};c.File=function(a){this.mimetype=a.mimetype;this.streamName=
a.streamName;this.type=a.type;this.name=a.name;this.parent=a.parent;this.files=a.files||{}};c.File.Type={NORMAL:"NORMAL",DIRECTORY:"DIRECTORY"};return c}]);
angular.module("client").factory("ManagedFileTransferState",[function(){var a=function e(a){a=a||{};this.streamState=a.streamState||e.StreamState.IDLE;this.statusCode=a.statusCode||Guacamole.Status.Code.SUCCESS};a.StreamState={IDLE:"IDLE",OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR"};a.setStreamState=function(e,c,d){e.streamState!==a.StreamState.ERROR&&(e.streamState=c,d&&(e.statusCode=d))};return a}]);
angular.module("client").factory("ManagedFileUpload",["$rootScope","$injector",function(a,b){var e=b.get("Error"),c=b.get("ManagedFileTransferState"),d=b.get("requestService"),f=b.get("tunnelService"),g=function(a){a=a||{};this.transferState=a.transferState||new c;this.mimetype=a.mimetype;this.filename=a.filename;this.progress=a.progress;this.length=a.length};g.getInstance=function(b,k,l,m){var h=new g,q=b.client,p=b.tunnel,t;t=l?l.createOutputStream(k.type,m):q.createFileStream(k.type,k.name);a.$evalAsync(function(){h.filename=
k.name;h.mimetype=k.type;h.progress=0;h.length=k.size;c.setStreamState(h.transferState,c.StreamState.OPEN)});t.onack=function(b){b.isError()?a.$apply(function(){c.setStreamState(h.transferState,c.StreamState.ERROR,b.code)}):(f.uploadToStream(p.uuid,t,k,function(b){a.$apply(function(){h.progress=b})}).then(function(){h.progress=k.size;c.setStreamState(h.transferState,c.StreamState.CLOSED);a.$broadcast("guacUploadComplete",k.name)},d.createErrorCallback(function(a){a.type===e.Type.STREAM_ERROR?c.setStreamState(h.transferState,
c.StreamState.ERROR,a.statusCode):c.setStreamState(h.transferState,c.StreamState.ERROR,Guacamole.Status.Code.INTERNAL_ERROR)})),t.onack=null)};return h};return g}]);
angular.module("client").factory("ManagedShareLink",["$injector",function(a){var b=a.get("UserCredentials"),e=function(a){a=a||{};this.name=a.name;this.href=a.href;this.sharingProfile=a.sharingProfile;this.sharingCredentials=a.sharingCredentials};e.getInstance=function(a,d){return new e({name:a.name,href:b.getLink(d),sharingProfile:a,sharingCredentials:d})};return e}]);
angular.module("manage").directive("managementButtons",["$injector",function(a){var b=a.get("guacNotification");return{restrict:"E",replace:!0,templateUrl:"app/manage/templates/managementButtons.html",scope:{namespace:"@",permissions:"\x3d",save:"\x26",clone:"\x26",delete:"\x26",return:"\x26"},controller:["$scope",function(a){var c={name:a.namespace+".ACTION_DELETE",className:"danger",callback:function(){a["delete"](a.$parent).then(f,b.SHOW_REQUEST_ERROR);b.showStatus(!1)}},d={name:a.namespace+".ACTION_CANCEL",
callback:function(){b.showStatus(!1)}},f=function(){a["return"](a.$parent)};a.cancel=f;a.cloneObject=function(){a.clone(a.$parent)};a.saveObject=function(){a.save(a.$parent).then(f,b.SHOW_REQUEST_ERROR)};a.deleteObject=function(){b.showStatus({title:a.namespace+".DIALOG_HEADER_CONFIRM_DELETE",text:{key:a.namespace+".TEXT_CONFIRM_DELETE"},actions:[c,d]})}}]}}]);
angular.module("manage").factory("ManagementPermissions",["$injector",function(a){var b=a.get("PermissionSet"),e=function(a){this.identifier=a.identifier||null;this.canSaveObject=a.canSaveObject;this.canCloneObject=a.canCloneObject;this.canDeleteObject=a.canDeleteObject;this.canChangeAttributes=a.canChangeAttributes;this.canChangeAllAttributes=a.canChangeAllAttributes;this.canChangePermissions=a.canChangePermissions};e.fromPermissionSet=function(a,d,f,g){var c=b.hasSystemPermission(a,b.SystemPermissionType.ADMINISTER);
d=b.hasSystemPermission(a,d);var k=f(a,b.ObjectPermissionType.ADMINISTER,g),l=f(a,b.ObjectPermissionType.UPDATE,g);a=f(a,b.ObjectPermissionType.DELETE,g);f=!!g;return new e({identifier:g,canSaveObject:c||!f&&d||l,canCloneObject:f&&(c||d),canDeleteObject:f&&(c||a),canChangeAttributes:!f||c||l,canChangeAllAttributes:!f,canChangePermissions:c||!f||k})};return e}]);angular.module("manage","form groupList list locale navigation notification rest".split(" "));
angular.module("manage").controller("manageSharingProfileController",["$scope","$injector",function(a,b){var e=b.get("ManagementPermissions"),c=b.get("SharingProfile"),d=b.get("PermissionSet"),f=b.get("Protocol"),g=b.get("$location"),h=b.get("$q"),k=b.get("$routeParams"),l=b.get("authenticationService"),m=b.get("connectionService"),n=b.get("permissionService"),q=b.get("requestService"),p=b.get("schemaService"),t=b.get("sharingProfileService");a.selectedDataSource=k.dataSource;b=g.search().clone;var u=
k.id;a.protocols=null;a.sharingProfile=null;a.parameters=null;a.managementPermissions=null;a.attributes=null;a.isLoaded=function(){return null!==a.protocols&&null!==a.sharingProfile&&null!==a.primaryConnection&&null!==a.parameters&&null!==a.managementPermissions&&null!==a.attributes};var k=function(b,c){return h.all({sharingProfile:t.getSharingProfile(b,c),parameters:t.getSharingProfileParameters(b,c)}).then(function(c){a.sharingProfile=c.sharingProfile;a.parameters=c.parameters;return m.getConnection(b,
c.sharingProfile.primaryConnectionIdentifier).then(function(b){a.primaryConnection=b})})},v=function(b,c){return h.all({sharingProfile:t.getSharingProfile(b,c),parameters:t.getSharingProfileParameters(b,c)}).then(function(c){a.sharingProfile=c.sharingProfile;a.parameters=c.parameters;delete a.sharingProfile.identifier;return m.getConnection(b,c.sharingProfile.primaryConnectionIdentifier).then(function(b){a.primaryConnection=b})})},r=function(b){a.sharingProfile=new c({primaryConnectionIdentifier:g.search().parent});
a.parameters={};return m.getConnection(b,a.sharingProfile.primaryConnectionIdentifier).then(function(b){a.primaryConnection=b})};h.all({sharingProfileData:u?k(a.selectedDataSource,u):b?v(a.selectedDataSource,b):r(a.selectedDataSource),attributes:p.getSharingProfileAttributes(a.selectedDataSource),protocols:p.getProtocols(a.selectedDataSource),permissions:n.getEffectivePermissions(a.selectedDataSource,l.getCurrentUsername())}).then(function(b){a.attributes=b.attributes;a.protocols=b.protocols;a.managementPermissions=
e.fromPermissionSet(b.permissions,d.SystemPermissionType.CREATE_CONNECTION,d.hasConnectionPermission,u)},q.DIE);a.getNamespace=f.getNamespace;a.returnToConnectionList=function(){g.url("/settings/"+encodeURIComponent(a.selectedDataSource)+"/connections")};a.cloneSharingProfile=function(){g.path("/manage/"+encodeURIComponent(a.selectedDataSource)+"/sharingProfiles").search("clone",u)};a.saveSharingProfile=function(){a.sharingProfile.parameters=a.parameters;return t.saveSharingProfile(a.selectedDataSource,
a.sharingProfile)};a.deleteSharingProfile=function(){return t.deleteSharingProfile(a.selectedDataSource,a.sharingProfile)}}]);
angular.module("manage").controller("manageUserController",["$scope","$injector",function(a,b){var e=b.get("Error"),c=b.get("ManagementPermissions"),d=b.get("PermissionFlagSet"),f=b.get("PermissionSet"),g=b.get("User"),h=b.get("$location"),k=b.get("$routeParams"),l=b.get("$q"),m=b.get("authenticationService"),n=b.get("dataSourceService"),q=b.get("membershipService"),p=b.get("permissionService"),t=b.get("requestService"),u=b.get("schemaService"),v=b.get("userGroupService"),r=b.get("userService"),w=
m.getAvailableDataSources();b=m.getCurrentUsername();var x=h.search().clone,y=k.id;a.dataSource=k.dataSource;a.selfUsername="";a.users=null;a.user=null;a.permissionFlags=null;a.permissionsAdded=new f;a.permissionsRemoved=new f;a.availableGroups=null;a.parentGroups=null;a.parentGroupsAdded=[];a.parentGroupsRemoved=[];a.managementPermissions=null;a.attributes=null;a.isLoaded=function(){return null!==a.users&&null!==a.permissionFlags&&null!==a.managementPermissions&&null!==a.availableGroups&&null!==
a.parentGroups&&null!==a.attributes};a.canEditUsername=function(a){return!y};var A=function(b,c){return l.all({users:n.apply(r.getUser,w,c),permissions:p.getPermissions(b,c)["catch"](t.defaultValue(new f)),parentGroups:q.getUserGroups(b,c)["catch"](t.defaultValue([]))}).then(function(f){a.users=f.users;a.parentGroups=f.parentGroups;a.user=f.users[b]||new g({username:c});a.selfUsername=c;a.permissionFlags=d.fromPermissionSet(f.permissions)})},C=function(b,c){return l.all({users:n.apply(r.getUser,[b],
c),permissions:p.getPermissions(b,c),parentGroups:q.getUserGroups(b,c)}).then(function(f){a.users={};a.user=f.users[b];a.parentGroups=f.parentGroups;a.parentGroupsAdded=f.parentGroups;a.selfUsername=c;a.permissionFlags=d.fromPermissionSet(f.permissions);a.permissionsAdded=f.permissions})};l.all({userData:function(){if(y)return A(a.dataSource,y);if(x)return C(a.dataSource,x);a.users={};a.user=new g;a.parentGroups=[];a.permissionFlags=new d;a.selfUsername="SELF";return l.resolve()}(),permissions:n.apply(p.getEffectivePermissions,
w,b),userGroups:v.getUserGroups(a.dataSource,[f.ObjectPermissionType.UPDATE]),attributes:u.getUserAttributes(a.dataSource)}).then(function(b){a.attributes=b.attributes;a.managementPermissions={};angular.forEach(w,function(d){var e=d in a.users;a.availableGroups=[];angular.forEach(b.userGroups,function(b){a.availableGroups.push(b.identifier)});a.managementPermissions[d]=c.fromPermissionSet(b.permissions[d],f.SystemPermissionType.CREATE_USER,f.hasUserPermission,e?y:null)})},t.DIE);a.getUserURL=function(a){return"/manage/"+
encodeURIComponent(a)+"/users/"+encodeURIComponent(y||"")};a.returnToUserList=function(){h.url("/settings/users")};a.cloneUser=function(){h.path("/manage/"+encodeURIComponent(a.dataSource)+"/users").search("clone",y)};a.saveUser=function(){return a.passwordMatch!==a.user.password?l.reject(new e({translatableMessage:{key:"MANAGE_USER.ERROR_PASSWORD_MISMATCH"}})):(a.dataSource in a.users?r.saveUser(a.dataSource,a.user):r.createUser(a.dataSource,a.user)).then(function(){a.selfUsername!==a.user.username&&
(a.permissionsAdded.userPermissions[a.selfUsername]&&(a.permissionsAdded.userPermissions[a.user.username]=a.permissionsAdded.userPermissions[a.selfUsername],delete a.permissionsAdded.userPermissions[a.selfUsername]),a.permissionsRemoved.userPermissions[a.selfUsername]&&(a.permissionsRemoved.userPermissions[a.user.username]=a.permissionsRemoved.userPermissions[a.selfUsername],delete a.permissionsRemoved.userPermissions[a.selfUsername]));return l.all([p.patchPermissions(a.dataSource,a.user.username,
a.permissionsAdded,a.permissionsRemoved),q.patchUserGroups(a.dataSource,a.user.username,a.parentGroupsAdded,a.parentGroupsRemoved)])})};a.deleteUser=function(){return r.deleteUser(a.dataSource,a.user)}}]);
angular.module("manage").controller("manageUserGroupController",["$scope","$injector",function(a,b){var e=b.get("ManagementPermissions"),c=b.get("PermissionFlagSet"),d=b.get("PermissionSet"),f=b.get("UserGroup"),g=b.get("$location"),h=b.get("$routeParams"),k=b.get("$q"),l=b.get("authenticationService"),m=b.get("dataSourceService"),n=b.get("membershipService"),q=b.get("permissionService"),p=b.get("requestService"),t=b.get("schemaService"),u=b.get("userGroupService");b=b.get("userService");var v=l.getAvailableDataSources(),
l=l.getCurrentUsername(),r=g.search().clone,w=h.id;a.dataSource=h.dataSource;a.userGroups=null;a.userGroup=null;a.permissionFlags=null;a.permissionsAdded=new d;a.permissionsRemoved=new d;a.availableGroups=null;a.availableUsers=null;a.parentGroups=null;a.parentGroupsAdded=[];a.parentGroupsRemoved=[];a.memberGroups=null;a.memberGroupsAdded=[];a.memberGroupsRemoved=[];a.memberUsers=null;a.memberUsersAdded=[];a.memberUsersRemoved=[];a.managementPermissions=null;a.attributes=null;a.isLoaded=function(){return null!==
a.userGroups&&null!==a.permissionFlags&&null!==a.managementPermissions&&null!==a.availableGroups&&null!==a.availableUsers&&null!==a.parentGroups&&null!==a.memberGroups&&null!==a.memberUsers&&null!==a.attributes};a.canEditIdentifier=function(){return!w};var x=function(b,e){return k.all({userGroups:m.apply(u.getUserGroup,v,e),permissions:q.getPermissions(b,e,!0)["catch"](p.defaultValue(new d)),parentGroups:n.getUserGroups(b,e,!0)["catch"](p.defaultValue([])),memberGroups:n.getMemberUserGroups(b,e)["catch"](p.defaultValue([])),
memberUsers:n.getMemberUsers(b,e)["catch"](p.defaultValue([]))}).then(function(d){a.userGroups=d.userGroups;a.parentGroups=d.parentGroups;a.memberGroups=d.memberGroups;a.memberUsers=d.memberUsers;a.userGroup=d.userGroups[b]||new f({identifier:e});a.permissionFlags=c.fromPermissionSet(d.permissions)})},y=function(b,d){return k.all({userGroups:m.apply(u.getUserGroup,[b],d),permissions:q.getPermissions(b,d,!0),parentGroups:n.getUserGroups(b,d,!0),memberGroups:n.getMemberUserGroups(b,d),memberUsers:n.getMemberUsers(b,
d)}).then(function(d){a.userGroups={};a.userGroup=d.userGroups[b];a.parentGroups=d.parentGroups;a.parentGroupsAdded=d.parentGroups;a.memberGroups=d.memberGroups;a.memberGroupsAdded=d.memberGroups;a.memberUsers=d.memberUsers;a.memberUsersAdded=d.memberUsers;a.permissionFlags=c.fromPermissionSet(d.permissions);a.permissionsAdded=d.permissions})};k.all({userGroupData:function(){if(w)return x(a.dataSource,w);if(r)return y(a.dataSource,r);a.userGroups={};a.userGroup=new f;a.parentGroups=[];a.memberGroups=
[];a.memberUsers=[];a.permissionFlags=new c;return k.resolve()}(),permissions:m.apply(q.getEffectivePermissions,v,l),userGroups:u.getUserGroups(a.dataSource,[d.ObjectPermissionType.UPDATE]),users:b.getUsers(a.dataSource,[d.ObjectPermissionType.UPDATE]),attributes:t.getUserGroupAttributes(a.dataSource)}).then(function(b){a.attributes=b.attributes;a.managementPermissions={};angular.forEach(v,function(c){var f=c in a.userGroups;a.availableGroups=[];angular.forEach(b.userGroups,function(b){a.availableGroups.push(b.identifier)});
a.availableUsers=[];angular.forEach(b.users,function(b){a.availableUsers.push(b.username)});a.managementPermissions[c]=e.fromPermissionSet(b.permissions[c],d.SystemPermissionType.CREATE_USER_GROUP,d.hasUserGroupPermission,f?w:null)})},p.WARN);a.getUserGroupURL=function(a){return"/manage/"+encodeURIComponent(a)+"/userGroups/"+encodeURIComponent(w||"")};a.returnToUserGroupList=function(){g.url("/settings/userGroups")};a.cloneUserGroup=function(){g.path("/manage/"+encodeURIComponent(a.dataSource)+"/userGroups").search("clone",
w)};a.saveUserGroup=function(){return(a.dataSource in a.userGroups?u.saveUserGroup(a.dataSource,a.userGroup):u.createUserGroup(a.dataSource,a.userGroup)).then(function(){return k.all([q.patchPermissions(a.dataSource,a.userGroup.identifier,a.permissionsAdded,a.permissionsRemoved,!0),n.patchUserGroups(a.dataSource,a.userGroup.identifier,a.parentGroupsAdded,a.parentGroupsRemoved,!0),n.patchMemberUserGroups(a.dataSource,a.userGroup.identifier,a.memberGroupsAdded,a.memberGroupsRemoved),n.patchMemberUsers(a.dataSource,
a.userGroup.identifier,a.memberUsersAdded,a.memberUsersRemoved)])})};a.deleteUserGroup=function(){return u.deleteUserGroup(a.dataSource,a.userGroup)}}]);angular.module("element").factory("Marker",[function(){return function(a){this.scrollIntoView=function(){a.scrollIntoView()}}}]);
angular.module("rest").factory("membershipService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService"),d=a.get("RelatedObjectPatch");a={};var f=function(a,b){var c=[];angular.forEach(a,function(a){c.push(new d({op:d.Operation.ADD,value:a}))});angular.forEach(b,function(a){c.push(new d({op:d.Operation.REMOVE,value:a}))});return c},g=function(a,b,c){a="api/session/data/"+encodeURIComponent(a);return c?a+"/userGroups/"+encodeURIComponent(b)+
"/userGroups":b===e.getCurrentUsername()?a+"/self/userGroups":a+"/users/"+encodeURIComponent(b)+"/userGroups"};a.getUserGroups=function(a,d,f){var h={token:e.getCurrentToken()};return b({cache:c.users,method:"GET",url:g(a,d,f),params:h})};a.patchUserGroups=function(a,d,l,m,n){var h={token:e.getCurrentToken()};return b({method:"PATCH",url:g(a,d,n),params:h,data:f(l,m)}).then(function(){c.users.removeAll()})};a.getMemberUsers=function(a,d){var f={token:e.getCurrentToken()};return b({cache:c.users,method:"GET",
url:"api/session/data/"+encodeURIComponent(a)+"/userGroups/"+encodeURIComponent(d)+"/memberUsers",params:f})};a.patchMemberUsers=function(a,d,g,m){var h={token:e.getCurrentToken()};return b({method:"PATCH",url:"api/session/data/"+encodeURIComponent(a)+"/userGroups/"+encodeURIComponent(d)+"/memberUsers",params:h,data:f(g,m)}).then(function(){c.users.removeAll()})};a.getMemberUserGroups=function(a,d){var f={token:e.getCurrentToken()};return b({cache:c.users,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+
"/userGroups/"+encodeURIComponent(d)+"/memberUserGroups",params:f})};a.patchMemberUserGroups=function(a,d,g,m){var h={token:e.getCurrentToken()};return b({method:"PATCH",url:"api/session/data/"+encodeURIComponent(a)+"/userGroups/"+encodeURIComponent(d)+"/memberUserGroups",params:h,data:f(g,m)}).then(function(){c.users.removeAll()})};return a}]);angular.module("navigation").factory("MenuAction",[function(){return function(a,b,e){this.className=e;this.name=a;this.callback=b}}]);
angular.module("navigation",["auth","form","notification","rest"]);angular.module("notification").factory("Notification",[function(){return function(a){a=a||{};this.className=a.className;this.title=a.title;this.text=a.text;this.formNamespace=a.formNamespace;this.forms=a.forms;this.formModel=a.model;this.formSubmitCallback=a.formSubmitCallback;this.actions=a.actions||[];this.progress=a.progress;this.countdown=a.countdown}}]);
angular.module("notification").factory("NotificationAction",[function(){return function(a,b,e){this.className=e;this.name=a;this.callback=b}}]);angular.module("notification").factory("NotificationCountdown",[function(){return function(a,b,e){this.text=a;this.remaining=b;this.callback=e}}]);angular.module("notification",["rest","storage"]);angular.module("notification").factory("NotificationProgress",[function(){return function(a,b,e,c){this.text=a;this.value=b;this.unit=e;this.ratio=c}}]);
angular.module("form").controller("numberFieldController",["$scope",function(a){a.$watch("model",function(b){a.typedValue=b?Number(b):null});a.$watch("typedValue",function(b){a.model=b||0===b?b.toString():""})}]);angular.module("osk",[]);angular.module("navigation").factory("PageDefinition",[function(){return function(a){this.name=a.name;this.url=a.url;this.className=a.className||"";this.weight=a.weight}}]);
angular.module("form").controller("passwordFieldController",["$scope",function(a){a.passwordInputType="password";a.getTogglePasswordHelpText=function(){return"password"===a.passwordInputType?"FORM.HELP_SHOW_PASSWORD":"FORM.HELP_HIDE_PASSWORD"};a.togglePassword=function(){a.passwordInputType="password"===a.passwordInputType?"text":"password"}}]);
angular.module("rest").factory("patchService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService");return{getPatches:function(){var a={token:e.getCurrentToken()};return b({cache:c.patches,method:"GET",url:"api/patches",params:a})}}}]);
angular.module("rest").factory("PermissionFlagSet",["PermissionSet",function(a){var b=function(a){a=a||{};this.systemPermissions=a.systemPermissions||{};this.connectionPermissions=a.connectionPermissions||{READ:{},UPDATE:{},DELETE:{},ADMINISTER:{}};this.connectionGroupPermissions=a.connectionGroupPermissions||{READ:{},UPDATE:{},DELETE:{},ADMINISTER:{}};this.sharingProfilePermissions=a.sharingProfilePermissions||{READ:{},UPDATE:{},DELETE:{},ADMINISTER:{}};this.activeConnectionPermissions=a.activeConnectionPermissions||
{READ:{},UPDATE:{},DELETE:{},ADMINISTER:{}};this.userPermissions=a.userPermissions||{READ:{},UPDATE:{},DELETE:{},ADMINISTER:{}};this.userGroupPermissions=a.userGroupPermissions||{READ:{},UPDATE:{},DELETE:{},ADMINISTER:{}}},e=function(a,b){for(var c in a)a[c].forEach(function(a){(b[a]=b[a]||{})[c]=!0})};b.fromPermissionSet=function(a){var c=new b;a.systemPermissions.forEach(function(a){c.systemPermissions[a]=!0});e(a.connectionPermissions,c.connectionPermissions);e(a.connectionGroupPermissions,c.connectionGroupPermissions);
e(a.sharingProfilePermissions,c.sharingProfilePermissions);e(a.activeConnectionPermissions,c.activeConnectionPermissions);e(a.userPermissions,c.userPermissions);e(a.userGroupPermissions,c.userGroupPermissions);return c};return b}]);angular.module("rest").factory("PermissionPatch",[function(){var a=function(a){a=a||{};this.op=a.op;this.path=a.path;this.value=a.value};a.Operation={ADD:"add",REMOVE:"remove"};return a}]);
angular.module("rest").factory("permissionService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService"),d=a.get("PermissionPatch");a={getEffectivePermissions:function(a,d){var f={token:e.getCurrentToken()},g=c.users;a="api/session/data/"+encodeURIComponent(a);d=d===e.getCurrentUsername()?a+"/self/effectivePermissions":a+"/users/"+encodeURIComponent(d)+"/effectivePermissions";return b({cache:g,method:"GET",url:d,params:f})}};var f=function(a,
b,c){a="api/session/data/"+encodeURIComponent(a);return c?a+"/userGroups/"+encodeURIComponent(b)+"/permissions":b===e.getCurrentUsername()?a+"/self/permissions":a+"/users/"+encodeURIComponent(b)+"/permissions"};a.getPermissions=function(a,d,g){var h={token:e.getCurrentToken()};return b({cache:c.users,method:"GET",url:f(a,d,g),params:h})};var g=function(a,b,c,d){for(var f in d)d[f].forEach(function(d){a.push({op:b,path:c+"/"+f,value:d})})},h=function(a,b,c){g(a,b,"/connectionPermissions",c.connectionPermissions);
g(a,b,"/connectionGroupPermissions",c.connectionGroupPermissions);g(a,b,"/sharingProfilePermissions",c.sharingProfilePermissions);g(a,b,"/activeConnectionPermissions",c.activeConnectionPermissions);g(a,b,"/userPermissions",c.userPermissions);g(a,b,"/userGroupPermissions",c.userGroupPermissions);c.systemPermissions.forEach(function(c){a.push({op:b,path:"/systemPermissions",value:c})})};a.patchPermissions=function(a,g,m,n,q){var l=[],k={token:e.getCurrentToken()};h(l,d.Operation.ADD,m);h(l,d.Operation.REMOVE,
n);return b({method:"PATCH",url:f(a,g,q),params:k,data:l}).then(function(){c.users.removeAll()})};return a}]);
angular.module("rest").factory("PermissionSet",[function(){var a=function(a){a=a||{};this.connectionPermissions=a.connectionPermissions||{};this.connectionGroupPermissions=a.connectionGroupPermissions||{};this.sharingProfilePermissions=a.sharingProfilePermissions||{};this.activeConnectionPermissions=a.activeConnectionPermissions||{};this.userPermissions=a.userPermissions||{};this.userGroupPermissions=a.userGroupPermissions||{};this.systemPermissions=a.systemPermissions||[]};a.ObjectPermissionType=
{READ:"READ",UPDATE:"UPDATE",DELETE:"DELETE",ADMINISTER:"ADMINISTER"};a.SystemPermissionType={ADMINISTER:"ADMINISTER",CREATE_USER:"CREATE_USER",CREATE_USER_GROUP:"CREATE_USER_GROUP",CREATE_CONNECTION:"CREATE_CONNECTION",CREATE_CONNECTION_GROUP:"CREATE_CONNECTION_GROUP",CREATE_SHARING_PROFILE:"CREATE_SHARING_PROFILE"};var b=function(a,b,c){if(!a)return!1;if(!c){a:{for(var d in a)if(-1!==a[d].indexOf(b)){a=!0;break a}a=!1}return a}return c in a?-1!==a[c].indexOf(b):!1};a.hasConnectionPermission=function(a,
c,e){return b(a.connectionPermissions,c,e)};a.hasConnectionGroupPermission=function(a,c,e){return b(a.connectionGroupPermissions,c,e)};a.hasSharingProfilePermission=function(a,c,e){return b(a.sharingProfilePermissions,c,e)};a.hasActiveConnectionPermission=function(a,c,e){return b(a.activeConnectionPermissions,c,e)};a.hasUserPermission=function(a,c,e){return b(a.userPermissions,c,e)};a.hasUserGroupPermission=function(a,c,e){return b(a.userGroupPermissions,c,e)};a.hasSystemPermission=function(a,b){return a.systemPermissions?
-1!==a.systemPermissions.indexOf(b):!1};a.addSystemPermission=function(a,b){a.systemPermissions=a.systemPermissions||[];return-1===a.systemPermissions.indexOf(b)?(a.systemPermissions.push(b),!0):!1};a.removeSystemPermission=function(a,b){a.systemPermissions=a.systemPermissions||[];b=a.systemPermissions.indexOf(b);return-1!==b?(a.systemPermissions.splice(b,1),!0):!1};var e=function(a,b,c){a=a[c]=a[c]||[];return-1===a.indexOf(b)?(a.push(b),!0):!1},c=function(a,b,c){var d=a[c];if(!(c in a))return!1;
a=d.indexOf(b);return-1!==a?(d.splice(a,1),!0):!1};a.addConnectionPermission=function(a,b,c){a.connectionPermissions=a.connectionPermissions||{};return e(a.connectionPermissions,b,c)};a.removeConnectionPermission=function(a,b,e){a.connectionPermissions=a.connectionPermissions||{};return c(a.connectionPermissions,b,e)};a.addConnectionGroupPermission=function(a,b,c){a.connectionGroupPermissions=a.connectionGroupPermissions||{};return e(a.connectionGroupPermissions,b,c)};a.removeConnectionGroupPermission=
function(a,b,e){a.connectionGroupPermissions=a.connectionGroupPermissions||{};return c(a.connectionGroupPermissions,b,e)};a.addSharingProfilePermission=function(a,b,c){a.sharingProfilePermissions=a.sharingProfilePermissions||{};return e(a.sharingProfilePermissions,b,c)};a.removeSharingProfilePermission=function(a,b,e){a.sharingProfilePermissions=a.sharingProfilePermissions||{};return c(a.sharingProfilePermissions,b,e)};a.addActiveConnectionPermission=function(a,b,c){a.activeConnectionPermissions=
a.activeConnectionPermissions||{};return e(a.activeConnectionPermissions,b,c)};a.removeActiveConnectionPermission=function(a,b,e){a.activeConnectionPermissions=a.activeConnectionPermissions||{};return c(a.activeConnectionPermissions,b,e)};a.addUserPermission=function(a,b,c){a.userPermissions=a.userPermissions||{};return e(a.userPermissions,b,c)};a.removeUserPermission=function(a,b,e){a.userPermissions=a.userPermissions||{};return c(a.userPermissions,b,e)};a.addUserGroupPermission=function(a,b,c){a.userGroupPermissions=
a.userGroupPermissions||{};return e(a.userGroupPermissions,b,c)};a.removeUserGroupPermission=function(a,b,e){a.userGroupPermissions=a.userGroupPermissions||{};return c(a.userGroupPermissions,b,e)};return a}]);
angular.module("settings").provider("preferenceService",["$injector",function(a){a=a.get("localStorageServiceProvider");var b=this,e={NONE:"none",OSK:"osk",TEXT:"text"};this.preferences={inputMethod:e.NONE,language:(navigator.languages&&navigator.languages[0]||navigator.language||navigator.browserLanguage||"en").replace(/-/g,"_"),timezone:jstz.determine().name()};(a=a.getItem("GUAC_PREFERENCES"))&&angular.extend(b.preferences,a);this.$get=["$injector",function(a){var c=a.get("$rootScope"),f=a.get("$window"),
g=a.get("localStorageService"),h={};h.inputMethods=e;h.preferences=b.preferences;h.save=function(){g.setItem("GUAC_PREFERENCES",h.preferences)};f.addEventListener("unload",h.save);c.$on("$routeChangeSuccess",function(){h.save()});c.$on("guacLogout",function(){h.save()});return h}]}]);
angular.module("rest").factory("Protocol",["$injector",function(a){var b=a.get("translationStringService"),e=function(a){a=a||{};this.name=a.name;this.connectionForms=a.connectionForms||[];this.sharingProfileForms=a.sharingProfileForms||[]};e.getNamespace=function(a){return a?"PROTOCOL_"+b.canonicalize(a):null};e.getName=function(a){return e.getNamespace(a)+".NAME"};return e}]);angular.module("home").factory("RecentConnection",[function(){return function(a,b){this.name=a;this.entry=b}}]);
angular.module("form").controller("redirectFieldController",["$scope","$window",function(a,b){b.location.href=a.field.redirectUrl}]);angular.module("rest").factory("RelatedObjectPatch",[function(){var a=function(a){a=a||{};this.op=a.op;this.path=a.path||"/";this.value=a.value};a.Operation={ADD:"add",REMOVE:"remove"};return a}]);
angular.module("rest").factory("requestService",["$injector",function(a){var b=a.get("$http"),e=a.get("$log"),c=a.get("$rootScope"),d=a.get("Error"),f=function(a){return b(a).then(function(a){return a.data},function(a){if(a.data)throw new d(a.data);throw a;})};f.createErrorCallback=function(a){return function(b){if(b instanceof d)return a(b);e.error(b)}};f.defaultValue=function(a){return f.createErrorCallback(function(b){if(b.type===d.Type.NOT_FOUND)return a;throw b;})};f.IGNORE=f.createErrorCallback(angular.noop);
f.WARN=f.createErrorCallback(function(a){e.warn(a.type,a.message||a.translatableMessage)});f.DIE=f.createErrorCallback(function(a){c.$broadcast("guacFatalPageError",a);e.error(a.type,a.message||a.translatableMessage)});return f}]);angular.module("rest",["auth","locale"]);
angular.module("rest").factory("schemaService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService");return{getUserAttributes:function(a){var d={token:e.getCurrentToken()};return b({cache:c.schema,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/schema/userAttributes",params:d})},getUserGroupAttributes:function(a){var d={token:e.getCurrentToken()};return b({cache:c.schema,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+
"/schema/userGroupAttributes",params:d})},getConnectionAttributes:function(a){var d={token:e.getCurrentToken()};return b({cache:c.schema,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/schema/connectionAttributes",params:d})},getSharingProfileAttributes:function(a){var d={token:e.getCurrentToken()};return b({cache:c.schema,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/schema/sharingProfileAttributes",params:d})},getConnectionGroupAttributes:function(a){var d={token:e.getCurrentToken()};
return b({cache:c.schema,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/schema/connectionGroupAttributes",params:d})},getProtocols:function(a){var d={token:e.getCurrentToken()};return b({cache:c.schema,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/schema/protocols",params:d})}}}]);angular.module("element").factory("ScrollState",[function(){return function(a){a=a||{};this.left=a.left||0;this.top=a.top||0}}]);
angular.module("form").controller("selectFieldController",["$scope","$injector",function(a,b){a.$watch("model",function(b){b||""===b||(a.model="")})}]);
angular.module("storage").factory("sessionStorageFactory",["$injector",function(a){var b=a.get("$rootScope"),e=a.get("authenticationService");return{create:function(a,d){var c=!!e.getCurrentToken(),g;g="function"===typeof a?a:function(){return angular.copy(a)};var h=void 0;b.$on("guacLogin",function(){c=!0;h=void 0});b.$on("guacLogout",function(){angular.isDefined(h)&&d&&d(h);c=!1;h=void 0});return function(a){return c?(angular.isDefined(a)&&(h=a),angular.isDefined(h)||(h=g()),h):angular.isDefined(a)?
a:g()}}}}]);angular.module("manage").controller("settingsController",["$scope","$injector",function(a,b){var e=b.get("$routeParams");b=b.get("userPageService");a.settingsPages=null;a.activeTab=e.tab;b.getSettingsPages().then(function(b){a.settingsPages=b})}]);angular.module("settings","groupList list navigation notification rest storage".split(" "));
angular.module("rest").factory("SharingProfile",[function(){return function(a){a=a||{};this.identifier=a.identifier;this.primaryConnectionIdentifier=a.primaryConnectionIdentifier;this.name=a.name;this.parameters=a.parameters;this.attributes=a.attributes||{}}}]);
angular.module("rest").factory("sharingProfileService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService");return{getSharingProfile:function(a,f){var d={token:e.getCurrentToken()};return b({cache:c.connections,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/sharingProfiles/"+encodeURIComponent(f),params:d})},getSharingProfileParameters:function(a,f){var d={token:e.getCurrentToken()};return b({cache:c.connections,method:"GET",
url:"api/session/data/"+encodeURIComponent(a)+"/sharingProfiles/"+encodeURIComponent(f)+"/parameters",params:d})},saveSharingProfile:function(a,f){var d={token:e.getCurrentToken()};return f.identifier?b({method:"PUT",url:"api/session/data/"+encodeURIComponent(a)+"/sharingProfiles/"+encodeURIComponent(f.identifier),params:d,data:f}).then(function(){c.connections.removeAll();c.users.removeAll()}):b({method:"POST",url:"api/session/data/"+encodeURIComponent(a)+"/sharingProfiles",params:d,data:f}).then(function(a){f.identifier=
a.identifier;c.connections.removeAll();c.users.removeAll()})},deleteSharingProfile:function(a,f){var d={token:e.getCurrentToken()};return b({method:"DELETE",url:"api/session/data/"+encodeURIComponent(a)+"/sharingProfiles/"+encodeURIComponent(f.identifier),params:d}).then(function(){c.connections.removeAll()})}}}]);
angular.module("list").factory("SortOrder",[function(){return function(a){var b=this;this.predicate=a;this.primary=a[0];this.descending=!1;"-"===this.primary.charAt(0)&&(this.primary=this.primary.substring(1),this.descending=!0);this.reorder=function(a,c){var d="-"+a;b.predicate=b.predicate.filter(function(b){return b!==a&&b!==d});c?b.predicate.unshift(d):b.predicate.unshift(a);b.primary=a;b.descending=!!c};this.isSortedBy=function(a){return b.primary===a};this.togglePrimary=function(a){b.isSortedBy(a)?
b.reorder(a,!b.descending):b.reorder(a,!1)}}}]);angular.module("storage",["auth"]);
angular.module("manage").directive("systemPermissionEditor",["$injector",function(a){var b=a.get("authenticationService"),e=a.get("dataSourceService"),c=a.get("permissionService"),d=a.get("requestService"),f=a.get("PermissionSet");return{restrict:"E",replace:!0,scope:{dataSource:"\x3d",username:"\x3d",permissionFlags:"\x3d",permissionsAdded:"\x3d",permissionsRemoved:"\x3d"},templateUrl:"app/manage/templates/systemPermissionEditor.html",controller:["$scope",function(a){var g=b.getAvailableDataSources(),
k=b.getCurrentUsername();a.systemPermissionTypes=[{label:"MANAGE_USER.FIELD_HEADER_ADMINISTER_SYSTEM",value:f.SystemPermissionType.ADMINISTER},{label:"MANAGE_USER.FIELD_HEADER_CREATE_NEW_USERS",value:f.SystemPermissionType.CREATE_USER},{label:"MANAGE_USER.FIELD_HEADER_CREATE_NEW_USER_GROUPS",value:f.SystemPermissionType.CREATE_USER_GROUP},{label:"MANAGE_USER.FIELD_HEADER_CREATE_NEW_CONNECTIONS",value:f.SystemPermissionType.CREATE_CONNECTION},{label:"MANAGE_USER.FIELD_HEADER_CREATE_NEW_CONNECTION_GROUPS",
value:f.SystemPermissionType.CREATE_CONNECTION_GROUP},{label:"MANAGE_USER.FIELD_HEADER_CREATE_NEW_SHARING_PROFILES",value:f.SystemPermissionType.CREATE_SHARING_PROFILE}];e.apply(c.getEffectivePermissions,g,k).then(function(b){a.permissions=b},d.DIE);a.canChangeSystemPermissions=function(){return a.permissions?f.hasSystemPermission(a.permissions[a.dataSource],f.SystemPermissionType.ADMINISTER):!1};a.systemPermissionChanged=function(b){a.permissionFlags.systemPermissions[b]?f.hasSystemPermission(a.permissionsRemoved,
b)?f.removeSystemPermission(a.permissionsRemoved,b):f.addSystemPermission(a.permissionsAdded,b):f.hasSystemPermission(a.permissionsAdded,b)?f.removeSystemPermission(a.permissionsAdded,b):f.addSystemPermission(a.permissionsRemoved,b)};a.userPermissionChanged=function(b,c){a.permissionFlags.userPermissions[b][c]?f.hasUserPermission(a.permissionsRemoved,b,c)?f.removeUserPermission(a.permissionsRemoved,b,c):f.addUserPermission(a.permissionsAdded,b,c):f.hasUserPermission(a.permissionsAdded,b,c)?f.removeUserPermission(a.permissionsAdded,
b,c):f.addUserPermission(a.permissionsRemoved,b,c)}}]}}]);
angular.module("index").config(["$provide",function(a){var b={};a.decorator("$templateCache",["$delegate",function(a){var c=angular.extend({},a);c.put=function(c){delete b[c];return a.put.apply(this,arguments)};return c}]);a.decorator("$templateRequest",["$delegate","$injector",function(a,c){var d=c.get("$q"),e=c.get("patchService"),g=function l(a,b){this.apply=function(c,d){l.Operations[a](c,b,d)}};g.Operations={before:function(a,b,c){a.find(b).before(c)},after:function(a,b,c){a.find(b).after(c)},
replace:function(a,b,c){a.find(b).replaceWith(c)},"before-children":function(a,b,c){a.find(b).prepend(c)},"after-children":function(a,b,c){a.find(b).append(c)},"replace-children":function(a,b,c){a.find(b).empty().append(c)}};var h=function(a,b){angular.forEach(b,function(b){var c=$(b),d=[],c=c.filter(function(a,b){if("META"!==b.tagName)return!0;a=b.getAttribute("name");if(!(a&&a in g.Operations))return!0;b=b.getAttribute("content");if(!b)return!0;d.push(new g(a,b));return!1});angular.forEach(d,function(b){b.apply(a,
c)})})};return function(c){var f=d.defer(),g=b[c];if(g)return g.then(f.resolve,f.reject),f.promise;a.apply(this,arguments).then(function(a){e.getPatches().then(function(b){var c=$("\x3cdiv\x3e\x3c/div\x3e").html(a);h(c,b);f.resolve.call(this,c.html())},f.reject)},f.reject);return b[c]=f.promise}}])}]);angular.module("templates-main","app/client/templates/client.html app/client/templates/connection.html app/client/templates/connectionGroup.html app/client/templates/file.html app/client/templates/guacClient.html app/client/templates/guacClientPanel.html app/client/templates/guacFileBrowser.html app/client/templates/guacFileTransfer.html app/client/templates/guacFileTransferManager.html app/client/templates/guacThumbnail.html app/client/templates/guacViewport.html app/element/templates/blank.html app/form/templates/checkboxField.html app/form/templates/dateField.html app/form/templates/emailField.html app/form/templates/form.html app/form/templates/formField.html app/form/templates/guacInputColor.html app/form/templates/languageField.html app/form/templates/numberField.html app/form/templates/passwordField.html app/form/templates/redirectField.html app/form/templates/selectField.html app/form/templates/terminalColorSchemeField.html app/form/templates/textAreaField.html app/form/templates/textField.html app/form/templates/timeField.html app/form/templates/timeZoneField.html app/groupList/templates/guacGroupList.html app/groupList/templates/guacGroupListFilter.html app/home/templates/connection.html app/home/templates/connectionGroup.html app/home/templates/guacRecentConnections.html app/home/templates/home.html app/list/templates/guacFilter.html app/list/templates/guacPager.html app/list/templates/guacUserItem.html app/login/templates/login.html app/manage/templates/connectionGroupPermission.html app/manage/templates/connectionPermission.html app/manage/templates/connectionPermissionEditor.html app/manage/templates/dataSourceTabs.html app/manage/templates/identifierSetEditor.html app/manage/templates/locationChooser.html app/manage/templates/locationChooserConnectionGroup.html app/manage/templates/manageConnection.html app/manage/templates/manageConnectionGroup.html app/manage/templates/manageSharingProfile.html app/manage/templates/manageUser.html app/manage/templates/manageUserGroup.html app/manage/templates/managementButtons.html app/manage/templates/sharingProfilePermission.html app/manage/templates/systemPermissionEditor.html app/navigation/templates/guacMenu.html app/navigation/templates/guacPageList.html app/navigation/templates/guacSectionTabs.html app/navigation/templates/guacUserMenu.html app/notification/templates/guacNotification.html app/osk/templates/guacOsk.html app/settings/templates/connection.html app/settings/templates/connectionGroup.html app/settings/templates/newConnection.html app/settings/templates/newConnectionGroup.html app/settings/templates/newSharingProfile.html app/settings/templates/settings.html app/settings/templates/settingsConnectionHistory.html app/settings/templates/settingsConnections.html app/settings/templates/settingsPreferences.html app/settings/templates/settingsSessions.html app/settings/templates/settingsUserGroups.html app/settings/templates/settingsUsers.html app/settings/templates/sharingProfile.html app/textInput/templates/guacKey.html app/textInput/templates/guacTextInput.html".split(" "));
angular.module("app/client/templates/client.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/client.html",'\n\x3cguac-viewport\x3e\n\n    \x3c!-- Client view --\x3e\n    \x3cdiv class\x3d"client-view"\x3e\n        \x3cdiv class\x3d"client-view-content"\x3e\n\n            \x3c!-- Central portion of view --\x3e\n            \x3cdiv class\x3d"client-body" guac-touch-drag\x3d"clientDrag" guac-touch-pinch\x3d"clientPinch"\x3e\n\n                \x3c!-- Client for current connection --\x3e\n                \x3cguac-client client\x3d"client"\x3e\x3c/guac-client\x3e\n\n                \x3c!-- All other active connections --\x3e\n                \x3cdiv id\x3d"other-connections"\x3e\n                    \x3cguac-client-panel clients\x3d"otherClients"\x3e\x3c/guac-client-panel\x3e\n                \x3c/div\x3e\n\n            \x3c/div\x3e\n\n            \x3c!-- Bottom portion of view --\x3e\n            \x3cdiv class\x3d"client-bottom"\x3e\n\n                \x3c!-- Text input --\x3e\n                \x3cdiv class\x3d"text-input-container" ng-if\x3d"showTextInput"\x3e\n                    \x3cguac-text-input\x3e\x3c/guac-text-input\x3e\n                \x3c/div\x3e\n\n                \x3c!-- On-screen keyboard --\x3e\n                \x3cdiv class\x3d"keyboard-container" ng-if\x3d"showOSK"\x3e\n                    \x3cguac-osk layout\x3d"\'CLIENT.URL_OSK_LAYOUT\' | translate"\x3e\x3c/guac-osk\x3e\n                \x3c/div\x3e\n\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- File transfers --\x3e\n    \x3cdiv id\x3d"file-transfer-dialog" ng-show\x3d"hasTransfers()"\x3e\n        \x3cguac-file-transfer-manager client\x3d"client"\x3e\x3c/guac-file-transfer-manager\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Connection stability warning --\x3e\n    \x3cdiv id\x3d"connection-warning" ng-show\x3d"isConnectionUnstable()"\x3e\n        {{\'CLIENT.TEXT_CLIENT_STATUS_UNSTABLE\' | translate}}\n    \x3c/div\x3e\n\n    \x3c!-- Menu --\x3e\n    \x3cdiv class\x3d"menu" ng-class\x3d"{open: menu.shown}" id\x3d"guac-menu"\x3e\n        \x3cdiv class\x3d"menu-content" ng-if\x3d"menu.shown"\x3e\n\n            \x3c!-- Stationary header --\x3e\n            \x3cdiv class\x3d"header"\x3e\n                \x3ch2 ng-hide\x3d"rootConnectionGroups"\x3e{{client.name}}\x3c/h2\x3e\n                \x3ch2 class\x3d"connection-select-menu" ng-show\x3d"rootConnectionGroups"\x3e\n                    \x3cguac-menu menu-title\x3d"client.name" interactive\x3d"true"\x3e\n                        \x3cdiv class\x3d"all-connections"\x3e\n                            \x3cguac-group-list-filter connection-groups\x3d"rootConnectionGroups"\n                                filtered-connection-groups\x3d"filteredRootConnectionGroups"\n                                placeholder\x3d"\'CLIENT.FIELD_PLACEHOLDER_FILTER\' | translate"\n                                connection-properties\x3d"filteredConnectionProperties"\n                                connection-group-properties\x3d"filteredConnectionGroupProperties"\x3e\x3c/guac-group-list-filter\x3e\n                            \x3cguac-group-list\n                                connection-groups\x3d"filteredRootConnectionGroups"\n                                templates\x3d"{\n                                    \'connection\'       : \'app/client/templates/connection.html\',\n                                    \'connection-group\' : \'app/client/templates/connectionGroup.html\'\n                                }"\n                                page-size\x3d"10"\x3e\x3c/guac-group-list\x3e\n                        \x3c/div\x3e\n                    \x3c/guac-menu\x3e\n                \x3c/h2\x3e\n                \x3cdiv class\x3d"share-menu" ng-show\x3d"canShareConnection()"\x3e\n                    \x3cguac-menu menu-title\x3d"\'CLIENT.ACTION_SHARE\' | translate"\x3e\n                        \x3cul ng-repeat\x3d"sharingProfile in sharingProfiles"\x3e\n                            \x3cli\x3e\x3ca ng-click\x3d"share(sharingProfile)"\x3e{{sharingProfile.name}}\x3c/a\x3e\x3c/li\x3e\n                        \x3c/ul\x3e\n                    \x3c/guac-menu\x3e\n                \x3c/div\x3e\n                \x3cguac-user-menu local-actions\x3d"clientMenuActions"\x3e\x3c/guac-user-menu\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Scrollable body --\x3e\n            \x3cdiv class\x3d"menu-body" guac-touch-drag\x3d"menuDrag" guac-scroll\x3d"menu.scrollState"\x3e\n\n                \x3c!-- Connection sharing --\x3e\n                \x3cdiv class\x3d"menu-section" id\x3d"share-links" ng-show\x3d"isShared()"\x3e\n                    \x3cdiv class\x3d"content"\x3e\n                        \x3ch3\x3e{{\'CLIENT.INFO_CONNECTION_SHARED\' | translate}}\x3c/h3\x3e\n                        \x3cp class\x3d"description"\n                           translate\x3d"CLIENT.HELP_SHARE_LINK"\n                           translate-values\x3d"{LINKS : getShareLinkCount()}"\x3e\x3c/p\x3e\n                        \x3ctable\x3e\n                            \x3ctr ng-repeat\x3d"link in client.shareLinks | toArray | orderBy: value.name"\x3e\n                                \x3cth\x3e{{link.value.name}}\x3c/th\x3e\n                                \x3ctd\x3e\x3ca href\x3d"{{link.value.href}}" target\x3d"_blank"\x3e{{link.value.href}}\x3c/a\x3e\x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n\n                \x3c!-- Devices --\x3e\n                \x3cdiv class\x3d"menu-section" id\x3d"devices" ng-show\x3d"client.filesystems.length"\x3e\n                    \x3ch3\x3e{{\'CLIENT.SECTION_HEADER_DEVICES\' | translate}}\x3c/h3\x3e\n                    \x3cdiv class\x3d"content"\x3e\n                        \x3cdiv class\x3d"device filesystem" ng-repeat\x3d"filesystem in client.filesystems" ng-click\x3d"showFilesystemMenu(filesystem)"\x3e\n                            {{filesystem.name}}\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3c!-- Connection parameters which may be modified while the connection is open --\x3e\n                \x3cdiv class\x3d"menu-section connection-parameters" id\x3d"connection-settings" ng-show\x3d"client.protocol"\x3e\n                    \x3cguac-form namespace\x3d"getProtocolNamespace(client.protocol)"\n                               content\x3d"client.forms"\n                               model\x3d"menu.connectionParameters"\n                               model-only\x3d"true"\x3e\x3c/guac-form\x3e\n                \x3c/div\x3e\n\n                \x3c!-- Input method --\x3e\n                \x3cdiv class\x3d"menu-section" id\x3d"keyboard-settings"\x3e\n                    \x3ch3\x3e{{\'CLIENT.SECTION_HEADER_INPUT_METHOD\' | translate}}\x3c/h3\x3e\n                    \x3cdiv class\x3d"content"\x3e\n\n                        \x3c!-- No IME --\x3e\n                        \x3cdiv class\x3d"choice"\x3e\n                            \x3clabel\x3e\x3cinput id\x3d"ime-none" name\x3d"input-method" ng-change\x3d"closeMenu()" ng-model\x3d"menu.inputMethod" type\x3d"radio" value\x3d"none"/\x3e {{\'CLIENT.NAME_INPUT_METHOD_NONE\' | translate}}\x3c/label\x3e\n                            \x3cp class\x3d"caption"\x3e\x3clabel for\x3d"ime-none"\x3e{{\'CLIENT.HELP_INPUT_METHOD_NONE\' | translate}}\x3c/label\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n\n                        \x3c!-- Text input --\x3e\n                        \x3cdiv class\x3d"choice"\x3e\n                            \x3cdiv class\x3d"figure"\x3e\x3clabel for\x3d"ime-text"\x3e\x3cimg src\x3d"images/settings/tablet-keys.png" alt\x3d""/\x3e\x3c/label\x3e\x3c/div\x3e\n                            \x3clabel\x3e\x3cinput id\x3d"ime-text" name\x3d"input-method" ng-change\x3d"closeMenu()" ng-model\x3d"menu.inputMethod" type\x3d"radio" value\x3d"text"/\x3e {{\'CLIENT.NAME_INPUT_METHOD_TEXT\' | translate}}\x3c/label\x3e\n                            \x3cp class\x3d"caption"\x3e\x3clabel for\x3d"ime-text"\x3e{{\'CLIENT.HELP_INPUT_METHOD_TEXT\' | translate}} \x3c/label\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n\n                        \x3c!-- Guac OSK --\x3e\n                        \x3cdiv class\x3d"choice"\x3e\n                            \x3clabel\x3e\x3cinput id\x3d"ime-osk" name\x3d"input-method" ng-change\x3d"closeMenu()" ng-model\x3d"menu.inputMethod" type\x3d"radio" value\x3d"osk"/\x3e {{\'CLIENT.NAME_INPUT_METHOD_OSK\' | translate}}\x3c/label\x3e\n                            \x3cp class\x3d"caption"\x3e\x3clabel for\x3d"ime-osk"\x3e{{\'CLIENT.HELP_INPUT_METHOD_OSK\' | translate}}\x3c/label\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n\n                \x3c!-- Display options --\x3e\n                \x3cdiv class\x3d"menu-section" id\x3d"display-settings"\x3e\n                    \x3ch3\x3e{{\'CLIENT.SECTION_HEADER_DISPLAY\' | translate}}\x3c/h3\x3e\n                    \x3cdiv class\x3d"content"\x3e\n                        \x3cdiv id\x3d"zoom-settings"\x3e\n                            \x3cdiv ng-click\x3d"zoomOut()" id\x3d"zoom-out"\x3e\x3cimg src\x3d"images/settings/zoom-out.png" alt\x3d"-"/\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"zoom-ctrl"\x3e\n                                \x3cinput type\x3d"number" class\x3d"zoom-ctrl" guac-zoom-ctrl\n                                        ng-model\x3d"client.clientProperties.scale"\n                                        ng-model-options\x3d"{ updateOn: \'blur submit\' }"\n                                        ng-change\x3d"zoomSet()" /\x3e%\n                            \x3c/div\x3e\n                            \x3cdiv ng-click\x3d"zoomIn()" id\x3d"zoom-in"\x3e\x3cimg src\x3d"images/settings/zoom-in.png" alt\x3d"+"/\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv\x3e\x3clabel\x3e\x3cinput ng-model\x3d"menu.autoFit" ng-change\x3d"changeAutoFit()" ng-disabled\x3d"autoFitDisabled()" type\x3d"checkbox" id\x3d"auto-fit"/\x3e {{\'CLIENT.TEXT_ZOOM_AUTO_FIT\' | translate}}\x3c/label\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Filesystem menu --\x3e\n    \x3cdiv id\x3d"filesystem-menu" class\x3d"menu" ng-class\x3d"{open: isFilesystemMenuShown()}"\x3e\n        \x3cdiv class\x3d"menu-content"\x3e\n\n            \x3c!-- Stationary header --\x3e\n            \x3cdiv class\x3d"header"\x3e\n                \x3ch2\x3e{{filesystemMenuContents.name}}\x3c/h2\x3e\n                \x3cbutton class\x3d"upload button" guac-upload\x3d"uploadFiles"\x3e{{\'CLIENT.ACTION_UPLOAD_FILES\' | translate}}\x3c/button\x3e\n                \x3cbutton class\x3d"back" ng-click\x3d"hideFilesystemMenu()"\x3e{{\'CLIENT.ACTION_NAVIGATE_BACK\' | translate}}\x3c/button\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Breadcrumbs --\x3e\n            \x3cdiv class\x3d"header breadcrumbs"\x3e\x3cdiv\n                    class\x3d"breadcrumb root"\n                    ng-click\x3d"changeDirectory(filesystemMenuContents, filesystemMenuContents.root)"\x3e\x3c/div\x3e\x3cdiv\n                        class\x3d"breadcrumb"\n                        ng-repeat\x3d"file in getPath(filesystemMenuContents.currentDirectory)"\n                        ng-click\x3d"changeDirectory(filesystemMenuContents, file)"\x3e{{file.name}}\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Scrollable body --\x3e\n            \x3cdiv class\x3d"menu-body"\x3e\n                \x3cguac-file-browser client\x3d"client" filesystem\x3d"filesystemMenuContents"\x3e\x3c/guac-file-browser\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/guac-viewport\x3e')}]);
angular.module("app/client/templates/connection.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/connection.html",'\x3ca class\x3d"connection" ng-href\x3d"{{ item.getClientURL() }}"\x3e\n    \x3cdiv class\x3d"icon type" ng-class\x3d"item.protocol"\x3e\x3c/div\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\x3c/a\x3e')}]);
angular.module("app/client/templates/connectionGroup.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/connectionGroup.html",'\x3ca class\x3d"connection-group" ng-href\x3d"{{ item.getClientURL() }}"\x3e\n    \x3cdiv ng-show\x3d"item.balancing" class\x3d"icon type balancer"\x3e\x3c/div\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\x3c/a\x3e')}]);
angular.module("app/client/templates/file.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/file.html",'\x3cdiv class\x3d"list-item"\x3e\n\n    \x3c!-- Filename and icon --\x3e\n    \x3cdiv class\x3d"caption"\x3e\n        \x3cdiv class\x3d"icon"\x3e\x3c/div\x3e\n        {{::name}}\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);angular.module("app/client/templates/guacClient.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacClient.html",'\x3cdiv class\x3d"main" guac-resize\x3d"mainElementResized"\x3e\n\n    \x3c!-- Display --\x3e\n    \x3cdiv class\x3d"displayOuter"\x3e\n\n        \x3cdiv class\x3d"displayMiddle"\x3e\n            \x3cdiv class\x3d"display software-cursor"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/client/templates/guacClientPanel.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacClientPanel.html",'\x3cdiv class\x3d"client-panel"\n     ng-class\x3d"{ \'has-clients\': hasClients(), \'hidden\' : panelHidden() }"\x3e\n\n    \x3c!-- Toggle panel visibility --\x3e\n    \x3cdiv class\x3d"client-panel-handle" ng-click\x3d"togglePanel()"\x3e\x3c/div\x3e\n\n    \x3c!-- List of connection thumbnails --\x3e\n    \x3cul class\x3d"client-panel-connection-list"\x3e\n        \x3cli ng-repeat\x3d"client in clients | toArray | orderBy: [ \'-value.lastUsed\', \'value.title\' ]"\n            ng-class\x3d"{ \'needs-attention\' : hasStatusUpdate(client.value) }"\n            ng-show\x3d"isManaged(client.value)"\n            class\x3d"client-panel-connection"\x3e\n\n            \x3c!-- Close connection --\x3e\n            \x3cbutton class\x3d"close-other-connection" ng-click\x3d"disconnect(client.value)"\x3e\n                \x3cimg ng-attr-alt\x3d"{{ \'CLIENT.ACTION_DISCONNECT\' | translate }}"\n                     ng-attr-title\x3d"{{ \'CLIENT.ACTION_DISCONNECT\' | translate }}"\n                     src\x3d"images/x.png"\x3e\n            \x3c/button\x3e\n\n            \x3c!-- Thumbnail --\x3e\n            \x3ca href\x3d"#/client/{{client.value.id}}"\x3e\n                \x3cdiv class\x3d"thumbnail"\x3e\n                    \x3cguac-thumbnail client\x3d"client.value"\x3e\x3c/guac-thumbnail\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"name"\x3e{{ client.value.title }}\x3c/div\x3e\n            \x3c/a\x3e\n\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/client/templates/guacFileBrowser.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacFileBrowser.html",'\x3cdiv class\x3d"file-browser"\x3e\n\n    \x3c!-- Current directory contents --\x3e\n    \x3cdiv class\x3d"current-directory-contents"\x3e\x3c/div\x3e\n\n\x3c/div\x3e')}]);angular.module("app/client/templates/guacFileTransfer.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacFileTransfer.html",'\x3cdiv class\x3d"transfer" ng-class\x3d"{\'in-progress\': isInProgress(), \'savable\': isSavable(), \'error\': hasError()}" ng-click\x3d"save()"\x3e\n\n    \x3c!-- Overall status of transfer --\x3e\n    \x3cdiv class\x3d"transfer-status"\x3e\n\n        \x3c!-- Filename and progress bar --\x3e\n        \x3cdiv class\x3d"filename"\x3e\n            \x3cdiv class\x3d"progress"\x3e\x3cdiv ng-style\x3d"{\'width\': getPercentDone() + \'%\'}" class\x3d"bar"\x3e\x3c/div\x3e\x3c/div\x3e\n            {{transfer.filename}}\n        \x3c/div\x3e\n\n        \x3c!-- Error text --\x3e\n        \x3cp class\x3d"error-text"\x3e{{getErrorText() | translate}}\x3c/p\x3e\n\n    \x3c/div\x3e\n\n    \x3c!-- Progress/status text --\x3e\n    \x3cdiv class\x3d"text"\n         translate\x3d"CLIENT.TEXT_FILE_TRANSFER_PROGRESS"\n         translate-values\x3d"{PROGRESS: getProgressValue(), UNIT: getProgressUnit()}"\x3e\x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/client/templates/guacFileTransferManager.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacFileTransferManager.html",'\x3cdiv class\x3d"transfer-manager"\x3e\n\n    \x3c!-- File transfer manager header --\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ch2\x3e{{\'CLIENT.SECTION_HEADER_FILE_TRANSFERS\' | translate}}\x3c/h2\x3e\n        \x3cbutton ng-click\x3d"clearCompletedTransfers()"\x3e{{\'CLIENT.ACTION_CLEAR_COMPLETED_TRANSFERS\' | translate}}\x3c/button\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Sent/received files --\x3e\n    \x3cdiv class\x3d"transfer-manager-body"\x3e\n        \x3cdiv class\x3d"transfers"\x3e\n            \x3cguac-file-transfer\n                transfer\x3d"upload"\n                ng-repeat\x3d"upload in client.uploads"\x3e\n            \x3c/guac-file-transfer\x3e\x3cguac-file-transfer\n                transfer\x3d"download"\n                ng-repeat\x3d"download in client.downloads"\x3e\n            \x3c/guac-file-transfer\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/client/templates/guacThumbnail.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacThumbnail.html",'\x3cdiv class\x3d"thumbnail-main" guac-resize\x3d"updateDisplayScale"\x3e\n\n    \x3c!-- Display --\x3e\n    \x3cdiv class\x3d"display"\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Dummy background thumbnail --\x3e\n    \x3cimg alt\x3d"" ng-src\x3d"{{thumbnail}}"/\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/client/templates/guacViewport.html",[]).run(["$templateCache",function(a){a.put("app/client/templates/guacViewport.html",'\x3cdiv class\x3d"viewport" ng-transclude\x3e\n\x3c/div\x3e')}]);angular.module("app/element/templates/blank.html",[]).run(["$templateCache",function(a){a.put("app/element/templates/blank.html",'\x3c!DOCTYPE html\x3e\n\x3chtml\x3e\n    \x3chead\x3e\n        \x3cmeta http-equiv\x3d"Content-Type" content\x3d"text/html; charset\x3dUTF-8"\x3e\n        \x3ctitle\x3e_\x3c/title\x3e\n    \x3c/head\x3e\n    \x3cbody\x3e\x3c/body\x3e\n\x3c/html\x3e')}]);
angular.module("app/form/templates/checkboxField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/checkboxField.html",'\x3cinput type\x3d"checkbox"\n       ng-attr-id\x3d"{{ fieldId }}"\n       ng-disabled\x3d"disabled"\n       ng-model\x3d"typedValue"\n       guac-focus\x3d"focused"\n       autocorrect\x3d"off"\n       autocapitalize\x3d"off"/\x3e')}]);
angular.module("app/form/templates/dateField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/dateField.html",'\x3cdiv class\x3d"date-field"\x3e\n    \x3cinput type\x3d"date"\n           ng-disabled\x3d"disabled"\n           ng-attr-id\x3d"{{ fieldId }}"\n           ng-model\x3d"typedValue"\n           ng-model-options\x3d"modelOptions"\n           guac-lenient-date\n           guac-focus\x3d"focused"\n           placeholder\x3d"{{\'FORM.FIELD_PLACEHOLDER_DATE\' | translate}}"\n           autocorrect\x3d"off"\n           autocapitalize\x3d"off"/\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/emailField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/emailField.html",'\x3cdiv class\x3d"email-field"\x3e\n    \x3cinput type\x3d"email"\n           ng-disabled\x3d"disabled"\n           ng-attr-id\x3d"{{ fieldId }}"\n           ng-model\x3d"model"\n           ng-hide\x3d"readOnly"\n           guac-focus\x3d"focused"\n           autocorrect\x3d"off"\n           autocapitalize\x3d"off"/\x3e\n    \x3ca href\x3d"mailto:{{model}}" ng-show\x3d"readOnly"\x3e{{model}}\x3c/a\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/form.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/form.html",'\x3cdiv class\x3d"form-group"\x3e\n    \x3cdiv ng-repeat\x3d"form in forms" class\x3d"form"\n         ng-show\x3d"containsVisible(form.fields)"\x3e\n\n        \x3c!-- Form name --\x3e\n        \x3ch3 ng-show\x3d"form.name"\x3e{{getSectionHeader(form) | translate}}\x3c/h3\x3e\n\n        \x3c!-- All fields in form --\x3e\n        \x3cdiv class\x3d"fields"\x3e\n            \x3cguac-form-field ng-repeat\x3d"field in form.fields" namespace\x3d"namespace"\n                             ng-if\x3d"isVisible(field)"\n                             data-disabled\x3d"disabled"\n                             focused\x3d"isFocused(field)"\n                             field\x3d"field"\n                             model\x3d"values[field.name]"\x3e\x3c/guac-form-field\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/formField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/formField.html",'\x3cdiv class\x3d"labeled-field" ng-class\x3d"{empty: !model}" ng-show\x3d"isFieldVisible()"\x3e\n\n    \x3c!-- Field header --\x3e\n    \x3cdiv class\x3d"field-header"\x3e\n        \x3clabel ng-attr-for\x3d"{{ fieldId }}"\x3e{{getFieldHeader() | translate}}\x3c/label\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Field content --\x3e\n    \x3cdiv class\x3d"form-field"\x3e\x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/form/templates/guacInputColor.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/guacInputColor.html",'\x3cdiv class\x3d"guac-input-color"\n     ng-class\x3d"{\n         \'dark\' : isDark(),\n         \'read-only\' : !isColorPickerAvailable()\n     }"\n     ng-click\x3d"selectColor()"\n     ng-style\x3d"{\n        \'background-color\' : model\n     }"\x3e\n    \x3cng-transclude\x3e\x3c/ng-transclude\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/languageField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/languageField.html",'\x3cselect guac-focus\x3d"focused"\n        ng-attr-id\x3d"{{ fieldId }}"\n        ng-model\x3d"model"\n        ng-options\x3d"language.key as language.value for language in languages | toArray | orderBy: key"\x3e\x3c/select\x3e')}]);
angular.module("app/form/templates/numberField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/numberField.html",'\x3cinput type\x3d"number"\n       ng-disabled\x3d"disabled"\n       ng-attr-id\x3d"{{ fieldId }}"\n       ng-model\x3d"typedValue"\n       guac-focus\x3d"focused"\n       autocorrect\x3d"off"\n       autocapitalize\x3d"off"/\x3e')}]);
angular.module("app/form/templates/passwordField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/passwordField.html",'\x3cdiv class\x3d"password-field"\x3e\n    \x3cinput type\x3d"{{passwordInputType}}"\n           ng-disabled\x3d"disabled"\n           ng-attr-id\x3d"{{ fieldId }}"\n           ng-model\x3d"model"\n           ng-trim\x3d"false"\n           guac-focus\x3d"focused"\n           autocorrect\x3d"off"\n           autocapitalize\x3d"off"/\x3e\n    \x3cdiv class\x3d"icon toggle-password" ng-click\x3d"togglePassword()" title\x3d"{{getTogglePasswordHelpText() | translate}}"\x3e\x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/redirectField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/redirectField.html",'\x3cdiv class\x3d"redirect-field-container"\x3e\n    \x3cdiv class\x3d"redirect-field"\x3e\n        \x3cp ng-show\x3d"field.translatableMessage"\n           translate\x3d"{{field.translatableMessage.key}}"\n           translate-values\x3d"{{field.translatableMessage.variables}}"\x3e\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/selectField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/selectField.html",'\x3cselect ng-attr-id\x3d"{{ fieldId }}"\n        ng-disabled\x3d"disabled"\n        guac-focus\x3d"focused"\n        ng-model\x3d"model"\n        ng-options\x3d"option as getFieldOption(option) | translate for option in field.options | orderBy: value"\x3e\x3c/select\x3e')}]);
angular.module("app/form/templates/terminalColorSchemeField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/terminalColorSchemeField.html",'\x3cdiv class\x3d"terminal-color-scheme-field" ng-class\x3d"{\n        \'custom-color-scheme-details-visible\' : detailsShown,\n        \'custom-color-scheme-details-hidden\' : !detailsShown\n    }"\x3e\n\n    \x3c!-- Pre-defined color scheme options --\x3e\n    \x3cselect ng-attr-id\x3d"{{ fieldId }}" ng-model\x3d"selectedColorScheme"\x3e\n        \x3coption ng-repeat\x3d"option in field.options | orderBy: value"\n                ng-value\x3d"option"\x3e{{ getFieldOption(option) | translate }}\x3c/option\x3e\n        \x3coption value\x3d"custom"\x3e{{ \'COLOR_SCHEME.FIELD_OPTION_CUSTOM\' | translate }}\x3c/option\x3e\n    \x3c/select\x3e\n\n    \x3c!-- Custom color scheme --\x3e\n    \x3cdiv class\x3d"custom-color-scheme" ng-show\x3d"isCustom()"\x3e\n\n        \x3c!-- Default foreground color --\x3e\n        \x3cdiv class\x3d"custom-color-scheme-section default-color foreground"\x3e\n            \x3cguac-input-color model\x3d"customColorScheme.foreground"\n                              palette\x3d"defaultPalette"\x3e\n                {{ \'COLOR_SCHEME.FIELD_HEADER_FOREGROUND\' | translate }}\n            \x3c/guac-input-color\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Default background color --\x3e\n        \x3cdiv class\x3d"custom-color-scheme-section default-color background"\x3e\n            \x3cguac-input-color model\x3d"customColorScheme.background"\n                              palette\x3d"defaultPalette"\x3e\n                {{ \'COLOR_SCHEME.FIELD_HEADER_BACKGROUND\' | translate }}\n            \x3c/guac-input-color\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Low intensity portion of 16-color palette --\x3e\n        \x3cdiv class\x3d"custom-color-scheme-section palette low-intensity"\x3e\n            \x3cguac-input-color ng-repeat\x3d"index in lowIntensity"\n                              model\x3d"customColorScheme.colors[index]"\n                              palette\x3d"defaultPalette"\x3e\n                {{ index }}\n            \x3c/guac-input-color\x3e\n        \x3c/div\x3e\n\n        \x3c!-- High intensity portion of 16-color palette --\x3e\n        \x3cdiv class\x3d"custom-color-scheme-section palette high-intensity"\x3e\n            \x3cguac-input-color ng-repeat\x3d"index in highIntensity"\n                              model\x3d"customColorScheme.colors[index]"\n                              palette\x3d"defaultPalette"\x3e\n                {{ index }}\n            \x3c/guac-input-color\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3c!-- Show/hide details --\x3e\n    \x3ch4 class\x3d"custom-color-scheme-details-header" ng-show\x3d"isCustom()"\x3e\n        {{\'COLOR_SCHEME.SECTION_HEADER_DETAILS\' | translate}}\n        \x3ca class\x3d"custom-color-scheme-show-details" ng-click\x3d"showDetails()"\x3e{{\'COLOR_SCHEME.ACTION_SHOW_DETAILS\' | translate}}\x3c/a\x3e\n        \x3ca class\x3d"custom-color-scheme-hide-details" ng-click\x3d"hideDetails()"\x3e{{\'COLOR_SCHEME.ACTION_HIDE_DETAILS\' | translate}}\x3c/a\x3e\n    \x3c/h4\x3e\n\n    \x3c!-- Custom color scheme details (internal representation --\x3e\n    \x3ctextarea class\x3d"custom-color-scheme-details" spellcheck\x3d"false"\n              ng-model\x3d"model" ng-show\x3d"isCustom()"\x3e\x3c/textarea\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/form/templates/textAreaField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/textAreaField.html",'\x3ctextarea ng-attr-id\x3d"{{ fieldId }}"\n          ng-model\x3d"model"\n          ng-disabled\x3d"disabled"\n          guac-focus\x3d"focused"\n          autocorrect\x3d"off"\n          autocapitalize\x3d"off"\x3e\x3c/textarea\x3e')}]);
angular.module("app/form/templates/textField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/textField.html",'\x3cdiv class\x3d"text-field"\x3e\n    \x3cinput type\x3d"text"\n           ng-attr-id\x3d"{{ fieldId }}"\n           ng-attr-list\x3d"{{ dataListId }}"\n           ng-model\x3d"model"\n           ng-disabled\x3d"disabled"\n           guac-focus\x3d"focused"\n           autocorrect\x3d"off"\n           autocapitalize\x3d"off"/\x3e\n    \x3cdatalist ng-if\x3d"dataListId" ng-attr-id\x3d"{{ dataListId }}"\x3e\n        \x3coption ng-repeat\x3d"option in field.options | orderBy: option"\n                value\x3d"{{ option }}"\x3e{{ getFieldOption(option) | translate }}\x3c/option\x3e\n    \x3c/datalist\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/timeField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/timeField.html",'\x3cdiv class\x3d"time-field"\x3e\n    \x3cinput type\x3d"time"\n           ng-disabled\x3d"disabled"\n           ng-attr-id\x3d"{{ fieldId }}"\n           ng-model\x3d"typedValue"\n           ng-model-options\x3d"modelOptions"\n           guac-focus\x3d"focused"\n           guac-lenient-time\n           placeholder\x3d"{{\'FORM.FIELD_PLACEHOLDER_TIME\' | translate}}"\n           autocorrect\x3d"off"\n           autocapitalize\x3d"off"/\x3e\n\x3c/div\x3e')}]);
angular.module("app/form/templates/timeZoneField.html",[]).run(["$templateCache",function(a){a.put("app/form/templates/timeZoneField.html",'\x3cdiv class\x3d"time-zone-field"\x3e\n\n    \x3c!-- Available time zone regions --\x3e\n    \x3cselect class\x3d"time-zone-region"\n            ng-disabled\x3d"disabled"\n            guac-focus\x3d"focused"\n            ng-attr-id\x3d"{{ fieldId }}"\n            ng-model\x3d"region"\n            ng-options\x3d"name for name in regions | orderBy: name"\x3e\x3c/select\x3e\n\n    \x3c!-- Time zones within selected region --\x3e\n    \x3cselect class\x3d"time-zone"\n            ng-disabled\x3d"disabled || !region"\n            ng-model\x3d"model"\n            ng-options\x3d"timeZone.value as timeZone.key for timeZone in timeZones[region] | toArray | orderBy: key"\x3e\x3c/select\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/groupList/templates/guacGroupList.html",[]).run(["$templateCache",function(a){a.put("app/groupList/templates/guacGroupList.html",'\x3cdiv class\x3d"group-list"\x3e\n\n    \x3cscript type\x3d"text/ng-template" id\x3d"nestedItem.html"\x3e\n        \x3cdiv class\x3d"{{item.type}}" ng-if\x3d"isVisible(item.type)"\n            ng-class\x3d"{\n                balancer   : item.balancing,\n                expanded   : item.expanded,\n                expandable : item.expandable,\n                empty      : !item.children.length\n            }"\x3e\n\n            \x3c!-- Item caption --\x3e\n            \x3cdiv class\x3d"caption"\x3e\n\n                \x3c!-- Expand/collapse icon --\x3e\n                \x3cdiv class\x3d"icon expand" ng-click\x3d"toggleExpanded(item)"\n                    ng-if\x3d"item.expandable"\x3e\x3c/div\x3e\n\n                \x3cng-include src\x3d"templates[item.type]"/\x3e\n\n            \x3c/div\x3e\n\n            \x3c!-- Children of item (if any) --\x3e\n            \x3cdiv class\x3d"children" ng-if\x3d"item.expanded"\x3e\n                \x3cdiv class\x3d"list-item" ng-repeat\x3d"item in item.children | orderBy : \'name\'"\n                    ng-include\x3d"\'nestedItem.html\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/script\x3e\n\n    \x3c!-- Root-level connections / groups --\x3e\n    \x3cdiv class\x3d"group-list-page"\x3e\n        \x3cdiv class\x3d"list-item" ng-repeat\x3d"item in childrenPage" ng-include\x3d"\'nestedItem.html\'"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Pager for connections / groups --\x3e\n    \x3cguac-pager page\x3d"childrenPage" items\x3d"rootItems | orderBy : [\'weight\', \'name\']"\n                page-size\x3d"pageSize"\x3e\x3c/guac-pager\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/groupList/templates/guacGroupListFilter.html",[]).run(["$templateCache",function(a){a.put("app/groupList/templates/guacGroupListFilter.html",'\x3cdiv class\x3d"group-list-filter filter"\x3e\n\n    \x3c!-- Filter string --\x3e\n    \x3cinput class\x3d"search-string" placeholder\x3d"{{placeholder()}}" type\x3d"text" ng-model\x3d"searchString"/\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/home/templates/connection.html",[]).run(["$templateCache",function(a){a.put("app/home/templates/connection.html",'\x3ca class\x3d"home-connection"\n   ng-href\x3d"{{ item.getClientURL() }}"\n   ng-class\x3d"{active: item.getActiveConnections()}"\x3e\n\n    \x3c!-- Connection icon --\x3e\n    \x3cdiv class\x3d"icon type" ng-class\x3d"item.protocol"\x3e\x3c/div\x3e\n\n    \x3c!-- Connection name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n    \x3c!-- Active user count --\x3e\n    \x3cspan class\x3d"activeUserCount" ng-show\x3d"item.getActiveConnections()"\n        translate\x3d"HOME.INFO_ACTIVE_USER_COUNT"\n        translate-values\x3d"{USERS: item.getActiveConnections()}"\x3e\x3c/span\x3e\n\n\x3c/a\x3e')}]);
angular.module("app/home/templates/connectionGroup.html",[]).run(["$templateCache",function(a){a.put("app/home/templates/connectionGroup.html",'\x3ca class\x3d"home-connection-group"\n   ng-href\x3d"{{ item.getClientURL() }}"\x3e\n\n    \x3c!-- Connection group icon --\x3e\n    \x3cdiv ng-show\x3d"item.balancing" class\x3d"icon type balancer"\x3e\x3c/div\x3e\n\n    \x3c!-- Connection group name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n\x3c/a\x3e')}]);
angular.module("app/home/templates/guacRecentConnections.html",[]).run(["$templateCache",function(a){a.put("app/home/templates/guacRecentConnections.html",'\x3cdiv\x3e\n\n    \x3c!-- Text displayed if no recent connections exist --\x3e\n    \x3cp class\x3d"placeholder" ng-hide\x3d"hasRecentConnections()"\x3e{{\'HOME.INFO_NO_RECENT_CONNECTIONS\' | translate}}\x3c/p\x3e\n\n    \x3c!-- All active connections --\x3e\n    \x3cdiv ng-repeat\x3d"activeConnection in activeConnections" class\x3d"connection"\x3e\n        \x3ca href\x3d"#/client/{{activeConnection.client.id}}"\x3e\n\n            \x3c!-- Connection thumbnail --\x3e\n            \x3cdiv class\x3d"thumbnail"\x3e\n                \x3cguac-thumbnail client\x3d"activeConnection.client"\x3e\x3c/guac-thumbnail\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Connection name --\x3e\n            \x3cdiv class\x3d"caption"\x3e\n                \x3cspan class\x3d"name"\x3e{{activeConnection.name}}\x3c/span\x3e\n            \x3c/div\x3e\n\n        \x3c/a\x3e\n    \x3c/div\x3e\n    \n    \x3c!-- All recent connections --\x3e\n    \x3cdiv ng-repeat\x3d"recentConnection in recentConnections" class\x3d"connection"\x3e\n        \x3ca href\x3d"#/client/{{recentConnection.entry.id}}"\x3e\n\n            \x3c!-- Connection thumbnail --\x3e\n            \x3cdiv class\x3d"thumbnail"\x3e\n                \x3cimg alt\x3d"{{recentConnection.name}}" ng-src\x3d"{{recentConnection.entry.thumbnail}}"/\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Connection name --\x3e\n            \x3cdiv class\x3d"caption"\x3e\n                \x3cspan class\x3d"name"\x3e{{recentConnection.name}}\x3c/span\x3e\n            \x3c/div\x3e\n\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/home/templates/home.html",[]).run(["$templateCache",function(a){a.put("app/home/templates/home.html",'\n\x3cdiv class\x3d"view" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3cdiv class\x3d"connection-list-ui"\x3e\n\n        \x3c!-- The recent connections for this user --\x3e\n        \x3cdiv class\x3d"header"\x3e\n            \x3ch2\x3e{{\'HOME.SECTION_HEADER_RECENT_CONNECTIONS\' | translate}}\x3c/h2\x3e\n            \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"recent-connections"\x3e\n            \x3cguac-recent-connections root-groups\x3d"rootConnectionGroups"\x3e\x3c/guac-recent-connections\x3e\n        \x3c/div\x3e\n\n        \x3c!-- All connections for this user --\x3e\n        \x3cdiv class\x3d"header"\x3e\n            \x3ch2\x3e{{\'HOME.SECTION_HEADER_ALL_CONNECTIONS\' | translate}}\x3c/h2\x3e\n            \x3cguac-group-list-filter connection-groups\x3d"rootConnectionGroups"\n                filtered-connection-groups\x3d"filteredRootConnectionGroups"\n                placeholder\x3d"\'HOME.FIELD_PLACEHOLDER_FILTER\' | translate"\n                connection-properties\x3d"filteredConnectionProperties"\n                connection-group-properties\x3d"filteredConnectionGroupProperties"\x3e\x3c/guac-group-list-filter\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"all-connections"\x3e\n            \x3cguac-group-list\n                connection-groups\x3d"filteredRootConnectionGroups"\n                templates\x3d"{\n                    \'connection\'       : \'app/home/templates/connection.html\',\n                    \'connection-group\' : \'app/home/templates/connectionGroup.html\'\n                }"\n                page-size\x3d"20"\x3e\x3c/guac-group-list\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/list/templates/guacFilter.html",[]).run(["$templateCache",function(a){a.put("app/list/templates/guacFilter.html",'\x3cdiv class\x3d"filter"\x3e\n\n    \x3c!-- Filter string --\x3e\n    \x3cinput class\x3d"search-string" placeholder\x3d"{{placeholder()}}" type\x3d"text" ng-model\x3d"searchString"/\x3e\n\n\x3c/div\x3e')}]);angular.module("app/list/templates/guacPager.html",[]).run(["$templateCache",function(a){a.put("app/list/templates/guacPager.html",'\x3cdiv class\x3d"pager" ng-show\x3d"pageNumbers.length \x3e 1"\x3e\n\n    \x3c!-- First / Previous --\x3e\n    \x3cdiv class\x3d"first-page icon" ng-class\x3d"{disabled: !canSelectPage(firstPage)}"    ng-click\x3d"selectPage(firstPage)"/\x3e\n    \x3cdiv class\x3d"prev-page icon"  ng-class\x3d"{disabled: !canSelectPage(previousPage)}" ng-click\x3d"selectPage(previousPage)"/\x3e\n\n    \x3c!-- Indicator of the existence of pages before the first page number shown --\x3e\n    \x3cdiv class\x3d"more-pages" ng-show\x3d"hasMorePagesBefore()"\x3e...\x3c/div\x3e\n    \n    \x3c!-- Page numbers --\x3e\n    \x3cul class\x3d"page-numbers"\x3e\n        \x3cli class\x3d"set-page"\n            ng-class\x3d"{current: isSelected(pageNumber)}"\n            ng-repeat\x3d"pageNumber in pageNumbers"\n            ng-click\x3d"selectPage(pageNumber)"\x3e{{pageNumber}}\x3c/li\x3e\n    \x3c/ul\x3e\n\n    \x3c!-- Indicator of the existence of pages beyond the last page number shown --\x3e\n    \x3cdiv class\x3d"more-pages" ng-show\x3d"hasMorePagesAfter()"\x3e...\x3c/div\x3e\n\n    \x3c!-- Next / Last --\x3e\n    \x3cdiv class\x3d"next-page icon" ng-class\x3d"{disabled: !canSelectPage(nextPage)}" ng-click\x3d"selectPage(nextPage)"/\x3e\n    \x3cdiv class\x3d"last-page icon" ng-class\x3d"{disabled: !canSelectPage(lastPage)}" ng-click\x3d"selectPage(lastPage)"/\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/list/templates/guacUserItem.html",[]).run(["$templateCache",function(a){a.put("app/list/templates/guacUserItem.html",'\x3cdiv class\x3d"user-item" ng-class\x3d"{\'anonymous\' : isAnonymous() }"\x3e\n    \x3cspan class\x3d"username"\x3e{{displayName}}\x3c/span\x3e\n\x3c/div\x3e')}]);angular.module("app/login/templates/login.html",[]).run(["$templateCache",function(a){a.put("app/login/templates/login.html",'\x3cdiv class\x3d"login-ui" ng-class\x3d"{error: loginError, continuation: isContinuation(), initial: !isContinuation()}" \x3e\n\n    \x3c!-- Login error message --\x3e\n    \x3cp class\x3d"login-error" translate\x3d"{{loginError.key}}"\n       translate-values\x3d"{{loginError.variables}}"\x3e\x3c/p\x3e\n\n    \x3cdiv class\x3d"login-dialog-middle"\x3e\n\n        \x3cdiv class\x3d"login-dialog"\x3e\n\n            \x3cform class\x3d"login-form" ng-submit\x3d"login()"\x3e\n\n                \x3c!-- Guacamole version --\x3e\n                \x3cdiv class\x3d"logo"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"version"\x3e\n                    \x3cdiv class\x3d"app-name"\x3e{{\'APP.NAME\' | translate}}\x3c/div\x3e\n                    \x3cdiv class\x3d"version-number"\x3e{{\'APP.VERSION\' | translate}}\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3c!-- Login message/instructions --\x3e\n                \x3cp ng-show\x3d"helpText" translate\x3d"{{helpText.key}}"\n                   translate-values\x3d"{{helpText.variables}}"\x3e\x3c/p\x3e\n\n                \x3c!-- Login fields --\x3e\n                \x3cdiv class\x3d"login-fields"\x3e\n                    \x3cguac-form\n                        namespace\x3d"\'LOGIN\'"\n                        content\x3d"remainingFields"\n                        model\x3d"enteredValues"\n                        focused\x3d"relevantField.name"\n                        data-disabled\x3d"submitted"\x3e\x3c/guac-form\x3e\n                \x3c/div\x3e\n\n                \x3c!-- Login/continue button --\x3e\n                \x3cdiv class\x3d"buttons"\x3e\n\n                    \x3cinput type\x3d"submit" name\x3d"login" class\x3d"login"\n                           ng-disabled\x3d"submitted"\n                           value\x3d"{{\'LOGIN.ACTION_LOGIN\' | translate}}"/\x3e\n\n                    \x3cinput type\x3d"submit" name\x3d"login" class\x3d"continue-login"\n                           ng-disabled\x3d"submitted"\n                           value\x3d"{{\'LOGIN.ACTION_CONTINUE\' | translate}}"/\x3e\n\n                \x3c/div\x3e\n\n            \x3c/form\x3e\n\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/connectionGroupPermission.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/connectionGroupPermission.html",'\x3cdiv class\x3d"choice"\x3e\n\n    \x3c!-- Connection group icon --\x3e\n    \x3cdiv class\x3d"icon type"\x3e\x3c/div\x3e\n\n    \x3c!-- Permission checkbox --\x3e\n    \x3cinput type\x3d"checkbox" ng-model\x3d"context.getPermissionFlags().connectionGroupPermissions.READ[item.identifier]"\n                           ng-change\x3d"context.connectionGroupPermissionChanged(item.identifier)"/\x3e\n\n    \x3c!-- Connection group name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/connectionPermission.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/connectionPermission.html",'\x3cdiv class\x3d"choice"\x3e\n\n    \x3c!-- Connection icon --\x3e\n    \x3cdiv class\x3d"icon type" ng-class\x3d"item.protocol"\x3e\x3c/div\x3e\n\n    \x3c!-- Permission checkbox --\x3e\n    \x3cinput type\x3d"checkbox" ng-model\x3d"context.getPermissionFlags().connectionPermissions.READ[item.identifier]"\n                           ng-change\x3d"context.connectionPermissionChanged(item.identifier)"/\x3e\n\n    \x3c!-- Connection name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/connectionPermissionEditor.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/connectionPermissionEditor.html",'\x3cdiv class\x3d"connection-permissions"\x3e\n    \x3cdiv class\x3d"header tabbed"\x3e\n        \x3ch2\x3e{{\'MANAGE_USER.SECTION_HEADER_CONNECTIONS\' | translate}}\x3c/h2\x3e\n        \x3cguac-group-list-filter connection-groups\x3d"getRootGroups()"\n            filtered-connection-groups\x3d"filteredRootGroups"\n            placeholder\x3d"\'MANAGE_USER.FIELD_PLACEHOLDER_FILTER\' | translate"\n            connection-properties\x3d"filteredConnectionProperties"\n            connection-group-properties\x3d"filteredConnectionGroupProperties"\x3e\x3c/guac-group-list-filter\x3e\n    \x3c/div\x3e\n    \x3cguac-section-tabs namespace\x3d"MANAGE_USER" current\x3d"currentTab" tabs\x3d"tabs"\x3e\x3c/guac-section-tabs\x3e\n    \x3cdiv class\x3d"section"\x3e\n        \x3cguac-group-list\n            context\x3d"groupListContext"\n            connection-groups\x3d"filteredRootGroups"\n            templates\x3d"{\n                \'connection\'       : \'app/manage/templates/connectionPermission.html\',\n                \'sharing-profile\'  : \'app/manage/templates/sharingProfilePermission.html\',\n                \'connection-group\' : \'app/manage/templates/connectionGroupPermission.html\'\n            }"\n            page-size\x3d"20"\x3e\x3c/guac-group-list\x3e\n    \x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/dataSourceTabs.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/dataSourceTabs.html",'\x3cdiv class\x3d"page-tabs"\x3e\n    \x3cguac-page-list pages\x3d"pages"\x3e\x3c/guac-page-list\x3e\n\x3c/div\x3e')}]);angular.module("app/manage/templates/identifierSetEditor.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/identifierSetEditor.html",'\x3cdiv class\x3d"related-objects" ng-hide\x3d"isEmpty()"\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ch2\x3e{{ header | translate }}\x3c/h2\x3e\n        \x3cdiv class\x3d"filter"\x3e\n            \x3cinput class\x3d"search-string" type\x3d"text"\n                   placeholder\x3d"{{ \'SETTINGS_USERS.FIELD_PLACEHOLDER_FILTER\' | translate }}"\n                   ng-model\x3d"filterString"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"section"\x3e\n\n        \x3c!-- Abbreviated list of only the currently selected objects --\x3e\n        \x3cdiv class\x3d"abbreviated-related-objects"\x3e\n            \x3cimg src\x3d"images/arrows/right.png" alt\x3d"Expand" class\x3d"expand" ng-hide\x3d"expanded" ng-click\x3d"expand()"/\x3e\n            \x3cimg src\x3d"images/arrows/down.png" alt\x3d"Collapse" class\x3d"collapse" ng-show\x3d"expanded" ng-click\x3d"collapse()"/\x3e\n            \x3cp ng-hide\x3d"identifiers.length" class\x3d"no-related-objects"\x3e{{ emptyPlaceholder | translate }}\x3c/p\x3e\n            \x3cul\x3e\n                \x3cli ng-repeat\x3d"identifier in identifiers | filter: filterString"\x3e\n                    \x3clabel\x3e\x3cimg src\x3d"images/x-red.png" alt\x3d"Remove" class\x3d"remove"\n                                ng-click\x3d"removeIdentifier(identifier)"\n                                ng-show\x3d"isEditable[identifier]"/\x3e\x3cspan class\x3d"identifier"\x3e{{ identifier }}\x3c/span\x3e\n                    \x3c/label\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Exhaustive, paginated list of all objects --\x3e\n        \x3cdiv class\x3d"all-related-objects" ng-show\x3d"expanded"\x3e\n            \x3cp ng-hide\x3d"identifiersAvailablePage.length" class\x3d"no-objects-available"\x3e{{ unavailablePlaceholder | translate }}\x3c/p\x3e\n            \x3cul\x3e\n                \x3cli ng-repeat\x3d"identifier in identifiersAvailablePage"\x3e\n                    \x3clabel\x3e\x3cinput type\x3d"checkbox"\n                           ng-model\x3d"identifierFlags[identifier]"\n                           ng-change\x3d"identifierChanged(identifier)"/\x3e\n                        \x3cspan class\x3d"identifier"\x3e{{ identifier }}\x3c/span\x3e\n                    \x3c/label\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n\n            \x3c!-- Pager controls for user list --\x3e\n            \x3cguac-pager page\x3d"identifiersAvailablePage" page-size\x3d"25"\n                        items\x3d"identifiersAvailable | orderBy | filter: filterString"\x3e\x3c/guac-pager\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/locationChooser.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/locationChooser.html",'\x3cdiv class\x3d"location-chooser"\x3e\n\n    \x3c!-- Chosen group name --\x3e\n    \x3cdiv ng-click\x3d"toggleMenu()" class\x3d"location"\x3e{{chosenConnectionGroupName}}\x3c/div\x3e\n\n    \x3c!-- Dropdown hierarchical menu of groups --\x3e\n    \x3cdiv ng-show\x3d"menuOpen" class\x3d"dropdown"\x3e\n        \x3cguac-group-list\n            context\x3d"groupListContext"\n            show-root-group\x3d"true"\n            connection-groups\x3d"rootGroups"\n            templates\x3d"{\n                \'connection-group\' : \'app/manage/templates/locationChooserConnectionGroup.html\'\n            }"/\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/locationChooserConnectionGroup.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/locationChooserConnectionGroup.html",'\x3cspan class\x3d"name" ng-click\x3d"context.chooseGroup(item.wrappedItem)"\x3e\n\n    {{item.name}}\n\x3c/span\x3e')}]);angular.module("app/manage/templates/manageConnection.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/manageConnection.html",'\n\x3cdiv class\x3d"view" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- Main property editor --\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ch2\x3e{{\'MANAGE_CONNECTION.SECTION_HEADER_EDIT_CONNECTION\' | translate}}\x3c/h2\x3e\n        \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"section"\x3e\n        \x3ctable class\x3d"properties"\x3e\n            \n            \x3c!-- Edit connection name --\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_CONNECTION.FIELD_HEADER_NAME\' | translate}}\x3c/th\x3e\n              \n                \x3ctd\x3e\x3cinput type\x3d"text" ng-model\x3d"connection.name" autocorrect\x3d"off" autocapitalize\x3d"off"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \n            \x3c!-- Edit connection location --\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_CONNECTION.FIELD_HEADER_LOCATION\' | translate}}\x3c/th\x3e\n              \n                \x3ctd\x3e\n                    \x3clocation-chooser\n                        data-data-source\x3d"selectedDataSource" root-group\x3d"rootGroup"\n                        value\x3d"connection.parentIdentifier"\x3e\x3c/location-chooser\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \n            \n            \x3c!-- Edit connection protocol --\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_CONNECTION.FIELD_HEADER_PROTOCOL\' | translate}}\x3c/th\x3e\n                \x3ctd\x3e\n                    \x3cselect ng-model\x3d"connection.protocol" ng-options\x3d"protocol.value.name as getProtocolName(protocol.value.name) | translate for protocol in protocols | toArray | orderBy: value.name"\x3e\x3c/select\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Connection attributes section --\x3e\n    \x3cdiv class\x3d"attributes"\x3e\n        \x3cguac-form namespace\x3d"\'CONNECTION_ATTRIBUTES\'" content\x3d"attributes"\n                   model\x3d"connection.attributes" model-only\x3d"!managementPermissions.canChangeAllAttributes"\x3e\x3c/guac-form\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Connection parameters --\x3e\n    \x3ch2 class\x3d"header"\x3e{{\'MANAGE_CONNECTION.SECTION_HEADER_PARAMETERS\' | translate}}\x3c/h2\x3e\n    \x3cdiv class\x3d"section connection-parameters" ng-class\x3d"{loading: !parameters}"\x3e\n        \x3cguac-form namespace\x3d"getNamespace(connection.protocol)"\n                   content\x3d"protocols[connection.protocol].connectionForms"\n                   model\x3d"parameters"\x3e\x3c/guac-form\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Form action buttons --\x3e\n    \x3cmanagement-buttons namespace\x3d"MANAGE_CONNECTION"\n          permissions\x3d"managementPermissions"\n          save\x3d"saveConnection()"\n          delete\x3d"deleteConnection()"\n          clone\x3d"cloneConnection()"\n          return\x3d"returnToConnectionList()"\x3e\n    \x3c/management-buttons\x3e\n\n    \x3c!-- Connection history --\x3e\n    \x3ch2 class\x3d"header"\x3e{{\'MANAGE_CONNECTION.SECTION_HEADER_HISTORY\' | translate}}\x3c/h2\x3e\n    \x3cdiv class\x3d"history section" ng-class\x3d"{loading: !historyEntryWrappers}"\x3e\n        \x3cp ng-hide\x3d"historyEntryWrappers.length"\x3e{{\'MANAGE_CONNECTION.INFO_CONNECTION_NOT_USED\' | translate}}\x3c/p\x3e\n\n        \x3c!-- History list --\x3e\n        \x3ctable ng-show\x3d"historyEntryWrappers.length"\x3e\n            \x3cthead\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'MANAGE_CONNECTION.TABLE_HEADER_HISTORY_USERNAME\' | translate}}\x3c/th\x3e\n                    \x3cth\x3e{{\'MANAGE_CONNECTION.TABLE_HEADER_HISTORY_START\' | translate}}\x3c/th\x3e\n                    \x3cth\x3e{{\'MANAGE_CONNECTION.TABLE_HEADER_HISTORY_DURATION\' | translate}}\x3c/th\x3e\n                    \x3cth\x3e{{\'MANAGE_CONNECTION.TABLE_HEADER_HISTORY_REMOTEHOST\' | translate}}\x3c/th\x3e\n                \x3c/tr\x3e\n            \x3c/thead\x3e\n            \x3ctbody\x3e\n                \x3ctr ng-repeat\x3d"wrapper in wrapperPage"\x3e\n                    \x3ctd class\x3d"username"\x3e\x3cguac-user-item username\x3d"wrapper.entry.username"\x3e\x3c/guac-user-item\x3e\x3c/td\x3e\n                    \x3ctd class\x3d"start"\x3e{{wrapper.entry.startDate | date:historyDateFormat}}\x3c/td\x3e\n                    \x3ctd class\x3d"duration"\n                        translate\x3d"{{wrapper.durationText}}"\n                        translate-values\x3d"{VALUE: wrapper.duration.value, UNIT: wrapper.duration.unit}"\x3e\x3c/td\x3e\n                    \x3ctd class\x3d"remoteHost"\x3e{{wrapper.entry.remoteHost}}\x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/tbody\x3e\n        \x3c/table\x3e\n\n        \x3c!-- Pager controls for history list --\x3e\n        \x3cguac-pager page\x3d"wrapperPage" items\x3d"historyEntryWrappers"\x3e\x3c/guac-pager\x3e\n\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/manageConnectionGroup.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/manageConnectionGroup.html",'\n\x3cdiv class\x3d"view" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- Main property editor --\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ch2\x3e{{\'MANAGE_CONNECTION_GROUP.SECTION_HEADER_EDIT_CONNECTION_GROUP\' | translate}}\x3c/h2\x3e\n        \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"section"\x3e\n        \x3ctable class\x3d"properties"\x3e\n                        \n            \x3c!-- Edit connection group name --\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_CONNECTION_GROUP.FIELD_HEADER_NAME\' | translate}}\x3c/th\x3e\n                          \n                \x3ctd\x3e\x3cinput type\x3d"text" ng-model\x3d"connectionGroup.name" autocorrect\x3d"off" autocapitalize\x3d"off"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n                        \n            \x3c!-- Edit connection group location --\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_CONNECTION_GROUP.FIELD_HEADER_LOCATION\' | translate}}\x3c/th\x3e\n                          \n                \x3ctd\x3e\n                    \x3clocation-chooser\n                        data-data-source\x3d"selectedDataSource" root-group\x3d"rootGroup"\n                        value\x3d"connectionGroup.parentIdentifier"\x3e\x3c/location-chooser\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n                        \n                        \n            \x3c!-- Edit connection group type --\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_CONNECTION_GROUP.FIELD_HEADER_TYPE\' | translate}}\x3c/th\x3e\n                \x3ctd\x3e\n                    \x3cselect ng-model\x3d"connectionGroup.type" ng-options\x3d"type.value as type.label | translate for type in types | orderBy: name"\x3e\x3c/select\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Connection group attributes section --\x3e\n    \x3cdiv class\x3d"attributes"\x3e\n        \x3cguac-form namespace\x3d"\'CONNECTION_GROUP_ATTRIBUTES\'" content\x3d"attributes"\n                   model\x3d"connectionGroup.attributes" model-only\x3d"!managementPermissions.canChangeAllAttributes"\x3e\x3c/guac-form\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Form action buttons --\x3e\n    \x3cmanagement-buttons namespace\x3d"MANAGE_CONNECTION_GROUP"\n          permissions\x3d"managementPermissions"\n          save\x3d"saveConnectionGroup()"\n          delete\x3d"deleteConnectionGroup()"\n          clone\x3d"cloneConnectionGroup()"\n          return\x3d"returnToConnectionList()"\x3e\n    \x3c/management-buttons\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/manageSharingProfile.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/manageSharingProfile.html",'\x3cdiv class\x3d"view" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- Main property editor --\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ch2\x3e{{\'MANAGE_SHARING_PROFILE.SECTION_HEADER_EDIT_SHARING_PROFILE\' | translate}}\x3c/h2\x3e\n        \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"section"\x3e\n        \x3ctable class\x3d"properties"\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_SHARING_PROFILE.FIELD_HEADER_NAME\' | translate}}\x3c/th\x3e\n                \x3ctd\x3e\x3cinput type\x3d"text" ng-model\x3d"sharingProfile.name"\n                           autocorrect\x3d"off" autocapitalize\x3d"off"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3cth\x3e{{\'MANAGE_SHARING_PROFILE.FIELD_HEADER_PRIMARY_CONNECTION\' | translate}}\x3c/th\x3e\n                \x3ctd\x3e{{primaryConnection.name}}\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Sharing profile attributes section --\x3e\n    \x3cdiv class\x3d"attributes"\x3e\n        \x3cguac-form namespace\x3d"\'SHARING_PROFILE_ATTRIBUTES\'" content\x3d"attributes"\n                   model\x3d"sharingProfile.attributes" model-only\x3d"!managementPermissions.canChangeAllAttributes"\x3e\x3c/guac-form\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Sharing profile parameters --\x3e\n    \x3ch2 class\x3d"header"\x3e{{\'MANAGE_SHARING_PROFILE.SECTION_HEADER_PARAMETERS\' | translate}}\x3c/h2\x3e\n    \x3cdiv class\x3d"section connection-parameters" ng-class\x3d"{loading: !parameters}"\x3e\n        \x3cguac-form namespace\x3d"getNamespace(primaryConnection.protocol)"\n                   content\x3d"protocols[primaryConnection.protocol].sharingProfileForms"\n                   model\x3d"parameters"\x3e\x3c/guac-form\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Form action buttons --\x3e\n    \x3cmanagement-buttons namespace\x3d"MANAGE_SHARING_PROFILE"\n          permissions\x3d"managementPermissions"\n          save\x3d"saveSharingProfile()"\n          delete\x3d"deleteSharingProfile()"\n          clone\x3d"cloneSharingProfile()"\n          return\x3d"returnToConnectionList()"\x3e\n    \x3c/management-buttons\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/manageUser.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/manageUser.html",'\n\x3cdiv class\x3d"manage-user view" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- User header and data source tabs --\x3e\n    \x3cdiv class\x3d"header tabbed"\x3e\n        \x3ch2\x3e{{\'MANAGE_USER.SECTION_HEADER_EDIT_USER\' | translate}}\x3c/h2\x3e\n        \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n    \x3c/div\x3e\n    \x3cdata-data-source-tabs ng-hide\x3d"cloneSourceUsername"\n        permissions\x3d"managementPermissions"\n        url\x3d"getUserURL(dataSource)"\x3e\n    \x3c/data-data-source-tabs\x3e\n\n    \x3c!-- Warn if user is read-only --\x3e\n    \x3cdiv class\x3d"section" ng-hide\x3d"managementPermissions[dataSource].canSaveObject"\x3e\n        \x3cp class\x3d"notice read-only"\x3e{{\'MANAGE_USER.INFO_READ_ONLY\' | translate}}\x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Sections applicable to non-read-only users --\x3e\n    \x3cdiv ng-show\x3d"managementPermissions[dataSource].canSaveObject"\x3e\n\n        \x3c!-- User password section --\x3e\n        \x3cdiv class\x3d"section"\x3e\n            \x3ctable class\x3d"properties"\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'MANAGE_USER.FIELD_HEADER_USERNAME\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\n                        \x3cinput ng-show\x3d"canEditUsername()" ng-model\x3d"user.username" type\x3d"text"/\x3e\n                        \x3cspan  ng-hide\x3d"canEditUsername()"\x3e{{user.username}}\x3c/span\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'MANAGE_USER.FIELD_HEADER_PASSWORD\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\x3cinput ng-model\x3d"user.password" type\x3d"password" /\x3e\x3c/td\x3e\n                \x3c/tr\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'MANAGE_USER.FIELD_HEADER_PASSWORD_AGAIN\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\x3cinput ng-model\x3d"passwordMatch" type\x3d"password" /\x3e\x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/div\x3e\n\n        \x3c!-- User attributes section --\x3e\n        \x3cdiv class\x3d"attributes" ng-show\x3d"managementPermissions[dataSource].canChangeAttributes"\x3e\n            \x3cguac-form namespace\x3d"\'USER_ATTRIBUTES\'" content\x3d"attributes"\n                       model\x3d"user.attributes"\n                       model-only\x3d"!managementPermissions[dataSource].canChangeAllAttributes"\x3e\x3c/guac-form\x3e\n        \x3c/div\x3e\n\n        \x3c!-- System permissions section --\x3e\n        \x3csystem-permission-editor ng-show\x3d"managementPermissions[dataSource].canChangePermissions"\n              username\x3d"selfUsername"\n              data-data-source\x3d"dataSource"\n              permission-flags\x3d"permissionFlags"\n              permissions-added\x3d"permissionsAdded"\n              permissions-removed\x3d"permissionsRemoved"\x3e\n        \x3c/system-permission-editor\x3e\n\n        \x3c!-- Parent group section --\x3e\n        \x3cidentifier-set-editor\n            header\x3d"MANAGE_USER.SECTION_HEADER_USER_GROUPS"\n            empty-placeholder\x3d"MANAGE_USER.HELP_NO_USER_GROUPS"\n            unavailable-placeholder\x3d"MANAGE_USER.INFO_NO_USER_GROUPS_AVAILABLE"\n            identifiers-available\x3d"availableGroups"\n            identifiers\x3d"parentGroups"\n            identifiers-added\x3d"parentGroupsAdded"\n            identifiers-removed\x3d"parentGroupsRemoved"\x3e\n        \x3c/identifier-set-editor\x3e\n\n        \x3c!-- Connection permissions section --\x3e\n        \x3cconnection-permission-editor ng-show\x3d"managementPermissions[dataSource].canChangePermissions"\n              data-data-source\x3d"dataSource"\n              permission-flags\x3d"permissionFlags"\n              permissions-added\x3d"permissionsAdded"\n              permissions-removed\x3d"permissionsRemoved"\x3e\n        \x3c/connection-permission-editor\x3e\n\n        \x3c!-- Form action buttons --\x3e\n        \x3cmanagement-buttons namespace\x3d"MANAGE_USER"\n              permissions\x3d"managementPermissions[dataSource]"\n              save\x3d"saveUser()"\n              delete\x3d"deleteUser()"\n              clone\x3d"cloneUser()"\n              return\x3d"returnToUserList()"\x3e\n        \x3c/management-buttons\x3e\n\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/manageUserGroup.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/manageUserGroup.html",'\x3cdiv class\x3d"manage-user-group view" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- User group header and data source tabs --\x3e\n    \x3cdiv class\x3d"header tabbed"\x3e\n        \x3ch2\x3e{{\'MANAGE_USER_GROUP.SECTION_HEADER_EDIT_USER_GROUP\' | translate}}\x3c/h2\x3e\n        \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n    \x3c/div\x3e\n    \x3cdata-data-source-tabs ng-hide\x3d"cloneSourceIdentifier"\n        permissions\x3d"managementPermissions"\n        url\x3d"getUserGroupURL(dataSource)"\x3e\n    \x3c/data-data-source-tabs\x3e\n\n    \x3c!-- Warn if user group is read-only --\x3e\n    \x3cdiv class\x3d"section" ng-hide\x3d"managementPermissions[dataSource].canSaveObject"\x3e\n        \x3cp class\x3d"notice read-only"\x3e{{\'MANAGE_USER_GROUP.INFO_READ_ONLY\' | translate}}\x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Sections applicable to non-read-only user groups --\x3e\n    \x3cdiv ng-show\x3d"managementPermissions[dataSource].canSaveObject"\x3e\n\n        \x3c!-- User group name --\x3e\n        \x3cdiv class\x3d"section"\x3e\n            \x3ctable class\x3d"properties"\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'MANAGE_USER_GROUP.FIELD_HEADER_USER_GROUP_NAME\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\n                        \x3cinput ng-show\x3d"canEditIdentifier()" ng-model\x3d"userGroup.identifier" type\x3d"text"/\x3e\n                        \x3cspan  ng-hide\x3d"canEditIdentifier()"\x3e{{userGroup.identifier}}\x3c/span\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/div\x3e\n\n        \x3c!-- User group attributes section --\x3e\n        \x3cdiv class\x3d"attributes" ng-show\x3d"managementPermissions[dataSource].canChangeAttributes"\x3e\n            \x3cguac-form namespace\x3d"\'USER_GROUP_ATTRIBUTES\'" content\x3d"attributes"\n                       model\x3d"userGroup.attributes"\n                       model-only\x3d"!managementPermissions[dataSource].canChangeAllAttributes"\x3e\x3c/guac-form\x3e\n        \x3c/div\x3e\n\n        \x3c!-- System permissions section --\x3e\n        \x3csystem-permission-editor ng-show\x3d"managementPermissions[dataSource].canChangePermissions"\n              data-data-source\x3d"dataSource"\n              permission-flags\x3d"permissionFlags"\n              permissions-added\x3d"permissionsAdded"\n              permissions-removed\x3d"permissionsRemoved"\x3e\n        \x3c/system-permission-editor\x3e\n\n        \x3c!-- Parent group section --\x3e\n        \x3cidentifier-set-editor\n            header\x3d"MANAGE_USER_GROUP.SECTION_HEADER_USER_GROUPS"\n            empty-placeholder\x3d"MANAGE_USER_GROUP.HELP_NO_USER_GROUPS"\n            unavailable-placeholder\x3d"MANAGE_USER_GROUP.INFO_NO_USER_GROUPS_AVAILABLE"\n            identifiers-available\x3d"availableGroups"\n            identifiers\x3d"parentGroups"\n            identifiers-added\x3d"parentGroupsAdded"\n            identifiers-removed\x3d"parentGroupsRemoved"\x3e\n        \x3c/identifier-set-editor\x3e\n\n        \x3c!-- Member group section --\x3e\n        \x3cidentifier-set-editor\n            header\x3d"MANAGE_USER_GROUP.SECTION_HEADER_MEMBER_USER_GROUPS"\n            empty-placeholder\x3d"MANAGE_USER_GROUP.HELP_NO_MEMBER_USER_GROUPS"\n            unavailable-placeholder\x3d"MANAGE_USER_GROUP.INFO_NO_USER_GROUPS_AVAILABLE"\n            identifiers-available\x3d"availableGroups"\n            identifiers\x3d"memberGroups"\n            identifiers-added\x3d"memberGroupsAdded"\n            identifiers-removed\x3d"memberGroupsRemoved"\x3e\n        \x3c/identifier-set-editor\x3e\n\n        \x3c!-- Member user section --\x3e\n        \x3cidentifier-set-editor\n            header\x3d"MANAGE_USER_GROUP.SECTION_HEADER_MEMBER_USERS"\n            empty-placeholder\x3d"MANAGE_USER_GROUP.HELP_NO_MEMBER_USERS"\n            unavailable-placeholder\x3d"MANAGE_USER_GROUP.INFO_NO_USERS_AVAILABLE"\n            identifiers-available\x3d"availableUsers"\n            identifiers\x3d"memberUsers"\n            identifiers-added\x3d"memberUsersAdded"\n            identifiers-removed\x3d"memberUsersRemoved"\x3e\n        \x3c/identifier-set-editor\x3e\n\n        \x3c!-- Connection permissions section --\x3e\n        \x3cconnection-permission-editor ng-show\x3d"managementPermissions[dataSource].canChangePermissions"\n              data-data-source\x3d"dataSource"\n              permission-flags\x3d"permissionFlags"\n              permissions-added\x3d"permissionsAdded"\n              permissions-removed\x3d"permissionsRemoved"\x3e\n        \x3c/connection-permission-editor\x3e\n\n        \x3c!-- Form action buttons --\x3e\n        \x3cmanagement-buttons namespace\x3d"MANAGE_USER_GROUP"\n              permissions\x3d"managementPermissions[dataSource]"\n              save\x3d"saveUserGroup()"\n              delete\x3d"deleteUserGroup()"\n              clone\x3d"cloneUserGroup()"\n              return\x3d"returnToUserGroupList()"\x3e\n        \x3c/management-buttons\x3e\n\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/managementButtons.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/managementButtons.html",'\x3cdiv class\x3d"action-buttons"\x3e\n    \x3cbutton ng-show\x3d"permissions.canSaveObject" ng-click\x3d"saveObject()"\x3e{{namespace + \'.ACTION_SAVE\' | translate}}\x3c/button\x3e\n    \x3cbutton ng-show\x3d"permissions.canCloneObject" ng-click\x3d"cloneObject()"\x3e{{namespace + \'.ACTION_CLONE\' | translate}}\x3c/button\x3e\n    \x3cbutton ng-click\x3d"cancel()"\x3e{{namespace + \'.ACTION_CANCEL\' | translate}}\x3c/button\x3e\n    \x3cbutton ng-show\x3d"permissions.canDeleteObject" ng-click\x3d"deleteObject()" class\x3d"danger"\x3e{{namespace + \'.ACTION_DELETE\' | translate}}\x3c/button\x3e\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/sharingProfilePermission.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/sharingProfilePermission.html",'\x3cdiv class\x3d"choice"\x3e\n\n    \x3c!-- Sharing profile icon --\x3e\n    \x3cdiv class\x3d"icon type"\x3e\x3c/div\x3e\n\n    \x3c!-- Permission checkbox --\x3e\n    \x3cinput type\x3d"checkbox" ng-model\x3d"context.getPermissionFlags().sharingProfilePermissions.READ[item.identifier]"\n                           ng-change\x3d"context.sharingProfilePermissionChanged(item.identifier)"/\x3e\n\n    \x3c!-- Sharing profile name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/manage/templates/systemPermissionEditor.html",[]).run(["$templateCache",function(a){a.put("app/manage/templates/systemPermissionEditor.html",'\x3cdiv class\x3d"system-permissions"\x3e\n    \x3ch2 class\x3d"header"\x3e{{\'MANAGE_USER.SECTION_HEADER_PERMISSIONS\' | translate}}\x3c/h2\x3e\n    \x3cdiv class\x3d"section"\x3e\n        \x3ctable class\x3d"properties"\x3e\n            \x3ctr ng-repeat\x3d"systemPermissionType in systemPermissionTypes"\n                ng-show\x3d"canChangeSystemPermissions()"\x3e\n                \x3cth\x3e{{systemPermissionType.label | translate}}\x3c/th\x3e\n                \x3ctd\x3e\x3cinput type\x3d"checkbox" ng-model\x3d"permissionFlags.systemPermissions[systemPermissionType.value]"\n                                           ng-change\x3d"systemPermissionChanged(systemPermissionType.value)"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr ng-show\x3d"username"\x3e\n                \x3cth\x3e{{\'MANAGE_USER.FIELD_HEADER_CHANGE_OWN_PASSWORD\' | translate}}\x3c/th\x3e\n                \x3ctd\x3e\x3cinput type\x3d"checkbox" ng-model\x3d"permissionFlags.userPermissions.UPDATE[username]"\n                                           ng-change\x3d"userPermissionChanged(\'UPDATE\', username)"/\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/navigation/templates/guacMenu.html",[]).run(["$templateCache",function(a){a.put("app/navigation/templates/guacMenu.html",'\x3cdiv class\x3d"menu-dropdown" ng-class\x3d"{open: menuShown}" ng-click\x3d"toggleMenu()"\x3e\n    \x3cdiv class\x3d"menu-title"\x3e{{menuTitle}}\x3c/div\x3e\n    \x3cdiv class\x3d"menu-indicator"\x3e\x3c/div\x3e\n\n    \x3c!-- Menu contents --\x3e\n    \x3cdiv class\x3d"menu-contents" ng-transclude\x3e\x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/navigation/templates/guacPageList.html",[]).run(["$templateCache",function(a){a.put("app/navigation/templates/guacPageList.html",'\x3cdiv class\x3d"page-list" ng-show\x3d"levels.length"\x3e\n\n    \x3c!-- Navigation links --\x3e\n    \x3cul class\x3d"page-list-level" ng-repeat\x3d"level in levels track by $index"\x3e\n        \x3cli ng-repeat\x3d"page in getPages(level)" class\x3d"{{page.className}}"\x3e\n            \x3ca class\x3d"home" ng-click\x3d"navigateToPage(page)"\n               ng-class\x3d"{current: isCurrentPage(page)}" href\x3d"#{{page.url}}"\x3e\n                {{page.name | translate}}\n            \x3c/a\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/navigation/templates/guacSectionTabs.html",[]).run(["$templateCache",function(a){a.put("app/navigation/templates/guacSectionTabs.html",'\x3cdiv class\x3d"section-tabs" ng-show\x3d"tabs.length"\x3e\n    \x3cul\x3e\n        \x3cli ng-repeat\x3d"name in tabs"\x3e\n            \x3ca ng-click\x3d"selectTab(name)"\n               ng-class\x3d"{ current : isSelected(name) }"\x3e\n                {{ getSectionHeader(name) | translate }}\n            \x3c/a\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e')}]);
angular.module("app/navigation/templates/guacUserMenu.html",[]).run(["$templateCache",function(a){a.put("app/navigation/templates/guacUserMenu.html",'\x3cdiv class\x3d"user-menu" ng-show\x3d"!isAnonymous()"\x3e\n    \x3cguac-menu menu-title\x3d"username"\x3e\n           \n        \x3c!-- User profile view --\x3e\n        \x3cdiv class\x3d"profile" ng-show\x3d"fullName"\x3e\n            \x3cdiv class\x3d"full-name"\x3e\x3ca ng-href\x3d"{{userURL}}"\x3e{{ fullName }}\x3c/a\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"organizational-role" ng-show\x3d"role"\x3e{{ role }}\x3c/div\x3e\n            \x3cdiv class\x3d"organization" ng-show\x3d"organization"\x3e{{ organization }}\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Local actions --\x3e\n        \x3cul class\x3d"action-list"\x3e\n            \x3cli ng-repeat\x3d"action in localActions"\x3e\n                \x3ca ng-class\x3d"action.className" ng-click\x3d"action.callback()"\x3e\n                    {{action.name | translate}}\n                \x3c/a\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n\n        \x3c!-- Navigation links --\x3e\n        \x3cguac-page-list pages\x3d"pages"\x3e\x3c/guac-page-list\x3e\n\n        \x3c!-- Actions --\x3e\n        \x3cul class\x3d"action-list"\x3e\n            \x3cli ng-repeat\x3d"action in actions"\x3e\n                \x3ca ng-class\x3d"action.className" ng-click\x3d"action.callback()"\x3e\n                    {{action.name | translate}}\n                \x3c/a\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n\n    \x3c/guac-menu\x3e\n\x3c/div\x3e')}]);
angular.module("app/notification/templates/guacNotification.html",[]).run(["$templateCache",function(a){a.put("app/notification/templates/guacNotification.html",'\x3cform class\x3d"notification" ng-class\x3d"notification.className"\n      ng-submit\x3d"notification.formSubmitCallback()"\x3e\n\n    \x3c!-- Notification title --\x3e\n    \x3cdiv ng-show\x3d"notification.title" class\x3d"title-bar"\x3e\n        \x3cdiv class\x3d"title"\x3e{{notification.title | translate}}\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"body"\x3e\n\n        \x3c!-- Notification text --\x3e\n        \x3cp ng-show\x3d"notification.text" class\x3d"text"\n           translate\x3d"{{notification.text.key}}"\n           translate-values\x3d"{{notification.text.variables}}"\x3e\x3c/p\x3e\n\n        \x3c!-- Arbitrary parameters --\x3e\n        \x3cdiv class\x3d"parameters" ng-show\x3d"notification.forms"\x3e\n            \x3cguac-form\n                namespace\x3d"notification.formNamespace"\n                content\x3d"notification.forms"\n                model\x3d"notification.formModel"\n                model-only\x3d"true"\x3e\x3c/guac-form\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Current progress --\x3e\n        \x3cdiv class\x3d"progress" ng-show\x3d"notification.progress"\x3e\x3cdiv class\x3d"bar" ng-show\x3d"progressPercent" ng-style\x3d"{\'width\': progressPercent + \'%\'}"\x3e\x3c/div\x3e\x3cdiv\n                ng-show\x3d"notification.progress.text"\n                translate\x3d"{{notification.progress.text}}"\n                translate-values\x3d"{PROGRESS: notification.progress.value, UNIT: notification.progress.unit}"\x3e\x3c/div\x3e\x3c/div\x3e\n\n        \x3c!-- Default action countdown text --\x3e\n        \x3cp class\x3d"countdown-text"\n           ng-show\x3d"notification.countdown.text"\n           translate\x3d"{{notification.countdown.text}}"\n           translate-values\x3d"{REMAINING: timeRemaining}"\x3e\x3c/p\x3e\n\n    \x3c/div\x3e\n\n    \x3c!-- Buttons --\x3e\n    \x3cdiv ng-show\x3d"notification.actions.length" class\x3d"buttons"\x3e\n        \x3cbutton ng-repeat\x3d"action in notification.actions" ng-click\x3d"action.callback()" ng-class\x3d"action.className"\x3e{{action.name | translate}}\x3c/button\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/osk/templates/guacOsk.html",[]).run(["$templateCache",function(a){a.put("app/osk/templates/guacOsk.html",'\x3cdiv class\x3d"osk" guac-resize\x3d"keyboardResized"\x3e\n\x3c/div\x3e')}]);angular.module("app/settings/templates/connection.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/connection.html",'\x3ca ng-href\x3d"#/manage/{{item.dataSource}}/connections/{{item.identifier}}"\n   ng-class\x3d"{active: item.getActiveConnections()}"\x3e\n\n    \x3c!-- Connection icon --\x3e\n    \x3cdiv class\x3d"icon type" ng-class\x3d"item.protocol"\x3e\x3c/div\x3e\n\n    \x3c!-- Connection name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n    \x3c!-- Active user count --\x3e\n    \x3cspan class\x3d"activeUserCount" ng-show\x3d"item.getActiveConnections()"\n        translate\x3d"SETTINGS_CONNECTIONS.INFO_ACTIVE_USER_COUNT"\n        translate-values\x3d"{USERS: item.getActiveConnections()}"\x3e\x3c/span\x3e\n\n\x3c/a\x3e')}]);
angular.module("app/settings/templates/connectionGroup.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/connectionGroup.html",'\x3ca ng-href\x3d"#/manage/{{item.dataSource}}/connectionGroups/{{item.identifier}}"\x3e\n\n    \x3c!-- Connection group icon --\x3e\n    \x3cdiv class\x3d"icon type"\x3e\x3c/div\x3e\n\n    \x3c!-- Connection group name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n\x3c/a\x3e')}]);
angular.module("app/settings/templates/newConnection.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/newConnection.html",'\x3ca ng-href\x3d"#/manage/{{item.dataSource}}/connections/?parent\x3d{{item.wrappedItem.identifier}}"\x3e\n    \x3cspan class\x3d"name"\x3e{{\'SETTINGS_CONNECTIONS.ACTION_NEW_CONNECTION\' | translate}}\x3c/span\x3e\n\x3c/a\x3e')}]);
angular.module("app/settings/templates/newConnectionGroup.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/newConnectionGroup.html",'\x3ca ng-href\x3d"#/manage/{{item.dataSource}}/connectionGroups/?parent\x3d{{item.wrappedItem.identifier}}"\x3e\n    \x3cspan class\x3d"name"\x3e{{\'SETTINGS_CONNECTIONS.ACTION_NEW_CONNECTION_GROUP\' | translate}}\x3c/span\x3e\n\x3c/a\x3e')}]);
angular.module("app/settings/templates/newSharingProfile.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/newSharingProfile.html",'\x3ca ng-href\x3d"#/manage/{{item.dataSource}}/sharingProfiles/?parent\x3d{{item.wrappedItem.identifier}}"\x3e\n    \x3cspan class\x3d"name"\x3e{{\'SETTINGS_CONNECTIONS.ACTION_NEW_SHARING_PROFILE\' | translate}}\x3c/span\x3e\n\x3c/a\x3e')}]);
angular.module("app/settings/templates/settings.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settings.html",'\n\x3cdiv class\x3d"view"\x3e\n\n    \x3cdiv class\x3d"header tabbed"\x3e\n        \x3ch2\x3e{{\'SETTINGS.SECTION_HEADER_SETTINGS\' | translate}}\x3c/h2\x3e\n        \x3cguac-user-menu\x3e\x3c/guac-user-menu\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Available tabs --\x3e\n    \x3cdiv class\x3d"page-tabs"\x3e\n        \x3cguac-page-list pages\x3d"settingsPages"\x3e\x3c/guac-page-list\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Selected tab --\x3e\n    \x3cguac-settings-users                ng-if\x3d"activeTab \x3d\x3d\x3d \'users\'"\x3e\x3c/guac-settings-users\x3e\n    \x3cguac-settings-user-groups          ng-if\x3d"activeTab \x3d\x3d\x3d \'userGroups\'"\x3e\x3c/guac-settings-user-groups\x3e\n    \x3cguac-settings-connections          ng-if\x3d"activeTab \x3d\x3d\x3d \'connections\'"\x3e\x3c/guac-settings-connections\x3e\n    \x3cguac-settings-connection-history   ng-if\x3d"activeTab \x3d\x3d\x3d \'history\'"\x3e\x3c/guac-settings-connection-history\x3e\n    \x3cguac-settings-sessions             ng-if\x3d"activeTab \x3d\x3d\x3d \'sessions\'"\x3e\x3c/guac-settings-sessions\x3e\n    \x3cguac-settings-preferences          ng-if\x3d"activeTab \x3d\x3d\x3d \'preferences\'"\x3e\x3c/guac-settings-preferences\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/settingsConnectionHistory.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settingsConnectionHistory.html",'\x3cdiv class\x3d"settings section connectionHistory"\x3e\n\n    \x3c!-- Connection history --\x3e\n    \x3cp\x3e{{\'SETTINGS_CONNECTION_HISTORY.HELP_CONNECTION_HISTORY\' | translate}}\x3c/p\x3e\n\n    \x3c!-- Search controls --\x3e\n    \x3cform class\x3d"filter" ng-submit\x3d"search()"\x3e\n        \x3cinput class\x3d"search-string" type\x3d"text" placeholder\x3d"{{\'SETTINGS_CONNECTION_HISTORY.FIELD_PLACEHOLDER_FILTER\' | translate}}" ng-model\x3d"searchString" /\x3e\n        \x3cinput class\x3d"search-button" type\x3d"submit" value\x3d"{{\'SETTINGS_CONNECTION_HISTORY.ACTION_SEARCH\' | translate}}" /\x3e\n        \x3cbutton type\x3d"button" ng-click\x3d"downloadCSV()"\x3e{{\'SETTINGS_CONNECTION_HISTORY.ACTION_DOWNLOAD\' | translate}}\x3c/button\x3e\n    \x3c/form\x3e\n\n    \x3c!-- Search results --\x3e\n    \x3cdiv class\x3d"results"\x3e\n\n        \x3c!-- List of matching history records --\x3e\n        \x3ctable class\x3d"sorted history-list"\x3e\n            \x3cthead\x3e\n                \x3ctr\x3e\n                    \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'username\'"\x3e\n                        {{\'SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_USERNAME\' | translate}}\n                    \x3c/th\x3e\n                    \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'startDate\'"\x3e\n                        {{\'SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_STARTDATE\' | translate}}\n                    \x3c/th\x3e\n                    \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'duration\'"\x3e\n                        {{\'SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_DURATION\' | translate}}\n                    \x3c/th\x3e\n                    \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'connectionName\'"\x3e\n                        {{\'SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_CONNECTION_NAME\' | translate}}\n                    \x3c/th\x3e\n                    \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'remoteHost\'"\x3e\n                        {{\'SETTINGS_CONNECTION_HISTORY.TABLE_HEADER_SESSION_REMOTEHOST\' | translate}}\n                    \x3c/th\x3e\n                \x3c/tr\x3e\n            \x3c/thead\x3e\n            \x3ctbody ng-class\x3d"{loading: !isLoaded()}"\x3e\n                \x3ctr ng-repeat\x3d"historyEntryWrapper in historyEntryWrapperPage" class\x3d"history"\x3e\n                    \x3ctd\x3e\x3cguac-user-item username\x3d"historyEntryWrapper.username"\x3e\x3c/guac-user-item\x3e\x3c/td\x3e\n                    \x3ctd\x3e{{historyEntryWrapper.startDate | date : dateFormat}}\x3c/td\x3e\n                    \x3ctd translate\x3d"{{historyEntryWrapper.readableDurationText}}"\n                        translate-values\x3d"{VALUE: historyEntryWrapper.readableDuration.value, UNIT: historyEntryWrapper.readableDuration.unit}"\x3e\x3c/td\x3e\n                    \x3ctd\x3e{{historyEntryWrapper.connectionName}}\x3c/td\x3e\n                    \x3ctd\x3e{{historyEntryWrapper.remoteHost}}\x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/tbody\x3e\n        \x3c/table\x3e\n\n        \x3c!-- Text displayed if no history exists --\x3e\n        \x3cp class\x3d"placeholder" ng-show\x3d"isHistoryEmpty()"\x3e\n            {{\'SETTINGS_CONNECTION_HISTORY.INFO_NO_HISTORY\' | translate}}\n        \x3c/p\x3e\n\n        \x3c!-- Pager for history list --\x3e\n        \x3cguac-pager page\x3d"historyEntryWrapperPage" page-size\x3d"25"\n                    items\x3d"historyEntryWrappers | orderBy : order.predicate"\x3e\x3c/guac-pager\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/settingsConnections.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settingsConnections.html",'\x3cdiv class\x3d"settings section connections" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- Connection management --\x3e\n    \x3cp\x3e{{\'SETTINGS_CONNECTIONS.HELP_CONNECTIONS\' | translate}}\x3c/p\x3e\n\n    \x3c!-- Connection management toolbar --\x3e\n    \x3cdiv class\x3d"toolbar"\x3e\n\n        \x3c!-- Form action buttons --\x3e\n        \x3cdiv class\x3d"action-buttons"\x3e\n\n            \x3ca class\x3d"add-connection button"\n               ng-show\x3d"canCreateConnections()"\n               href\x3d"#/manage/{{dataSource}}/connections/"\x3e{{\'SETTINGS_CONNECTIONS.ACTION_NEW_CONNECTION\' | translate}}\x3c/a\x3e\n\n            \x3ca class\x3d"add-connection-group button"\n               ng-show\x3d"canCreateConnectionGroups()"\n               href\x3d"#/manage/{{dataSource}}/connectionGroups/"\x3e{{\'SETTINGS_CONNECTIONS.ACTION_NEW_CONNECTION_GROUP\' | translate}}\x3c/a\x3e\n\n        \x3c/div\x3e\n\n        \x3c!-- Connection filter --\x3e\n        \x3cguac-group-list-filter connection-groups\x3d"rootGroups"\n            filtered-connection-groups\x3d"filteredRootGroups"\n            placeholder\x3d"\'SETTINGS_CONNECTIONS.FIELD_PLACEHOLDER_FILTER\' | translate"\n            connection-properties\x3d"filteredConnectionProperties"\n            connection-group-properties\x3d"filteredConnectionGroupProperties"\x3e\x3c/guac-group-list-filter\x3e\n\n    \x3c/div\x3e\n\n    \x3c!-- List of accessible connections and groups --\x3e\n    \x3cdiv class\x3d"connection-list"\x3e\n        \x3cguac-group-list\n            page-size\x3d"25"\n            connection-groups\x3d"filteredRootGroups"\n            decorator\x3d"rootItemDecorator"\n            templates\x3d"{\n\n                \'connection\'       : \'app/settings/templates/connection.html\',\n                \'sharing-profile\'  : \'app/settings/templates/sharingProfile.html\',\n                \'connection-group\' : \'app/settings/templates/connectionGroup.html\',\n\n                \'new-connection\'       : \'app/settings/templates/newConnection.html\',\n                \'new-sharing-profile\'  : \'app/settings/templates/newSharingProfile.html\',\n                \'new-connection-group\' : \'app/settings/templates/newConnectionGroup.html\'\n\n            }"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/settingsPreferences.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settingsPreferences.html",'\x3cdiv class\x3d"preferences" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- Locale settings --\x3e\n    \x3cdiv class\x3d"settings section locale"\x3e\n        \x3cp\x3e{{\'SETTINGS_PREFERENCES.HELP_LOCALE\' | translate}}\x3c/p\x3e\n        \x3cguac-form content\x3d"localeFields" model\x3d"preferences" namespace\x3d"\'SETTINGS_PREFERENCES\'"\x3e\x3c/guac-form\x3e\n    \x3c/div\x3e\n    \n    \x3c!-- Password update --\x3e\n    \x3ch2 class\x3d"header" ng-show\x3d"canChangePassword"\x3e{{\'SETTINGS_PREFERENCES.SECTION_HEADER_UPDATE_PASSWORD\' | translate}}\x3c/h2\x3e\n    \x3cdiv class\x3d"settings section update-password" ng-show\x3d"canChangePassword"\x3e\n        \x3cp\x3e{{\'SETTINGS_PREFERENCES.HELP_UPDATE_PASSWORD\' | translate}}\x3c/p\x3e\n\n        \x3c!-- Password editor --\x3e\n        \x3cdiv class\x3d"form"\x3e\n            \x3ctable class\x3d"fields"\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'SETTINGS_PREFERENCES.FIELD_HEADER_PASSWORD_OLD\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\x3cinput ng-model\x3d"oldPassword" type\x3d"password" /\x3e\x3c/td\x3e\n                \x3c/tr\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'SETTINGS_PREFERENCES.FIELD_HEADER_PASSWORD_NEW\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\x3cinput ng-model\x3d"newPassword" type\x3d"password" /\x3e\x3c/td\x3e\n                \x3c/tr\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e{{\'SETTINGS_PREFERENCES.FIELD_HEADER_PASSWORD_NEW_AGAIN\' | translate}}\x3c/th\x3e\n                    \x3ctd\x3e\x3cinput ng-model\x3d"newPasswordMatch" type\x3d"password" /\x3e\x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Form action buttons --\x3e\n        \x3cdiv class\x3d"action-buttons"\x3e\n            \x3cbutton class\x3d"change-password" ng-click\x3d"updatePassword()"\x3e{{\'SETTINGS_PREFERENCES.ACTION_UPDATE_PASSWORD\' | translate}}\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Input method --\x3e\n    \x3ch2 class\x3d"header"\x3e{{\'SETTINGS_PREFERENCES.SECTION_HEADER_DEFAULT_INPUT_METHOD\' | translate}}\x3c/h2\x3e\n    \x3cdiv class\x3d"settings section input-method"\x3e\n        \x3cp\x3e{{\'SETTINGS_PREFERENCES.HELP_DEFAULT_INPUT_METHOD\' | translate}}\x3c/p\x3e\n        \x3cdiv class\x3d"choices"\x3e\n\n            \x3c!-- No IME --\x3e\n            \x3cdiv class\x3d"choice"\x3e\n                \x3clabel\x3e\x3cinput id\x3d"ime-none" name\x3d"input-method" ng-model\x3d"preferences.inputMethod" type\x3d"radio" value\x3d"none"/\x3e {{\'SETTINGS_PREFERENCES.NAME_INPUT_METHOD_NONE\' | translate}}\x3c/label\x3e\n                \x3cp class\x3d"caption"\x3e\x3clabel for\x3d"ime-none"\x3e{{\'SETTINGS_PREFERENCES.HELP_INPUT_METHOD_NONE\' | translate}}\x3c/label\x3e\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Text input --\x3e\n            \x3cdiv class\x3d"choice"\x3e\n                \x3clabel\x3e\x3cinput id\x3d"ime-text" name\x3d"input-method" ng-model\x3d"preferences.inputMethod" type\x3d"radio" value\x3d"text"/\x3e {{\'SETTINGS_PREFERENCES.NAME_INPUT_METHOD_TEXT\' | translate}}\x3c/label\x3e\n                \x3cp class\x3d"caption"\x3e\x3clabel for\x3d"ime-text"\x3e{{\'SETTINGS_PREFERENCES.HELP_INPUT_METHOD_TEXT\' | translate}} \x3c/label\x3e\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Guac OSK --\x3e\n            \x3cdiv class\x3d"choice"\x3e\n                \x3clabel\x3e\x3cinput id\x3d"ime-osk" name\x3d"input-method" ng-model\x3d"preferences.inputMethod" type\x3d"radio" value\x3d"osk"/\x3e {{\'SETTINGS_PREFERENCES.NAME_INPUT_METHOD_OSK\' | translate}}\x3c/label\x3e\n                \x3cp class\x3d"caption"\x3e\x3clabel for\x3d"ime-osk"\x3e{{\'SETTINGS_PREFERENCES.HELP_INPUT_METHOD_OSK\' | translate}}\x3c/label\x3e\x3c/p\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/settingsSessions.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settingsSessions.html",'\x3cdiv class\x3d"settings section sessions" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- User Session management --\x3e\n    \x3cp\x3e{{\'SETTINGS_SESSIONS.HELP_SESSIONS\' | translate}}\x3c/p\x3e\n\n    \x3c!-- Form action buttons --\x3e\n    \x3cdiv class\x3d"action-buttons"\x3e\n        \x3cbutton class\x3d"delete-sessions danger" ng-disabled\x3d"!canDeleteSessions()" ng-click\x3d"deleteSessions()"\x3e{{\'SETTINGS_SESSIONS.ACTION_DELETE\' | translate}}\x3c/button\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Session filter --\x3e\n    \x3cguac-filter filtered-items\x3d"filteredWrappers" items\x3d"wrappers"\n                 placeholder\x3d"\'SETTINGS_SESSIONS.FIELD_PLACEHOLDER_FILTER\' | translate"\n                 properties\x3d"filteredWrapperProperties"\x3e\x3c/guac-filter\x3e\n\n    \x3c!-- List of current user sessions --\x3e\n    \x3ctable class\x3d"sorted session-list"\x3e\n        \x3cthead\x3e\n            \x3ctr\x3e\n                \x3cth class\x3d"select-session"\x3e\x3c/th\x3e\n                \x3cth guac-sort-order\x3d"wrapperOrder" guac-sort-property\x3d"\'activeConnection.username\'"\x3e\n                    {{\'SETTINGS_SESSIONS.TABLE_HEADER_SESSION_USERNAME\' | translate}}\n                \x3c/th\x3e\n                \x3cth guac-sort-order\x3d"wrapperOrder" guac-sort-property\x3d"\'startDate\'"\x3e\n                    {{\'SETTINGS_SESSIONS.TABLE_HEADER_SESSION_STARTDATE\' | translate}}\n                \x3c/th\x3e\n                \x3cth guac-sort-order\x3d"wrapperOrder" guac-sort-property\x3d"\'activeConnection.remoteHost\'"\x3e\n                    {{\'SETTINGS_SESSIONS.TABLE_HEADER_SESSION_REMOTEHOST\' | translate}}\n                \x3c/th\x3e\n                \x3cth guac-sort-order\x3d"wrapperOrder" guac-sort-property\x3d"\'name\'"\x3e\n                    {{\'SETTINGS_SESSIONS.TABLE_HEADER_SESSION_CONNECTION_NAME\' | translate}}\n                \x3c/th\x3e\n            \x3c/tr\x3e\n        \x3c/thead\x3e\n        \x3ctbody\x3e\n            \x3ctr ng-repeat\x3d"wrapper in wrapperPage" class\x3d"session"\x3e\n                \x3ctd class\x3d"select-session"\x3e\n                    \x3cinput ng-change\x3d"wrapperSelectionChange(wrapper)" type\x3d"checkbox" ng-model\x3d"wrapper.checked" /\x3e\n                \x3c/td\x3e\n                \x3ctd\x3e\x3cguac-user-item username\x3d"wrapper.activeConnection.username"\x3e\x3c/guac-user-item\x3e\x3c/td\x3e\n                \x3ctd\x3e{{wrapper.startDate}}\x3c/td\x3e\n                \x3ctd\x3e{{wrapper.activeConnection.remoteHost}}\x3c/td\x3e\n                \x3ctd\x3e\x3ca ng-href\x3d"{{\n                    getClientURL(wrapper.dataSource, wrapper.activeConnection)\n                }}"\x3e{{wrapper.name}}\x3c/a\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\n    \x3c!-- Text displayed if no sessions exist --\x3e\n    \x3cp class\x3d"placeholder" ng-hide\x3d"wrapperPage.length"\x3e\n        {{\'SETTINGS_SESSIONS.INFO_NO_SESSIONS\' | translate}}\n    \x3c/p\x3e\n\n    \x3c!-- Pager for session list --\x3e\n    \x3cguac-pager page\x3d"wrapperPage" page-size\x3d"25"\n                items\x3d"filteredWrappers | orderBy : wrapperOrder.predicate"\x3e\x3c/guac-pager\x3e\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/settingsUserGroups.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settingsUserGroups.html",'\x3cdiv class\x3d"settings section user-groups" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- User group management --\x3e\n    \x3cp\x3e{{\'SETTINGS_USER_GROUPS.HELP_USER_GROUPS\' | translate}}\x3c/p\x3e\n\n\n    \x3c!-- User management toolbar --\x3e\n    \x3cdiv class\x3d"toolbar"\x3e\n\n        \x3c!-- Form action buttons --\x3e\n        \x3cdiv class\x3d"action-buttons"\x3e\n            \x3ca class\x3d"add-user-group button" ng-show\x3d"canCreateUserGroups()"\n               href\x3d"#/manage/{{getDefaultDataSource()}}/userGroups/"\x3e{{\'SETTINGS_USER_GROUPS.ACTION_NEW_USER_GROUP\' | translate}}\x3c/a\x3e\n        \x3c/div\x3e\n\n        \x3c!-- User group filter --\x3e\n        \x3cguac-filter filtered-items\x3d"filteredManageableUserGroups" items\x3d"manageableUserGroups"\n                     placeholder\x3d"\'SETTINGS_USER_GROUPS.FIELD_PLACEHOLDER_FILTER\' | translate"\n                     properties\x3d"filteredUserGroupProperties"\x3e\x3c/guac-filter\x3e\n\n    \x3c/div\x3e\n\n    \x3c!-- List of user groups this user has access to --\x3e\n    \x3ctable class\x3d"sorted user-group-list"\x3e\n        \x3cthead\x3e\n            \x3ctr\x3e\n                \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'userGroup.identifier\'" class\x3d"user-group-name"\x3e\n                    {{\'SETTINGS_USER_GROUPS.TABLE_HEADER_USER_GROUP_NAME\' | translate}}\n                \x3c/th\x3e\n            \x3c/tr\x3e\n        \x3c/thead\x3e\n        \x3ctbody ng-class\x3d"{loading: !isLoaded()}"\x3e\n            \x3ctr ng-repeat\x3d"manageableUserGroup in manageableUserGroupPage" class\x3d"user-group"\x3e\n                \x3ctd class\x3d"user-group-name"\x3e\n                    \x3ca ng-href\x3d"#/manage/{{manageableUserGroup.dataSource}}/userGroups/{{manageableUserGroup.userGroup.identifier}}"\x3e\n                        \x3cdiv class\x3d"icon user-group"\x3e\x3c/div\x3e\n                        \x3cspan class\x3d"name"\x3e{{manageableUserGroup.userGroup.identifier}}\x3c/span\x3e\n                    \x3c/a\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\n    \x3c!-- Pager controls for user group list --\x3e\n    \x3cguac-pager page\x3d"manageableUserGroupPage" page-size\x3d"25"\n                items\x3d"filteredManageableUserGroups | orderBy : order.predicate"\x3e\x3c/guac-pager\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/settingsUsers.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/settingsUsers.html",'\x3cdiv class\x3d"settings section users" ng-class\x3d"{loading: !isLoaded()}"\x3e\n\n    \x3c!-- User management --\x3e\n    \x3cp\x3e{{\'SETTINGS_USERS.HELP_USERS\' | translate}}\x3c/p\x3e\n\n\n    \x3c!-- User management toolbar --\x3e\n    \x3cdiv class\x3d"toolbar"\x3e\n\n        \x3c!-- Form action buttons --\x3e\n        \x3cdiv class\x3d"action-buttons"\x3e\n            \x3ca class\x3d"add-user button" ng-show\x3d"canCreateUsers()"\n               href\x3d"#/manage/{{getDefaultDataSource()}}/users/"\x3e{{\'SETTINGS_USERS.ACTION_NEW_USER\' | translate}}\x3c/a\x3e\n        \x3c/div\x3e\n\n        \x3c!-- User filter --\x3e\n        \x3cguac-filter filtered-items\x3d"filteredManageableUsers" items\x3d"manageableUsers"\n                     placeholder\x3d"\'SETTINGS_USERS.FIELD_PLACEHOLDER_FILTER\' | translate"\n                     properties\x3d"filteredUserProperties"\x3e\x3c/guac-filter\x3e\n\n    \x3c/div\x3e\n\n    \x3c!-- List of users this user has access to --\x3e\n    \x3ctable class\x3d"sorted user-list"\x3e\n        \x3cthead\x3e\n            \x3ctr\x3e\n                \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'user.username\'" class\x3d"username"\x3e\n                    {{\'SETTINGS_USERS.TABLE_HEADER_USERNAME\' | translate}}\n                \x3c/th\x3e\n                \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'user.attributes[\\\'guac-organization\\\']\'" class\x3d"organization"\x3e\n                    {{\'SETTINGS_USERS.TABLE_HEADER_ORGANIZATION\' | translate}}\n                \x3c/th\x3e\n                \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'user.attributes[\\\'guac-full-name\\\']\'" class\x3d"full-name"\x3e\n                    {{\'SETTINGS_USERS.TABLE_HEADER_FULL_NAME\' | translate}}\n                \x3c/th\x3e\n                \x3cth guac-sort-order\x3d"order" guac-sort-property\x3d"\'user.lastActive\'" class\x3d"last-active"\x3e\n                    {{\'SETTINGS_USERS.TABLE_HEADER_LAST_ACTIVE\' | translate}}\n                \x3c/th\x3e\n            \x3c/tr\x3e\n        \x3c/thead\x3e\n        \x3ctbody ng-class\x3d"{loading: !isLoaded()}"\x3e\n            \x3ctr ng-repeat\x3d"manageableUser in manageableUserPage" class\x3d"user"\x3e\n                \x3ctd class\x3d"username"\x3e\n                    \x3ca ng-href\x3d"#/manage/{{manageableUser.dataSource}}/users/{{manageableUser.user.username}}"\x3e\n                        \x3cdiv class\x3d"icon user"\x3e\x3c/div\x3e\n                        \x3cspan class\x3d"name"\x3e{{manageableUser.user.username}}\x3c/span\x3e\n                    \x3c/a\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d"organization"\x3e{{manageableUser.user.attributes[\'guac-organization\']}}\x3c/td\x3e\n                \x3ctd class\x3d"full-name"\x3e{{manageableUser.user.attributes[\'guac-full-name\']}}\x3c/td\x3e\n                \x3ctd class\x3d"last-active"\x3e{{manageableUser.user.lastActive | date : dateFormat}}\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\n    \x3c!-- Pager controls for user list --\x3e\n    \x3cguac-pager page\x3d"manageableUserPage" page-size\x3d"25"\n                items\x3d"filteredManageableUsers | orderBy : order.predicate"\x3e\x3c/guac-pager\x3e\n\n\x3c/div\x3e')}]);
angular.module("app/settings/templates/sharingProfile.html",[]).run(["$templateCache",function(a){a.put("app/settings/templates/sharingProfile.html",'\x3ca ng-href\x3d"#/manage/{{item.dataSource}}/sharingProfiles/{{item.identifier}}"\x3e\n\n    \x3c!-- Sharing profile icon --\x3e\n    \x3cdiv class\x3d"icon type"\x3e\x3c/div\x3e\n\n    \x3c!-- Sharing profile name --\x3e\n    \x3cspan class\x3d"name"\x3e{{item.name}}\x3c/span\x3e\n\n\x3c/a\x3e')}]);
angular.module("app/textInput/templates/guacKey.html",[]).run(["$templateCache",function(a){a.put("app/textInput/templates/guacKey.html",'\x3cbutton class\x3d"key" ng-mousedown\x3d"updateKey($event)" ng-class\x3d"{pressed: pressed, sticky: sticky}"\x3e\n    {{text | translate}}\n\x3c/button\x3e')}]);angular.module("app/textInput/templates/guacTextInput.html",[]).run(["$templateCache",function(a){a.put("app/textInput/templates/guacTextInput.html",'\x3cdiv class\x3d"text-input"\x3e\n\n    \x3c!-- Text input target --\x3e\n    \x3cdiv class\x3d"text-input-field"\x3e\x3cdiv class\x3d"sent-history"\x3e\x3cdiv class\x3d"sent-text" ng-repeat\x3d"text in sentText track by $index"\x3e{{text}}\x3c/div\x3e\x3c/div\x3e\x3ctextarea rows\x3d"1" class\x3d"target" autocorrect\x3d"off" autocapitalize\x3d"off" autofocus\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"text-input-buttons"\x3e\x3cguac-key keysym\x3d"65507" sticky\x3d"true" text\x3d"\'CLIENT.NAME_KEY_CTRL\'" pressed\x3d"ctrlPressed"\x3e\x3c/guac-key\x3e\x3cguac-key keysym\x3d"65513" sticky\x3d"true" text\x3d"\'CLIENT.NAME_KEY_ALT\'" pressed\x3d"altPressed"\x3e\x3c/guac-key\x3e\x3cguac-key keysym\x3d"65307" text\x3d"\'CLIENT.NAME_KEY_ESC\'"\x3e\x3c/guac-key\x3e\x3cguac-key keysym\x3d"65289" text\x3d"\'CLIENT.NAME_KEY_TAB\'"\x3e\x3c/guac-key\x3e\x3c/div\x3e\n\n\x3c/div\x3e')}]);
angular.module("form").controller("terminalColorSchemeFieldController",["$scope","$injector",function(a,b){var e=b.get("ColorScheme");a.selectedColorScheme="";a.customColorScheme=new e;a.defaultPalette=(new e).colors;a.detailsShown=!1;a.lowIntensity=[0,1,2,3,4,5,6,7];a.highIntensity=[8,9,10,11,12,13,14,15];a.isCustom=function(){return"custom"===a.selectedColorScheme};a.showDetails=function(){a.detailsShown=!0};a.hideDetails=function(){a.detailsShown=!1};a.$watch("model",function(b){"custom"===a.selectedColorScheme||
b&&!_.includes(a.field.options,b)?(a.customColorScheme=e.fromString(b),a.selectedColorScheme="custom"):a.selectedColorScheme=b||""});a.$watch("selectedColorScheme",function(b){a.model=b?"custom"===b?e.toString(a.customColorScheme):b:""});a.$watch("customColorScheme",function(b){"custom"===a.selectedColorScheme&&(a.model=e.toString(b))},!0)}]);
angular.module("form").controller("textFieldController",["$scope","$injector",function(a,b){a.dataListId=null;a.field.options&&a.field.options.length&&(a.dataListId=a.fieldId+"-datalist")}]);angular.module("textInput",[]);
angular.module("form").controller("timeFieldController",["$scope","$injector",function(a,b){var e=b.get("$filter");a.modelOptions={updateOn:"blur",timezone:"UTC"};a.$watch("model",function(b){b?(b=new Date("1970-01-01T"+b+"Z"),b=isNaN(b.getTime())?null:b):b=null;a.typedValue=b});a.$watch("typedValue",function(b){a.model=b?e("date")(b,"HH:mm:ss","UTC"):""})}]);
angular.module("form").controller("timeZoneFieldController",["$scope","$injector",function(a,b){a.timeZones={Africa:{Abidjan:"Africa/Abidjan",Accra:"Africa/Accra","Addis Ababa":"Africa/Addis_Ababa",Algiers:"Africa/Algiers",Asmara:"Africa/Asmara",Asmera:"Africa/Asmera",Bamako:"Africa/Bamako",Bangui:"Africa/Bangui",Banjul:"Africa/Banjul",Bissau:"Africa/Bissau",Blantyre:"Africa/Blantyre",Brazzaville:"Africa/Brazzaville",Bujumbura:"Africa/Bujumbura",Cairo:"Africa/Cairo",Casablanca:"Africa/Casablanca",
Ceuta:"Africa/Ceuta",Conakry:"Africa/Conakry",Dakar:"Africa/Dakar","Dar es Salaam":"Africa/Dar_es_Salaam",Djibouti:"Africa/Djibouti",Douala:"Africa/Douala","El Aaiun":"Africa/El_Aaiun",Freetown:"Africa/Freetown",Gaborone:"Africa/Gaborone",Harare:"Africa/Harare",Johannesburg:"Africa/Johannesburg",Juba:"Africa/Juba",Kampala:"Africa/Kampala",Khartoum:"Africa/Khartoum",Kigali:"Africa/Kigali",Kinshasa:"Africa/Kinshasa",Lagos:"Africa/Lagos",Libreville:"Africa/Libreville",Lome:"Africa/Lome",Luanda:"Africa/Luanda",
Lubumbashi:"Africa/Lubumbashi",Lusaka:"Africa/Lusaka",Malabo:"Africa/Malabo",Maputo:"Africa/Maputo",Maseru:"Africa/Maseru",Mbabane:"Africa/Mbabane",Mogadishu:"Africa/Mogadishu",Monrovia:"Africa/Monrovia",Nairobi:"Africa/Nairobi",Ndjamena:"Africa/Ndjamena",Niamey:"Africa/Niamey",Nouakchott:"Africa/Nouakchott",Ouagadougou:"Africa/Ouagadougou","Porto-Novo":"Africa/Porto-Novo","Sao Tome":"Africa/Sao_Tome",Timbuktu:"Africa/Timbuktu",Tripoli:"Africa/Tripoli",Tunis:"Africa/Tunis",Windhoek:"Africa/Windhoek"},
America:{Adak:"America/Adak",Anchorage:"America/Anchorage",Anguilla:"America/Anguilla",Antigua:"America/Antigua",Araguaina:"America/Araguaina","Argentina / Buenos Aires":"America/Argentina/Buenos_Aires","Argentina / Catamarca":"America/Argentina/Catamarca","Argentina / Comodoro Rivadavia":"America/Argentina/ComodRivadavia","Argentina / Cordoba":"America/Argentina/Cordoba","Argentina / Jujuy":"America/Argentina/Jujuy","Argentina / La Rioja":"America/Argentina/La_Rioja","Argentina / Mendoza":"America/Argentina/Mendoza",
"Argentina / Rio Gallegos":"America/Argentina/Rio_Gallegos","Argentina / Salta":"America/Argentina/Salta","Argentina / San Juan":"America/Argentina/San_Juan","Argentina / San Luis":"America/Argentina/San_Luis","Argentina / Tucuman":"America/Argentina/Tucuman","Argentina / Ushuaia":"America/Argentina/Ushuaia",Aruba:"America/Aruba",Asuncion:"America/Asuncion",Atikokan:"America/Atikokan",Atka:"America/Atka",Bahia:"America/Bahia","Bahia Banderas":"America/Bahia_Banderas",Barbados:"America/Barbados",Belem:"America/Belem",
Belize:"America/Belize","Blanc-Sablon":"America/Blanc-Sablon","Boa Vista":"America/Boa_Vista",Bogota:"America/Bogota",Boise:"America/Boise","Buenos Aires":"America/Buenos_Aires","Cambridge Bay":"America/Cambridge_Bay","Campo Grande":"America/Campo_Grande",Cancun:"America/Cancun",Caracas:"America/Caracas",Catamarca:"America/Catamarca",Cayenne:"America/Cayenne",Cayman:"America/Cayman",Chicago:"America/Chicago",Chihuahua:"America/Chihuahua","Coral Harbour":"America/Coral_Harbour",Cordoba:"America/Cordoba",
"Costa Rica":"America/Costa_Rica",Creston:"America/Creston",Cuiaba:"America/Cuiaba",Curacao:"America/Curacao",Danmarkshavn:"America/Danmarkshavn",Dawson:"America/Dawson","Dawson Creek":"America/Dawson_Creek",Denver:"America/Denver",Detroit:"America/Detroit",Dominica:"America/Dominica",Edmonton:"America/Edmonton",Eirunepe:"America/Eirunepe","El Salvador":"America/El_Salvador",Ensenada:"America/Ensenada","Fort Wayne":"America/Fort_Wayne",Fortaleza:"America/Fortaleza","Glace Bay":"America/Glace_Bay",
Godthab:"America/Godthab","Goose Bay":"America/Goose_Bay","Grand Turk":"America/Grand_Turk",Grenada:"America/Grenada",Guadeloupe:"America/Guadeloupe",Guatemala:"America/Guatemala",Guayaquil:"America/Guayaquil",Guyana:"America/Guyana",Halifax:"America/Halifax",Havana:"America/Havana",Hermosillo:"America/Hermosillo","Indiana / Indianapolis":"America/Indiana/Indianapolis","Indiana / Knox":"America/Indiana/Knox","Indiana / Marengo":"America/Indiana/Marengo","Indiana / Petersburg":"America/Indiana/Petersburg",
"Indiana / Tell City":"America/Indiana/Tell_City","Indiana / Vevay":"America/Indiana/Vevay","Indiana / Vincennes":"America/Indiana/Vincennes","Indiana / Winamac":"America/Indiana/Winamac",Indianapolis:"America/Indianapolis",Inuvik:"America/Inuvik",Iqaluit:"America/Iqaluit",Jamaica:"America/Jamaica",Jujuy:"America/Jujuy",Juneau:"America/Juneau","Kentucky / Louisville":"America/Kentucky/Louisville","Kentucky / Monticello":"America/Kentucky/Monticello",Kralendijk:"America/Kralendijk","La Paz":"America/La_Paz",
Lima:"America/Lima","Los Angeles":"America/Los_Angeles",Louisville:"America/Louisville","Lower Princes":"America/Lower_Princes",Maceio:"America/Maceio",Managua:"America/Managua",Manaus:"America/Manaus",Marigot:"America/Marigot",Martinique:"America/Martinique",Matamoros:"America/Matamoros",Mazatlan:"America/Mazatlan",Mendoza:"America/Mendoza",Menominee:"America/Menominee",Merida:"America/Merida",Metlakatla:"America/Metlakatla","Mexico City":"America/Mexico_City",Miquelon:"America/Miquelon",Moncton:"America/Moncton",
Monterrey:"America/Monterrey",Montevideo:"America/Montevideo",Montreal:"America/Montreal",Montserrat:"America/Montserrat",Nassau:"America/Nassau","New York":"America/New_York",Nipigon:"America/Nipigon",Nome:"America/Nome",Noronha:"America/Noronha","North Dakota / Beulah":"America/North_Dakota/Beulah","North Dakota / Center":"America/North_Dakota/Center","North Dakota / New Salem":"America/North_Dakota/New_Salem",Ojinaga:"America/Ojinaga",Panama:"America/Panama",Pangnirtung:"America/Pangnirtung",Paramaribo:"America/Paramaribo",
Phoenix:"America/Phoenix","Port-au-Prince":"America/Port-au-Prince","Port of Spain":"America/Port_of_Spain","Porto Acre":"America/Porto_Acre","Porto Velho":"America/Porto_Velho","Puerto Rico":"America/Puerto_Rico","Rainy River":"America/Rainy_River","Rankin Inlet":"America/Rankin_Inlet",Recife:"America/Recife",Regina:"America/Regina",Resolute:"America/Resolute","Rio Branco":"America/Rio_Branco",Rosario:"America/Rosario","Santa Isabel":"America/Santa_Isabel",Santarem:"America/Santarem",Santiago:"America/Santiago",
"Santo Domingo":"America/Santo_Domingo","Sao Paulo":"America/Sao_Paulo",Scoresbysund:"America/Scoresbysund",Shiprock:"America/Shiprock",Sitka:"America/Sitka","St. Barthelemy":"America/St_Barthelemy","St. Johns":"America/St_Johns","St. Kitts":"America/St_Kitts","St. Lucia":"America/St_Lucia","St. Thomas":"America/St_Thomas","St. Vincent":"America/St_Vincent","Swift Current":"America/Swift_Current",Tegucigalpa:"America/Tegucigalpa",Thule:"America/Thule","Thunder Bay":"America/Thunder_Bay",Tijuana:"America/Tijuana",
Toronto:"America/Toronto",Tortola:"America/Tortola",Vancouver:"America/Vancouver",Virgin:"America/Virgin",Whitehorse:"America/Whitehorse",Winnipeg:"America/Winnipeg",Yakutat:"America/Yakutat",Yellowknife:"America/Yellowknife"},Antarctica:{Casey:"Antarctica/Casey",Davis:"Antarctica/Davis","Dumont d'Urville":"Antarctica/DumontDUrville",Macquarie:"Antarctica/Macquarie",Mawson:"Antarctica/Mawson",McMurdo:"Antarctica/McMurdo",Palmer:"Antarctica/Palmer",Rothera:"Antarctica/Rothera","South Pole":"Antarctica/South_Pole",
Syowa:"Antarctica/Syowa",Troll:"Antarctica/Troll",Vostok:"Antarctica/Vostok"},Arctic:{Longyearbyen:"Arctic/Longyearbyen"},Asia:{Aden:"Asia/Aden",Almaty:"Asia/Almaty",Amman:"Asia/Amman",Anadyr:"Asia/Anadyr",Aqtau:"Asia/Aqtau",Aqtobe:"Asia/Aqtobe",Ashgabat:"Asia/Ashgabat",Ashkhabad:"Asia/Ashkhabad",Baghdad:"Asia/Baghdad",Bahrain:"Asia/Bahrain",Baku:"Asia/Baku",Bangkok:"Asia/Bangkok",Beirut:"Asia/Beirut",Bishkek:"Asia/Bishkek",Brunei:"Asia/Brunei",Calcutta:"Asia/Calcutta",Chita:"Asia/Chita",Choibalsan:"Asia/Choibalsan",
Chongqing:"Asia/Chongqing",Colombo:"Asia/Colombo",Dacca:"Asia/Dacca",Damascus:"Asia/Damascus",Dhaka:"Asia/Dhaka",Dili:"Asia/Dili",Dubai:"Asia/Dubai",Dushanbe:"Asia/Dushanbe",Gaza:"Asia/Gaza",Harbin:"Asia/Harbin",Hebron:"Asia/Hebron","Ho Chi Minh":"Asia/Ho_Chi_Minh","Hong Kong":"Asia/Hong_Kong",Hovd:"Asia/Hovd",Irkutsk:"Asia/Irkutsk",Istanbul:"Asia/Istanbul",Jakarta:"Asia/Jakarta",Jayapura:"Asia/Jayapura",Jerusalem:"Asia/Jerusalem",Kabul:"Asia/Kabul",Kamchatka:"Asia/Kamchatka",Karachi:"Asia/Karachi",
Kashgar:"Asia/Kashgar",Kathmandu:"Asia/Kathmandu",Katmandu:"Asia/Katmandu",Khandyga:"Asia/Khandyga",Kolkata:"Asia/Kolkata",Krasnoyarsk:"Asia/Krasnoyarsk","Kuala Lumpur":"Asia/Kuala_Lumpur",Kuching:"Asia/Kuching",Kuwait:"Asia/Kuwait",Macao:"Asia/Macao",Macau:"Asia/Macau",Magadan:"Asia/Magadan",Makassar:"Asia/Makassar",Manila:"Asia/Manila",Muscat:"Asia/Muscat",Nicosia:"Asia/Nicosia",Novokuznetsk:"Asia/Novokuznetsk",Novosibirsk:"Asia/Novosibirsk",Omsk:"Asia/Omsk",Oral:"Asia/Oral","Phnom Penh":"Asia/Phnom_Penh",
Pontianak:"Asia/Pontianak",Pyongyang:"Asia/Pyongyang",Qatar:"Asia/Qatar",Qyzylorda:"Asia/Qyzylorda",Rangoon:"Asia/Rangoon",Riyadh:"Asia/Riyadh",Saigon:"Asia/Saigon",Sakhalin:"Asia/Sakhalin",Samarkand:"Asia/Samarkand",Seoul:"Asia/Seoul",Shanghai:"Asia/Shanghai",Singapore:"Asia/Singapore",Srednekolymsk:"Asia/Srednekolymsk",Taipei:"Asia/Taipei",Tashkent:"Asia/Tashkent",Tbilisi:"Asia/Tbilisi",Tehran:"Asia/Tehran","Tel Aviv":"Asia/Tel_Aviv",Thimbu:"Asia/Thimbu",Thimphu:"Asia/Thimphu",Tokyo:"Asia/Tokyo",
"Ujung Pandang":"Asia/Ujung_Pandang",Ulaanbaatar:"Asia/Ulaanbaatar","Ulan Bator":"Asia/Ulan_Bator",Urumqi:"Asia/Urumqi","Ust-Nera":"Asia/Ust-Nera",Vientiane:"Asia/Vientiane",Vladivostok:"Asia/Vladivostok",Yakutsk:"Asia/Yakutsk",Yekaterinburg:"Asia/Yekaterinburg",Yerevan:"Asia/Yerevan"},Atlantic:{Azores:"Atlantic/Azores",Bermuda:"Atlantic/Bermuda",Canary:"Atlantic/Canary","Cape Verde":"Atlantic/Cape_Verde",Faeroe:"Atlantic/Faeroe",Faroe:"Atlantic/Faroe","Jan Mayen":"Atlantic/Jan_Mayen",Madeira:"Atlantic/Madeira",
Reykjavik:"Atlantic/Reykjavik","South Georgia":"Atlantic/South_Georgia","St. Helena":"Atlantic/St_Helena",Stanley:"Atlantic/Stanley"},Australia:{Adelaide:"Australia/Adelaide",Brisbane:"Australia/Brisbane","Broken Hill":"Australia/Broken_Hill",Canberra:"Australia/Canberra",Currie:"Australia/Currie",Darwin:"Australia/Darwin",Eucla:"Australia/Eucla",Hobart:"Australia/Hobart",Lindeman:"Australia/Lindeman","Lord Howe":"Australia/Lord_Howe",Melbourne:"Australia/Melbourne",North:"Australia/North",Perth:"Australia/Perth",
Queensland:"Australia/Queensland",South:"Australia/South",Sydney:"Australia/Sydney",Tasmania:"Australia/Tasmania",Victoria:"Australia/Victoria",West:"Australia/West",Yancowinna:"Australia/Yancowinna"},Brazil:{Acre:"Brazil/Acre","Fernando de Noronha":"Brazil/DeNoronha",East:"Brazil/East",West:"Brazil/West"},Canada:{Atlantic:"Canada/Atlantic",Central:"Canada/Central",Eastern:"Canada/Eastern",Mountain:"Canada/Mountain",Newfoundland:"Canada/Newfoundland",Pacific:"Canada/Pacific",Saskatchewan:"Canada/Saskatchewan",
Yukon:"Canada/Yukon"},Chile:{Continental:"Chile/Continental","Easter Island":"Chile/EasterIsland"},Europe:{Amsterdam:"Europe/Amsterdam",Andorra:"Europe/Andorra",Athens:"Europe/Athens",Belfast:"Europe/Belfast",Belgrade:"Europe/Belgrade",Berlin:"Europe/Berlin",Bratislava:"Europe/Bratislava",Brussels:"Europe/Brussels",Bucharest:"Europe/Bucharest",Budapest:"Europe/Budapest",Busingen:"Europe/Busingen",Chisinau:"Europe/Chisinau",Copenhagen:"Europe/Copenhagen",Dublin:"Europe/Dublin",Gibraltar:"Europe/Gibraltar",
Guernsey:"Europe/Guernsey",Helsinki:"Europe/Helsinki","Isle of Man":"Europe/Isle_of_Man",Istanbul:"Europe/Istanbul",Jersey:"Europe/Jersey",Kaliningrad:"Europe/Kaliningrad",Kiev:"Europe/Kiev",Lisbon:"Europe/Lisbon",Ljubljana:"Europe/Ljubljana",London:"Europe/London",Luxembourg:"Europe/Luxembourg",Madrid:"Europe/Madrid",Malta:"Europe/Malta",Mariehamn:"Europe/Mariehamn",Minsk:"Europe/Minsk",Monaco:"Europe/Monaco",Moscow:"Europe/Moscow",Nicosia:"Europe/Nicosia",Oslo:"Europe/Oslo",Paris:"Europe/Paris",
Podgorica:"Europe/Podgorica",Prague:"Europe/Prague",Riga:"Europe/Riga",Rome:"Europe/Rome",Samara:"Europe/Samara","San Marino":"Europe/San_Marino",Sarajevo:"Europe/Sarajevo",Simferopol:"Europe/Simferopol",Skopje:"Europe/Skopje",Sofia:"Europe/Sofia",Stockholm:"Europe/Stockholm",Tallinn:"Europe/Tallinn",Tirane:"Europe/Tirane",Tiraspol:"Europe/Tiraspol",Uzhgorod:"Europe/Uzhgorod",Vaduz:"Europe/Vaduz",Vatican:"Europe/Vatican",Vienna:"Europe/Vienna",Vilnius:"Europe/Vilnius",Volgograd:"Europe/Volgograd",
Warsaw:"Europe/Warsaw",Zagreb:"Europe/Zagreb",Zaporozhye:"Europe/Zaporozhye",Zurich:"Europe/Zurich"},GMT:{"GMT-14":"Etc/GMT-14","GMT-13":"Etc/GMT-13","GMT-12":"Etc/GMT-12","GMT-11":"Etc/GMT-11","GMT-10":"Etc/GMT-10","GMT-9":"Etc/GMT-9","GMT-8":"Etc/GMT-8","GMT-7":"Etc/GMT-7","GMT-6":"Etc/GMT-6","GMT-5":"Etc/GMT-5","GMT-4":"Etc/GMT-4","GMT-3":"Etc/GMT-3","GMT-2":"Etc/GMT-2","GMT-1":"Etc/GMT-1","GMT+0":"Etc/GMT+0","GMT+1":"Etc/GMT+1","GMT+2":"Etc/GMT+2","GMT+3":"Etc/GMT+3","GMT+4":"Etc/GMT+4","GMT+5":"Etc/GMT+5",
"GMT+6":"Etc/GMT+6","GMT+7":"Etc/GMT+7","GMT+8":"Etc/GMT+8","GMT+9":"Etc/GMT+9","GMT+10":"Etc/GMT+10","GMT+11":"Etc/GMT+11","GMT+12":"Etc/GMT+12"},Indian:{Antananarivo:"Indian/Antananarivo",Chagos:"Indian/Chagos",Christmas:"Indian/Christmas",Cocos:"Indian/Cocos",Comoro:"Indian/Comoro",Kerguelen:"Indian/Kerguelen",Mahe:"Indian/Mahe",Maldives:"Indian/Maldives",Mauritius:"Indian/Mauritius",Mayotte:"Indian/Mayotte",Reunion:"Indian/Reunion"},Mexico:{"Baja Norte":"Mexico/BajaNorte","Baja Sur":"Mexico/BajaSur",
General:"Mexico/General"},Pacific:{Apia:"Pacific/Apia",Auckland:"Pacific/Auckland",Bougainville:"Pacific/Bougainville",Chatham:"Pacific/Chatham",Chuuk:"Pacific/Chuuk",Easter:"Pacific/Easter",Efate:"Pacific/Efate",Enderbury:"Pacific/Enderbury",Fakaofo:"Pacific/Fakaofo",Fiji:"Pacific/Fiji",Funafuti:"Pacific/Funafuti",Galapagos:"Pacific/Galapagos",Gambier:"Pacific/Gambier",Guadalcanal:"Pacific/Guadalcanal",Guam:"Pacific/Guam",Honolulu:"Pacific/Honolulu",Johnston:"Pacific/Johnston",Kiritimati:"Pacific/Kiritimati",
Kosrae:"Pacific/Kosrae",Kwajalein:"Pacific/Kwajalein",Majuro:"Pacific/Majuro",Marquesas:"Pacific/Marquesas",Midway:"Pacific/Midway",Nauru:"Pacific/Nauru",Niue:"Pacific/Niue",Norfolk:"Pacific/Norfolk",Noumea:"Pacific/Noumea","Pago Pago":"Pacific/Pago_Pago",Palau:"Pacific/Palau",Pitcairn:"Pacific/Pitcairn",Pohnpei:"Pacific/Pohnpei",Ponape:"Pacific/Ponape","Port Moresby":"Pacific/Port_Moresby",Rarotonga:"Pacific/Rarotonga",Saipan:"Pacific/Saipan",Samoa:"Pacific/Samoa",Tahiti:"Pacific/Tahiti",Tarawa:"Pacific/Tarawa",
Tongatapu:"Pacific/Tongatapu",Truk:"Pacific/Truk",Wake:"Pacific/Wake",Wallis:"Pacific/Wallis",Yap:"Pacific/Yap"}};a.regions=function(){var b=[""],c;for(c in a.timeZones)b.push(c);return b}();var e=function(){var b={},c;for(c in a.timeZones){var e=a.timeZones[c],h;for(h in e)b[e[h]]=c}return b}(),c=function(){var b={},c;for(c in a.timeZones){var e=a.timeZones[c],h=null,k=null,l;for(l in e){var m=e[l];if(!h||l<h)h=l,k=m}b[c]=k}return b}();a.region="";a.$watch("model",function(b){a.region=e[b]||"";c[a.region]=
b});a.$watch("region",function(b){a.model=c[b]||null})}]);angular.module("touch",[]);angular.module("rest").factory("TranslatableMessage",[function(){return function(a){a=a||{};this.key=a.key;this.variables=a.variables}}]);
angular.module("locale").factory("translationLoader",["$injector",function(a){var b=a.get("$http"),e=a.get("$q"),c=a.get("cacheService"),d=a.get("languageService"),f=function h(a,e,f){var k=f.shift();if(k){var l=function(){h(a,e,f)};d.getLanguages().then(function(d){k in d?b({cache:c.languages,method:"GET",url:"translations/"+encodeURIComponent(k)+".json"}).then(function(b){a.resolve(b.data)},l):l()},l)}else a.resolve("{}")};return function(a){var b=e.defer(),c=a.key;a=a.key;var d=a.indexOf("_");
a=-1===d?[a]:[a,a.substr(0,d)];f(b,c,a);return b.promise}}]);angular.module("locale").factory("translationStringService",[function(){return{canonicalize:function(a){return a.replace(/[^a-zA-Z0-9]+/g,"_").toUpperCase()}}}]);
angular.module("rest").factory("tunnelService",["$injector",function(a){var b=a.get("Error"),e=a.get("$q"),c=a.get("$window"),d=a.get("authenticationService"),f=a.get("requestService");a={};var g=c.document;a.getTunnels=function(){var a={token:d.getCurrentToken()};return f({method:"GET",url:"api/session/tunnels",params:a})};a.getProtocol=function(a){var b={token:d.getCurrentToken()};return f({method:"GET",url:"api/session/tunnels/"+encodeURIComponent(a)+"/protocol",params:b})};a.getSharingProfiles=
function(a){var b={token:d.getCurrentToken()};return f({method:"GET",url:"api/session/tunnels/"+encodeURIComponent(a)+"/activeConnection/connection/sharingProfiles",params:b})};a.getSharingCredentials=function(a,b){var c={token:d.getCurrentToken()};return f({method:"GET",url:"api/session/tunnels/"+encodeURIComponent(a)+"/activeConnection/sharingCredentials/"+encodeURIComponent(b),params:c})};a.downloadStream=function(a,b,e,f){a=(c.location.origin?c.location.origin:c.location.protocol+"//"+c.location.hostname+
(c.location.port?":"+c.location.port:""))+c.location.pathname+"api/session/tunnels/"+encodeURIComponent(a)+"/streams/"+encodeURIComponent(b.index)+"/"+encodeURIComponent(f.replace(/[\\\/]+/g,"_"))+"?token\x3d"+encodeURIComponent(d.getCurrentToken());var h=g.createElement("iframe");h.style.position="fixed";h.style.border="none";h.style.width="1px";h.style.height="1px";h.style.left="-1px";h.style.top="-1px";g.body.appendChild(h);h.onload=function(){g.body.removeChild(h)};b.onblob=function(){b.sendAck("OK",
Guacamole.Status.Code.SUCCESS)};b.onend=function(){c.setTimeout(function(){h.parentElement&&g.body.removeChild(h)},5E3)};h.src=a};a.uploadToStream=function(a,f,g,m){var h=e.defer();a=(c.location.origin?c.location.origin:c.location.protocol+"//"+c.location.hostname+(c.location.port?":"+c.location.port:""))+c.location.pathname+"api/session/tunnels/"+encodeURIComponent(a)+"/streams/"+encodeURIComponent(f.index)+"/"+encodeURIComponent(g.name.replace(/[\\\/]+/g,"_"))+"?token\x3d"+encodeURIComponent(d.getCurrentToken());
var k=new XMLHttpRequest;m&&k.upload&&k.upload.addEventListener("progress",function(a){m(a.loaded)});k.onreadystatechange=function(){4===k.readyState&&(200<=k.status&&300>k.status?h.resolve():"application/json"===k.getResponseHeader("Content-Type")?h.reject(angular.fromJson(k.responseText)):400<=k.status&&500>k.status?h.reject(new b({type:b.Type.STREAM_ERROR,statusCode:Guacamole.Status.Code.CLIENT_FORBIDDEN,message:"HTTP "+k.status})):h.reject(new b({type:b.Type.STREAM_ERROR,statusCode:Guacamole.Status.Code.INTERNAL_ERROR,
message:"HTTP "+k.status})))};k.open("POST",a,!0);k.send(g);return h.promise};return a}]);angular.module("rest").factory("User",[function(){var a=function(a){a=a||{};this.username=a.username;this.password=a.password;this.lastActive=a.lastActive;this.attributes=a.attributes||{}};a.Attributes={FULL_NAME:"guac-full-name",EMAIL_ADDRESS:"guac-email-address",ORGANIZATION:"guac-organization",ORGANIZATIONAL_ROLE:"guac-organizational-role"};return a}]);
angular.module("rest").factory("UserCredentials",["$injector",function(a){var b=a.get("$window"),e=a.get("Field"),c=function(a){a=a||{};this.expected=a.expected;this.values=a.values};c.getQueryParameters=function(a){var b=[];angular.forEach(a.expected,function(c){if(c.type===e.Type.QUERY_PARAMETER){c=c.name;var d=a.values[c];b.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(d))}});return b.join("\x26")};c.getLink=function(a){var d=(b.location.origin?b.location.origin:b.location.protocol+"//"+
b.location.hostname+(b.location.port?":"+b.location.port:""))+b.location.pathname+"#/";(a=c.getQueryParameters(a))&&(d+="?"+a);return d};return c}]);angular.module("rest").factory("UserGroup",[function(){return function(a){a=a||{};this.identifier=a.identifier;this.attributes=a.attributes||{}}}]);
angular.module("rest").factory("userGroupService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService");return{getUserGroups:function(a,f){var d={token:e.getCurrentToken()};f&&(d.permission=f);return b({cache:c.users,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/userGroups",params:d})},getUserGroup:function(a,f){var d={token:e.getCurrentToken()};return b({cache:c.users,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+
"/userGroups/"+encodeURIComponent(f),params:d})},deleteUserGroup:function(a,f){var d={token:e.getCurrentToken()};return b({method:"DELETE",url:"api/session/data/"+encodeURIComponent(a)+"/userGroups/"+encodeURIComponent(f.identifier),params:d}).then(function(){c.users.removeAll()})},createUserGroup:function(a,f){var d={token:e.getCurrentToken()};return b({method:"POST",url:"api/session/data/"+encodeURIComponent(a)+"/userGroups",params:d,data:f}).then(function(){c.users.removeAll()})},saveUserGroup:function(a,
f){var d={token:e.getCurrentToken()};return b({method:"PUT",url:"api/session/data/"+encodeURIComponent(a)+"/userGroups/"+encodeURIComponent(f.identifier),params:d,data:f}).then(function(){c.users.removeAll()})}}}]);
angular.module("navigation").factory("userPageService",["$injector",function(a){var b=a.get("ClientIdentifier"),e=a.get("ConnectionGroup"),c=a.get("PageDefinition"),d=a.get("PermissionSet"),f=a.get("$q"),g=a.get("authenticationService"),h=a.get("connectionGroupService"),k=a.get("dataSourceService"),l=a.get("permissionService"),m=a.get("requestService"),n=a.get("translationStringService"),q={},p=new c({name:"USER_MENU.ACTION_NAVIGATE_HOME",url:"/"}),t=function(a,b){if(2<v(b).length)return p;a=q.getClientPages(a);
return 1===a.length?a[0]:p},u=function x(a,d,f){angular.forEach(f.childConnections,function(e){a.push(new c({name:e.name,url:"/client/"+b.toString({dataSource:d,type:b.Types.CONNECTION,id:e.identifier})}))});angular.forEach(f.childConnectionGroups,function(f){f.type===e.Type.BALANCING&&a.push(new c({name:f.name,url:"/client/"+b.toString({dataSource:d,type:b.Types.CONNECTION_GROUP,id:f.identifier})}));x(a,d,f)})};q.getClientPages=function(a){var b=[],c;for(c in a)u(b,c,a[c]);return b};q.getHomePage=
function(){var a=f.defer(),b=k.apply(h.getConnectionGroupTree,g.getAvailableDataSources(),e.ROOT_IDENTIFIER),c=k.apply(l.getPermissions,g.getAvailableDataSources(),g.getCurrentUsername());f.all({rootGroups:b,permissionsSets:c}).then(function(b){a.resolve(t(b.rootGroups,b.permissionsSets))},m.DIE);return a.promise};var v=function(a){var b=[],f=[],h=[],k=[],l=[];angular.forEach(g.getAvailableDataSources(),function(b){var c=a[b];c&&(c=angular.copy(c),d.removeConnectionGroupPermission(c,d.ObjectPermissionType.UPDATE,
e.ROOT_IDENTIFIER),d.removeUserPermission(c,d.ObjectPermissionType.UPDATE,g.getCurrentUsername()),(d.hasSystemPermission(c,d.SystemPermissionType.ADMINISTER)||d.hasSystemPermission(c,d.SystemPermissionType.CREATE_USER)||d.hasUserPermission(c,d.ObjectPermissionType.UPDATE)||d.hasUserPermission(c,d.ObjectPermissionType.DELETE)||d.hasUserPermission(c,d.ObjectPermissionType.ADMINISTER))&&f.push(b),(d.hasSystemPermission(c,d.SystemPermissionType.ADMINISTER)||d.hasSystemPermission(c,d.SystemPermissionType.CREATE_USER_GROUP)||
d.hasUserGroupPermission(c,d.ObjectPermissionType.UPDATE)||d.hasUserGroupPermission(c,d.ObjectPermissionType.DELETE)||d.hasUserGroupPermission(c,d.ObjectPermissionType.ADMINISTER))&&h.push(b),(d.hasSystemPermission(c,d.SystemPermissionType.ADMINISTER)||d.hasSystemPermission(c,d.SystemPermissionType.CREATE_CONNECTION)||d.hasSystemPermission(c,d.SystemPermissionType.CREATE_CONNECTION_GROUP)||d.hasConnectionPermission(c,d.ObjectPermissionType.UPDATE)||d.hasConnectionGroupPermission(c,d.ObjectPermissionType.UPDATE)||
d.hasConnectionPermission(c,d.ObjectPermissionType.DELETE)||d.hasConnectionGroupPermission(c,d.ObjectPermissionType.DELETE)||d.hasConnectionPermission(c,d.ObjectPermissionType.ADMINISTER)||d.hasConnectionGroupPermission(c,d.ObjectPermissionType.ADMINISTER))&&k.push(b),d.hasSystemPermission(c,d.SystemPermissionType.ADMINISTER)&&l.push(b))});b.push(new c({name:"USER_MENU.ACTION_MANAGE_SESSIONS",url:"/settings/sessions"}));angular.forEach(l,function(a){b.push(new c({name:["USER_MENU.ACTION_VIEW_HISTORY",
n.canonicalize("DATA_SOURCE_"+a)+".NAME"],url:"/settings/"+encodeURIComponent(a)+"/history"}))});f.length&&b.push(new c({name:"USER_MENU.ACTION_MANAGE_USERS",url:"/settings/users"}));h.length&&b.push(new c({name:"USER_MENU.ACTION_MANAGE_USER_GROUPS",url:"/settings/userGroups"}));angular.forEach(k,function(a){b.push(new c({name:["USER_MENU.ACTION_MANAGE_CONNECTIONS",n.canonicalize("DATA_SOURCE_"+a)+".NAME"],url:"/settings/"+encodeURIComponent(a)+"/connections"}))});b.push(new c({name:"USER_MENU.ACTION_MANAGE_PREFERENCES",
url:"/settings/preferences"}));return b};q.getSettingsPages=function(){var a=f.defer();k.apply(l.getEffectivePermissions,g.getAvailableDataSources(),g.getCurrentUsername()).then(function(b){a.resolve(v(b))},m.DIE);return a.promise};var r=function(a,b){var d=[];a=t(a,b);b=v(b);(a===p||b.length)&&d.push(a);b.length&&d.push(new c({name:"USER_MENU.ACTION_MANAGE_SETTINGS",url:b[0].url}));return d};q.getMainPages=function(){var a=f.defer(),b=null,c=null,d=function(){b&&c&&a.resolve(r(b,c))};k.apply(h.getConnectionGroupTree,
g.getAvailableDataSources(),e.ROOT_IDENTIFIER).then(function(a){b=a;d()},m.DIE);k.apply(l.getEffectivePermissions,g.getAvailableDataSources(),g.getCurrentUsername()).then(function(a){c=a;d()},m.DIE);return a.promise};return q}]);angular.module("rest").factory("UserPasswordUpdate",[function(){return function(a){a=a||{};this.oldPassword=a.oldPassword;this.newPassword=a.newPassword}}]);
angular.module("rest").factory("userService",["$injector",function(a){var b=a.get("requestService"),e=a.get("authenticationService"),c=a.get("cacheService"),d=a.get("UserPasswordUpdate");return{getUsers:function(a,d){var f={token:e.getCurrentToken()};d&&(f.permission=d);return b({cache:c.users,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+"/users",params:f})},getUser:function(a,d){var f={token:e.getCurrentToken()};return b({cache:c.users,method:"GET",url:"api/session/data/"+encodeURIComponent(a)+
"/users/"+encodeURIComponent(d),params:f})},deleteUser:function(a,d){var f={token:e.getCurrentToken()};return b({method:"DELETE",url:"api/session/data/"+encodeURIComponent(a)+"/users/"+encodeURIComponent(d.username),params:f}).then(function(){c.users.removeAll()})},createUser:function(a,d){var f={token:e.getCurrentToken()};return b({method:"POST",url:"api/session/data/"+encodeURIComponent(a)+"/users",params:f,data:d}).then(function(){c.users.removeAll()})},saveUser:function(a,d){var f={token:e.getCurrentToken()};
return b({method:"PUT",url:"api/session/data/"+encodeURIComponent(a)+"/users/"+encodeURIComponent(d.username),params:f,data:d}).then(function(){c.users.removeAll()})},updateUserPassword:function(a,g,h,k){var f={token:e.getCurrentToken()};return b({method:"PUT",url:"api/session/data/"+encodeURIComponent(a)+"/users/"+encodeURIComponent(g)+"/password",params:f,data:new d({oldPassword:h,newPassword:k})}).then(function(){c.users.removeAll()})}}}]);
